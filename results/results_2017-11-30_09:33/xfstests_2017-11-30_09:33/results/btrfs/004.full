*** mkfs -dsize=2097152000

btrfs-progs v4.14-36-gaf322ba5
See http://btrfs.wiki.kernel.org for more information.

Detected a SSD, turning off metadata duplication.  Mkfs with -m dup if you want to force metadata duplication.
Label:              (null)
UUID:               8309916c-7f31-4312-9af4-093d225efc5d
Node size:          16384
Sector size:        4096
Filesystem size:    1.95GiB
Block group profiles:
  Data:             single            8.00MiB
  Metadata:         single            8.00MiB
  System:           single            4.00MiB
SSD detected:       yes
Incompat features:  extref, skinny-metadata
Number of devices:  1
Devices:
   ID        SIZE  PATH
    1     1.95GiB  /dev/xvdc

# _scratch_mount
# ./ltp/fsstress -d /mnt/scratch -w -p 1 -n 2000
seed = 1511661486
# /bin/btrfs subvolume snapshot /mnt/scratch /mnt/scratch/snap1
Create a snapshot of '/mnt/scratch' in '/mnt/scratch/snap1'
# _scratch_unmount
# _scratch_mount -o compress=lzo
# ./ltp/fsstress -d /mnt/scratch -p 1 -n 4000 -z -f chown=3 -f link=1 -f mkdir=2 -f mknod=2 -f rename=2 -f setxattr=1 -f symlink=2
seed = 1511126178
# ./ltp/fsstress -d /mnt/scratch/next -w -p 1 -n 2000
seed = 1511629144
# _scratch_unmount
# _scratch_mount -o atime
background noise by 32487
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511110452
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d4d/fa4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d4d/fa4 is 139513 (35 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      34:      60859..     60864:      6:         29: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d4d/fa4: 1 extent found
after filter: 249278464#24576#118784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/fa4
387
# /bin/btrfs inspect-internal logical-resolve -P 249278464 /mnt/scratch
inode 387 offset 118784 root 258
inode 387 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f151
/mnt/scratch/snap1/p0/d5/d7/d4d/fa4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/f5f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/f5f is 1998245 (488 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      31:       4064..      4078:     15:         17: unwritten,shared
   1:       45..      53:       4676..      4684:      9:       4092: shared
   2:      125..     125:       3074..      3074:      1:       4756: unwritten,shared
   3:      126..     146:       3866..      3886:     21:       3075: shared
   4:      147..     202:       4754..      4809:     56:       3887: unwritten,shared
   5:      203..     214:       4810..      4821:     12:             shared
   6:      215..     215:       4030..      4030:      1:       4822: shared
   7:      216..     231:       3450..      3465:     16:       4031: shared
   8:      232..     233:       3562..      3563:      2:       3466: shared
   9:      234..     301:       3564..      3631:     68:             unwritten,shared
  10:      302..     302:       3632..      3632:      1:             shared
  11:      422..     449:      59597..     59624:     28:       3752: shared
  12:      450..     450:      58862..     58862:      1:      59625: shared
  13:      455..     455:       3242..      3242:      1:      58867: shared
  14:      479..     487:      68690..     68698:      9:       3266: shared,eof
  15:      644..     706:      62742..     62804:     63:      68855: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/f5f: 13 extents found
after filter: 16646144#61440#69632#unwritten,shared 19152896#36864#184320#shared 12591104#4096#512000#unwritten,shared 15835136#86016#516096#shared 19472384#229376#602112#unwritten,shared 19701760#49152#831488#shared 16506880#4096#880640#shared 14131200#65536#884736#shared 14589952#8192#950272#shared 14598144#278528#958464#unwritten,shared 14876672#4096#1236992#shared 244109312#114688#1728512#shared 241098752#4096#1843200#shared 13279232#4096#1863680#shared 281354240#36864#1961984#shared,eof 256991232#258048#2637824#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 16646144 /mnt/scratch
inode 272 offset 69632 root 258
inode 272 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 19152896 /mnt/scratch
inode 272 offset 184320 root 258
inode 272 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 12591104 /mnt/scratch
inode 272 offset 512000 root 258
inode 272 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 15835136 /mnt/scratch
inode 272 offset 516096 root 258
inode 272 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 19472384 /mnt/scratch
inode 272 offset 602112 root 258
inode 272 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 19701760 /mnt/scratch
inode 272 offset 831488 root 258
inode 272 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 16506880 /mnt/scratch
inode 272 offset 880640 root 258
inode 272 offset 880640 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 14131200 /mnt/scratch
inode 272 offset 884736 root 258
inode 272 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 14589952 /mnt/scratch
inode 272 offset 950272 root 258
inode 272 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 14598144 /mnt/scratch
inode 272 offset 958464 root 258
inode 272 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 14876672 /mnt/scratch
inode 272 offset 1236992 root 258
inode 272 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 244109312 /mnt/scratch
inode 272 offset 1728512 root 258
inode 272 offset 1728512 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 241098752 /mnt/scratch
inode 272 offset 1843200 root 258
inode 272 offset 1843200 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 13279232 /mnt/scratch
inode 272 offset 1863680 root 258
inode 272 offset 1863680 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 281354240 /mnt/scratch
inode 272 offset 1961984 root 258
inode 272 offset 1961984 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5f
272
# /bin/btrfs inspect-internal logical-resolve -P 256991232 /mnt/scratch
inode 272 offset 2637824 root 258
inode 272 offset 2637824 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f5f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b is 2834432 (692 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      242..     272:      66207..     66237:     31:        242: shared
   1:      273..     273:      58467..     58467:      1:      66238: shared
   2:      439..     439:       3560..      3560:      1:      58633: shared
   3:      676..     684:      58580..     58588:      9:       3797: shared
   4:      685..     691:       5082..      5088:      7:      58589: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b: 5 extents found
after filter: 271183872#126976#991232#shared 239480832#4096#1118208#shared 14581760#4096#1798144#shared 239943680#36864#2768896#shared 20815872#28672#2805760#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
510
# /bin/btrfs inspect-internal logical-resolve -P 271183872 /mnt/scratch
inode 510 offset 991232 root 258
inode 510 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
510
# /bin/btrfs inspect-internal logical-resolve -P 239480832 /mnt/scratch
inode 510 offset 1118208 root 258
inode 510 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
510
# /bin/btrfs inspect-internal logical-resolve -P 14581760 /mnt/scratch
inode 510 offset 1798144 root 258
inode 510 offset 1798144 root 5
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
510
# /bin/btrfs inspect-internal logical-resolve -P 239943680 /mnt/scratch
inode 510 offset 2768896 root 258
inode 510 offset 2768896 root 5
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
510
# /bin/btrfs inspect-internal logical-resolve -P 20815872 /mnt/scratch
inode 510 offset 2805760 root 258
inode 510 offset 2805760 root 5
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f13b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f1a7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f1a7 is 457206 (112 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      15:      59321..     59321:      1:         15: shared
   1:       16..      16:      58865..     58865:      1:      59322: last,shared
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f1a7: 2 extents found
after filter: 242978816#4096#61440#shared 241111040#4096#65536#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f1a7
317
# /bin/btrfs inspect-internal logical-resolve -P 242978816 /mnt/scratch
inode 317 offset 61440 root 258
inode 317 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f1a7
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f9f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f1a7
317
# /bin/btrfs inspect-internal logical-resolve -P 241111040 /mnt/scratch
inode 317 offset 65536 root 258
inode 317 offset 65536 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f1a7
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f9f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/f13f is 995328 (243 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       24..      51:      67653..     67680:     28:         24: shared
   1:       52..      52:      65619..     65619:      1:      67681: shared
   2:       87..      97:      61229..     61239:     11:      65654: shared
   3:      237..     242:      60772..     60777:      6:      61379: shared,eof
   4:      330..     339:       3439..      3448:     10:      60865: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/f13f: 5 extents found
after filter: 277106688#114688#98304#shared 268775424#4096#212992#shared 250793984#45056#356352#shared 248922112#24576#970752#shared,eof 14086144#40960#1351680#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
514
# /bin/btrfs inspect-internal logical-resolve -P 277106688 /mnt/scratch
inode 514 offset 98304 root 258
inode 514 offset 98304 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
514
# /bin/btrfs inspect-internal logical-resolve -P 268775424 /mnt/scratch
inode 514 offset 212992 root 258
inode 514 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
514
# /bin/btrfs inspect-internal logical-resolve -P 250793984 /mnt/scratch
inode 514 offset 356352 root 258
inode 514 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
514
# /bin/btrfs inspect-internal logical-resolve -P 248922112 /mnt/scratch
inode 514 offset 970752 root 258
inode 514 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
514
# /bin/btrfs inspect-internal logical-resolve -P 14086144 /mnt/scratch
inode 514 offset 1351680 root 258
inode 514 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/f13f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f18a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f18a is 1146880 (280 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       72..      72:       3240..      3240:      1:         72: shared
   1:      186..     254:      68748..     68816:     69:       3354: unwritten,shared
   2:      266..     279:      68732..     68745:     14:      68828: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f18a: 3 extents found
after filter: 13271040#4096#294912#shared 281591808#282624#761856#unwritten,shared 281526272#57344#1089536#last,shared,eof 
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f18a
568
# /bin/btrfs inspect-internal logical-resolve -P 13271040 /mnt/scratch
inode 568 offset 294912 root 258
inode 568 offset 294912 root 5
# /bin/btrfs inspect-internal inode-resolve 568 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f18a
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511802504
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f18a
568
# /bin/btrfs inspect-internal logical-resolve -P 281591808 /mnt/scratch
inode 568 offset 761856 root 258
inode 568 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 568 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f18a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f18a
568
# /bin/btrfs inspect-internal logical-resolve -P 281526272 /mnt/scratch
inode 568 offset 1089536 root 258
inode 568 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 568 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f18a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f150
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f150 is 487073 (119 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       71..      82:       5068..      5079:     12:         71: last,shared
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f150: 1 extent found
after filter: 20758528#49152#290816#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f150
524
# /bin/btrfs inspect-internal logical-resolve -P 20758528 /mnt/scratch
inode 524 offset 290816 root 258
inode 524 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 524 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f150
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1 is 4710527 (1151 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      31:       4479..      4496:     18:         14: shared
   1:       60..      85:       3821..      3846:     26:       4525: shared
   2:      157..     166:       4628..      4637:     10:       3918: shared
   3:      241..     253:       4497..      4509:     13:       4712: shared
   4:      254..     269:      61501..     61516:     16:       4510: shared
   5:      270..     293:      69559..     69582:     24:      61517: shared
   6:      334..     353:       4519..      4538:     20:      69623: shared
   7:      354..     372:      60495..     60513:     19:       4539: shared
   8:      449..     461:      66478..     66490:     13:      60590: shared
   9:      582..     616:       4550..      4584:     35:      66611: shared
  10:      617..     686:      61650..     61719:     70:       4585: unwritten,shared
  11:      687..     704:       4585..      4602:     18:      61720: shared
  12:      705..     713:       4666..      4674:      9:       4603: shared
  13:      714..     714:       4612..      4612:      1:       4675: shared
  14:      846..     846:       3125..      3125:      1:       4744: shared
  15:      888..     895:      61533..     61540:      8:       3167: shared
  16:      958..     984:      66017..     66043:     27:      61603: shared
  17:     1020..    1020:       4032..      4032:      1:      66079: shared
  18:     1046..    1067:      58443..     58464:     22:       4058: shared
  19:     1068..    1068:      60829..     60829:      1:      58465: shared
  20:     1122..    1150:      66353..     66381:     29:      60883: shared,eof
  21:     1308..    1327:       4005..      4024:     20:      66539: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1: 22 extents found
after filter: 18345984#73728#57344#shared 15650816#106496#245760#shared 18956288#40960#643072#shared 18419712#53248#987136#shared 251908096#65536#1040384#shared 284913664#98304#1105920#shared 18509824#81920#1368064#shared 247787520#77824#1449984#shared 272293888#53248#1839104#shared 18636800#143360#2383872#shared 252518400#286720#2527232#unwritten,shared 18780160#73728#2813952#shared 19111936#36864#2887680#shared 18890752#4096#2924544#shared 12800000#4096#3465216#shared 252039168#32768#3637248#shared 270405632#110592#3923968#shared 16515072#4096#4177920#shared 239382528#90112#4284416#shared 249155584#4096#4374528#shared 271781888#118784#4595712#shared,eof 16404480#81920#5357568#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 18345984 /mnt/scratch
inode 273 offset 57344 root 258
inode 273 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 15650816 /mnt/scratch
inode 273 offset 245760 root 258
inode 273 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 18956288 /mnt/scratch
inode 273 offset 643072 root 258
inode 273 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 18419712 /mnt/scratch
inode 273 offset 987136 root 258
inode 273 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 251908096 /mnt/scratch
inode 273 offset 1040384 root 258
inode 273 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 284913664 /mnt/scratch
inode 273 offset 1105920 root 258
inode 273 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 18509824 /mnt/scratch
inode 273 offset 1368064 root 258
inode 273 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 247787520 /mnt/scratch
inode 273 offset 1449984 root 258
inode 273 offset 1449984 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 272293888 /mnt/scratch
inode 273 offset 1839104 root 258
inode 273 offset 1839104 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 18636800 /mnt/scratch
inode 273 offset 2383872 root 258
inode 273 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 252518400 /mnt/scratch
inode 273 offset 2527232 root 258
inode 273 offset 2527232 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 18780160 /mnt/scratch
inode 273 offset 2813952 root 258
inode 273 offset 2813952 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 19111936 /mnt/scratch
inode 273 offset 2887680 root 258
inode 273 offset 2887680 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 18890752 /mnt/scratch
inode 273 offset 2924544 root 258
inode 273 offset 2924544 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 12800000 /mnt/scratch
inode 273 offset 3465216 root 258
inode 273 offset 3465216 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 252039168 /mnt/scratch
inode 273 offset 3637248 root 258
inode 273 offset 3637248 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 270405632 /mnt/scratch
inode 273 offset 3923968 root 258
inode 273 offset 3923968 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 16515072 /mnt/scratch
inode 273 offset 4177920 root 258
inode 273 offset 4177920 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 239382528 /mnt/scratch
inode 273 offset 4284416 root 258
inode 273 offset 4284416 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 249155584 /mnt/scratch
inode 273 offset 4374528 root 258
inode 273 offset 4374528 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 271781888 /mnt/scratch
inode 273 offset 4595712 root 258
inode 273 offset 4595712 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
273
# /bin/btrfs inspect-internal logical-resolve -P 16404480 /mnt/scratch
inode 273 offset 5357568 root 258
inode 273 offset 5357568 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f177
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f177 is 806912 (197 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      193..     196:      60825..     60828:      4:        193: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f177: 1 extent found
after filter: 249139200#16384#790528#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f177
551
# /bin/btrfs inspect-internal logical-resolve -P 249139200 /mnt/scratch
inode 551 offset 790528 root 258
inode 551 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 551 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f177
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/d15b/f18b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/d15b/f18b is 1013926 (248 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..      46:       4324..      4324:      1:         46: shared
   1:       47..      47:       3241..      3241:      1:       4325: last,shared
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/d15b/f18b: 2 extents found
after filter: 17711104#4096#188416#shared 13275136#4096#192512#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/d15b/f18b
569
# /bin/btrfs inspect-internal logical-resolve -P 17711104 /mnt/scratch
inode 569 offset 188416 root 258
inode 569 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 569 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/d15b/f18b
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/d15b/f18b
569
# /bin/btrfs inspect-internal logical-resolve -P 13275136 /mnt/scratch
inode 569 offset 192512 root 258
inode 569 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 569 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/d15b/f18b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a is 1765376 (431 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       93..     108:      62355..     62370:     16:         93: shared
   1:      124..     149:      58368..     58393:     26:      62386: shared
   2:      191..     204:      66440..     66453:     14:      58435: shared
   3:      205..     216:      61068..     61079:     12:      66454: unwritten,shared
   4:      217..     217:      60521..     60521:      1:      61080: shared
   5:      426..     430:       3336..      3340:      5:      60730: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a: 6 extents found
after filter: 255406080#65536#380928#shared 239075328#106496#507904#shared 272138240#57344#782336#shared 250134528#49152#839680#unwritten,shared 247894016#4096#888832#shared 13664256#20480#1744896#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
294
# /bin/btrfs inspect-internal logical-resolve -P 255406080 /mnt/scratch
inode 294 offset 380928 root 258
inode 294 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
294
# /bin/btrfs inspect-internal logical-resolve -P 239075328 /mnt/scratch
inode 294 offset 507904 root 258
inode 294 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
294
# /bin/btrfs inspect-internal logical-resolve -P 272138240 /mnt/scratch
inode 294 offset 782336 root 258
inode 294 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
294
# /bin/btrfs inspect-internal logical-resolve -P 250134528 /mnt/scratch
inode 294 offset 839680 root 258
inode 294 offset 839680 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
seed = 1511653322
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
294
# /bin/btrfs inspect-internal logical-resolve -P 247894016 /mnt/scratch
inode 294 offset 888832 root 258
inode 294 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
294
# /bin/btrfs inspect-internal logical-resolve -P 13664256 /mnt/scratch
inode 294 offset 1744896 root 258
inode 294 offset 1744896 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/f199
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/f199 is 905216 (221 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      198..     220:      61995..     62017:     23:        198: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f199: 1 extent found
after filter: 253931520#94208#811008#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f199
577
# /bin/btrfs inspect-internal logical-resolve -P 253931520 /mnt/scratch
inode 577 offset 811008 root 258
inode 577 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 577 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f199
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/f17
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/f17 is 2104750 (514 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       19..      36:       4412..      4429:     18:         19: shared
   1:       78..      90:      66659..     66671:     13:       4471: shared
   2:       91..      96:       3470..      3475:      6:      66672: shared
   3:       97..     115:      58831..     58849:     19:       3476: shared
   4:      116..     117:       3348..      3349:      2:      58850: shared
   5:      118..     119:       3422..      3423:      2:       3350: shared
   6:      120..     120:       3561..      3561:      1:       3424: shared
   7:      182..     192:       4734..      4744:     11:       3623: shared
   8:      193..     193:       3913..      3913:      1:       4745: shared
   9:      211..     212:       3494..      3495:      2:       3931: shared
  10:      216..     231:      58589..     58604:     16:       3499: unwritten,shared
  11:      232..     237:      58605..     58610:      6:             shared
  12:      238..     264:      58611..     58637:     27:             unwritten,shared
  13:      265..     266:      58638..     58639:      2:             shared
  14:      267..     303:      58640..     58676:     37:             unwritten,shared
  15:      304..     314:      58677..     58687:     11:             shared
  16:      315..     315:      58863..     58863:      1:      58688: shared
  17:      316..     320:      58689..     58693:      5:      58864: unwritten,shared
  18:      321..     321:      58694..     58694:      1:             shared
  19:      392..     422:      69429..     69459:     31:      58765: last,shared
/mnt/scratch/snap1/p0/d5/d7/d13/f17: 14 extents found
after filter: 18071552#73728#77824#shared 273035264#53248#319488#shared 14213120#24576#372736#shared 240971776#77824#397312#shared 13713408#8192#475136#shared 14016512#8192#483328#shared 14585856#4096#491520#shared 19390464#45056#745472#shared 16027648#4096#790528#shared 14311424#8192#864256#shared 239980544#65536#884736#unwritten,shared 240046080#24576#950272#shared 240070656#110592#974848#unwritten,shared 240181248#8192#1085440#shared 240189440#151552#1093632#unwritten,shared 240340992#45056#1245184#shared 241102848#4096#1290240#shared 240390144#20480#1294336#unwritten,shared 240410624#4096#1314816#shared 284381184#126976#1605632#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 18071552 /mnt/scratch
inode 274 offset 77824 root 258
inode 274 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 273035264 /mnt/scratch
inode 274 offset 319488 root 258
inode 274 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 14213120 /mnt/scratch
inode 274 offset 372736 root 258
inode 274 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 240971776 /mnt/scratch
inode 274 offset 397312 root 258
inode 274 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 13713408 /mnt/scratch
inode 274 offset 475136 root 258
inode 274 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 14016512 /mnt/scratch
inode 274 offset 483328 root 258
inode 274 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 14585856 /mnt/scratch
inode 274 offset 491520 root 258
inode 274 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 19390464 /mnt/scratch
inode 274 offset 745472 root 258
inode 274 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 16027648 /mnt/scratch
inode 274 offset 790528 root 258
inode 274 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 14311424 /mnt/scratch
inode 274 offset 864256 root 258
inode 274 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 239980544 /mnt/scratch
inode 274 offset 884736 root 258
inode 274 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 240046080 /mnt/scratch
inode 274 offset 950272 root 258
inode 274 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 240070656 /mnt/scratch
inode 274 offset 974848 root 258
inode 274 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 240181248 /mnt/scratch
inode 274 offset 1085440 root 258
inode 274 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 240189440 /mnt/scratch
inode 274 offset 1093632 root 258
inode 274 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 240340992 /mnt/scratch
inode 274 offset 1245184 root 258
inode 274 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 241102848 /mnt/scratch
inode 274 offset 1290240 root 258
inode 274 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 240390144 /mnt/scratch
inode 274 offset 1294336 root 258
inode 274 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 240410624 /mnt/scratch
inode 274 offset 1314816 root 258
inode 274 offset 1314816 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f17
274
# /bin/btrfs inspect-internal logical-resolve -P 284381184 /mnt/scratch
inode 274 offset 1605632 root 258
inode 274 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d is 1973223 (482 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      227..     227:       3254..      3254:      1:        227: shared
   1:      228..     228:       4079..      4079:      1:       3255: shared
   2:      279..     285:      60532..     60538:      7:       4130: shared
   3:      307..     326:      58989..     59008:     20:      60560: shared
   4:      357..     378:       3170..      3191:     22:      59039: shared
   5:      414..     436:      61478..     61500:     23:       3227: shared
   6:      450..     452:       4707..      4709:      3:      61514: shared
   7:      480..     481:       4752..      4753:      2:       4737: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d: 8 extents found
after filter: 13328384#4096#929792#shared 16707584#4096#933888#shared 247939072#28672#1142784#shared 241618944#81920#1257472#shared 12984320#90112#1462272#shared 251813888#94208#1695744#shared 19279872#12288#1843200#shared 19464192#8192#1966080#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
309
# /bin/btrfs inspect-internal logical-resolve -P 13328384 /mnt/scratch
inode 309 offset 929792 root 258
inode 309 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
309
# /bin/btrfs inspect-internal logical-resolve -P 16707584 /mnt/scratch
inode 309 offset 933888 root 258
inode 309 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
309
# /bin/btrfs inspect-internal logical-resolve -P 247939072 /mnt/scratch
inode 309 offset 1142784 root 258
inode 309 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
309
# /bin/btrfs inspect-internal logical-resolve -P 241618944 /mnt/scratch
inode 309 offset 1257472 root 258
inode 309 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
309
# /bin/btrfs inspect-internal logical-resolve -P 12984320 /mnt/scratch
inode 309 offset 1462272 root 258
inode 309 offset 1462272 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
309
# /bin/btrfs inspect-internal logical-resolve -P 251813888 /mnt/scratch
inode 309 offset 1695744 root 258
inode 309 offset 1695744 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
309
# /bin/btrfs inspect-internal logical-resolve -P 19279872 /mnt/scratch
inode 309 offset 1843200 root 258
inode 309 offset 1843200 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
309
# /bin/btrfs inspect-internal logical-resolve -P 19464192 /mnt/scratch
inode 309 offset 1966080 root 258
inode 309 offset 1966080 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f3d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/f4a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/f4a is 3095649 (756 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       49..      91:      60175..     60217:     43:         49: unwritten,shared
   1:       92..      93:      60218..     60219:      2:             shared
   2:       94..     109:      60220..     60235:     16:             unwritten,shared
   3:      110..     110:      60236..     60236:      1:             shared
   4:      111..     118:      60237..     60244:      8:             unwritten,shared
   5:      119..     119:       3253..      3253:      1:      60245: shared
   6:      120..     151:      60245..     60276:     32:       3254: unwritten,shared
   7:      152..     154:      60663..     60665:      3:      60277: shared
   8:      155..     269:      60280..     60394:    115:      60666: unwritten,shared
   9:      292..     311:      59918..     59937:     20:      60417: shared
  10:      340..     358:      60411..     60429:     19:      59966: shared
  11:      362..     369:      60594..     60601:      8:      60433: shared
  12:      370..     377:      61463..     61470:      8:      60602: shared
  13:      378..     392:      64124..     64138:     15:      61471: shared
  14:      393..     412:      58501..     58520:     20:      64139: shared
  15:      419..     443:      61771..     61795:     25:      58527: shared
  16:      444..     444:      59061..     59061:      1:      61796: shared
  17:      564..     569:      59906..     59911:      6:      59181: shared
  18:      629..     648:      67308..     67327:     20:      59971: shared
  19:      672..     676:       3860..      3864:      5:      67351: shared
  20:      677..     677:       3090..      3090:      1:       3865: shared
  21:      733..     754:      63824..     63845:     22:       3146: shared
  22:      755..     755:      58822..     58822:      1:      63846: shared,eof
  23:      991..    1091:      61088..     61188:    101:      59058: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/f4a: 20 extents found
after filter: 246476800#176128#200704#unwritten,shared 246652928#8192#376832#shared 246661120#65536#385024#unwritten,shared 246726656#4096#450560#shared 246730752#32768#454656#unwritten,shared 13324288#4096#487424#shared 246763520#131072#491520#unwritten,shared 248475648#12288#622592#shared 246906880#471040#634880#unwritten,shared 245424128#81920#1196032#shared 247443456#77824#1392640#shared 248193024#32768#1482752#shared 251752448#32768#1515520#shared 262651904#61440#1548288#shared 239620096#81920#1609728#shared 253014016#102400#1716224#shared 241913856#4096#1818624#shared 245374976#24576#2310144#shared 275693568#81920#2576384#shared 15810560#20480#2752512#shared 12656640#4096#2772992#shared 261423104#90112#3002368#shared 240934912#4096#3092480#shared,eof 250216448#413696#4059136#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 246476800 /mnt/scratch
inode 301 offset 200704 root 258
inode 301 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 246652928 /mnt/scratch
inode 301 offset 376832 root 258
inode 301 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 246661120 /mnt/scratch
inode 301 offset 385024 root 258
inode 301 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 246726656 /mnt/scratch
inode 301 offset 450560 root 258
inode 301 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
background rm
301
# /bin/btrfs inspect-internal logical-resolve -P 246730752 /mnt/scratch
inode 301 offset 454656 root 258
inode 301 offset 454656 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511297211
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 13324288 /mnt/scratch
inode 301 offset 487424 root 258
inode 301 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 246763520 /mnt/scratch
inode 301 offset 491520 root 258
inode 301 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 248475648 /mnt/scratch
inode 301 offset 622592 root 258
inode 301 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 246906880 /mnt/scratch
inode 301 offset 634880 root 258
inode 301 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 245424128 /mnt/scratch
inode 301 offset 1196032 root 258
inode 301 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 247443456 /mnt/scratch
inode 301 offset 1392640 root 258
inode 301 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 248193024 /mnt/scratch
inode 301 offset 1482752 root 258
inode 301 offset 1482752 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 251752448 /mnt/scratch
inode 301 offset 1515520 root 258
inode 301 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 262651904 /mnt/scratch
inode 301 offset 1548288 root 258
inode 301 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 239620096 /mnt/scratch
inode 301 offset 1609728 root 258
inode 301 offset 1609728 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 253014016 /mnt/scratch
inode 301 offset 1716224 root 258
inode 301 offset 1716224 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 241913856 /mnt/scratch
inode 301 offset 1818624 root 258
inode 301 offset 1818624 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 245374976 /mnt/scratch
inode 301 offset 2310144 root 258
inode 301 offset 2310144 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 275693568 /mnt/scratch
inode 301 offset 2576384 root 258
inode 301 offset 2576384 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 15810560 /mnt/scratch
inode 301 offset 2752512 root 258
inode 301 offset 2752512 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 12656640 /mnt/scratch
inode 301 offset 2772992 root 258
inode 301 offset 2772992 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 261423104 /mnt/scratch
inode 301 offset 3002368 root 258
inode 301 offset 3002368 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 240934912 /mnt/scratch
inode 301 offset 3092480 root 258
inode 301 offset 3092480 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f4a
301
# /bin/btrfs inspect-internal logical-resolve -P 250216448 /mnt/scratch
inode 301 offset 4059136 root 258
inode 301 offset 4059136 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f1b9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f1b9 is 119057 (30 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       16..      29:      69077..     69090:     14:         16: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f1b9: 1 extent found
after filter: 282939392#57344#65536#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f1b9
595
# /bin/btrfs inspect-internal logical-resolve -P 282939392 /mnt/scratch
inode 595 offset 65536 root 258
inode 595 offset 65536 root 5
# /bin/btrfs inspect-internal inode-resolve 595 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f1b9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153 is 2506752 (612 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        6..      14:       3244..      3252:      9:          6: shared
   1:       38..      38:       4082..      4082:      1:       3276: shared
   2:       45..      74:      59512..     59541:     30:       4089: unwritten,shared
   3:       91..     103:      59009..     59021:     13:      59558: shared
   4:      106..     124:      59730..     59748:     19:      59024: shared
   5:      299..     319:      62082..     62102:     21:      59923: shared
   6:      320..     320:      58864..     58864:      1:      62103: shared
   7:      331..     340:      62483..     62492:     10:      58875: shared
   8:      481..     508:      64095..     64122:     28:      62633: shared
   9:      509..     509:      59594..     59594:      1:      64123: shared
  10:      603..     611:      60139..     60147:      9:      59688: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153: 11 extents found
after filter: 13287424#36864#24576#shared 16719872#4096#155648#shared 243761152#122880#184320#unwritten,shared 241700864#53248#372736#shared 244654080#77824#434176#shared 254287872#86016#1224704#shared 241106944#4096#1310720#shared 255930368#40960#1355776#shared 262533120#114688#1970176#shared 244097024#4096#2084864#shared 246329344#36864#2469888#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 13287424 /mnt/scratch
inode 339 offset 24576 root 258
inode 339 offset 24576 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 16719872 /mnt/scratch
inode 339 offset 155648 root 258
inode 339 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 243761152 /mnt/scratch
inode 339 offset 184320 root 258
inode 339 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 241700864 /mnt/scratch
inode 339 offset 372736 root 258
inode 339 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 244654080 /mnt/scratch
inode 339 offset 434176 root 258
inode 339 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 254287872 /mnt/scratch
inode 339 offset 1224704 root 258
inode 339 offset 1224704 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 241106944 /mnt/scratch
inode 339 offset 1310720 root 258
inode 339 offset 1310720 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 255930368 /mnt/scratch
inode 339 offset 1355776 root 258
inode 339 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 262533120 /mnt/scratch
inode 339 offset 1970176 root 258
inode 339 offset 1970176 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 244097024 /mnt/scratch
inode 339 offset 2084864 root 258
inode 339 offset 2084864 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
339
# /bin/btrfs inspect-internal logical-resolve -P 246329344 /mnt/scratch
inode 339 offset 2469888 root 258
inode 339 offset 2469888 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d7f/f153
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128 is 2064514 (505 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      31:      64560..     64576:     17:         15: shared
   1:      129..     150:      66672..     66693:     22:      64674: shared
   2:      151..     151:      60675..     60675:      1:      66694: shared
   3:      363..     504:      70235..     70376:    142:      60887: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128: 4 extents found
after filter: 264437760#69632#61440#shared 273088512#90112#528384#shared 248524800#4096#618496#shared 287682560#581632#1486848#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128
495
# /bin/btrfs inspect-internal logical-resolve -P 264437760 /mnt/scratch
inode 495 offset 61440 root 258
inode 495 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 495 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128
495
# /bin/btrfs inspect-internal logical-resolve -P 273088512 /mnt/scratch
inode 495 offset 528384 root 258
inode 495 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 495 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128
495
# /bin/btrfs inspect-internal logical-resolve -P 248524800 /mnt/scratch
inode 495 offset 618496 root 258
inode 495 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 495 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128
495
# /bin/btrfs inspect-internal logical-resolve -P 287682560 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512039387
inode 495 offset 1486848 root 258
inode 495 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 495 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/dbe/f128
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/f1c2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/f1c2 is 604789 (148 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      126..     147:      69392..     69413:     22:        126: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/f1c2: 1 extent found
after filter: 284229632#90112#516096#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/f1c2
602
# /bin/btrfs inspect-internal logical-resolve -P 284229632 /mnt/scratch
inode 602 offset 516096 root 258
inode 602 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 602 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/f1c2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/fb9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/fb9 is 2012214 (492 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       50..      50:       3077..      3077:      1:         50: shared
   1:       62..      64:       3331..      3333:      3:       3089: shared
   2:       74..      77:       3196..      3199:      4:       3343: shared
   3:      192..     194:       3109..      3111:      3:       3314: shared
   4:      254..     259:      68101..     68106:      6:       3171: shared
   5:      260..     262:      61974..     61976:      3:      68107: shared
   6:      263..     276:      68110..     68123:     14:      61977: shared
   7:      277..     277:      58474..     58474:      1:      68124: shared
   8:      358..     365:       3887..      3894:      8:      58555: shared
   9:      486..     491:      66200..     66205:      6:       4015: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/fb9: 10 extents found
after filter: 12603392#4096#204800#shared 13643776#12288#253952#shared 13090816#16384#303104#shared 12734464#12288#786432#shared 278941696#24576#1040384#shared 253845504#12288#1064960#shared 278978560#57344#1077248#shared 239509504#4096#1134592#shared 15921152#32768#1466368#shared 271155200#24576#1990656#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 12603392 /mnt/scratch
inode 265 offset 204800 root 258
inode 265 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 13643776 /mnt/scratch
inode 265 offset 253952 root 258
inode 265 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 13090816 /mnt/scratch
inode 265 offset 303104 root 258
inode 265 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 12734464 /mnt/scratch
inode 265 offset 786432 root 258
inode 265 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 278941696 /mnt/scratch
inode 265 offset 1040384 root 258
inode 265 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 253845504 /mnt/scratch
inode 265 offset 1064960 root 258
inode 265 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 278978560 /mnt/scratch
inode 265 offset 1077248 root 258
inode 265 offset 1077248 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 239509504 /mnt/scratch
inode 265 offset 1134592 root 258
inode 265 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 15921152 /mnt/scratch
inode 265 offset 1466368 root 258
inode 265 offset 1466368 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fb9
265
# /bin/btrfs inspect-internal logical-resolve -P 271155200 /mnt/scratch
inode 265 offset 1990656 root 258
inode 265 offset 1990656 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d1e1/f1f6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d1e1/f1f6 is 1003520 (245 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      234..     244:      61218..     61228:     11:        234: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d1e1/f1f6: 1 extent found
after filter: 250748928#45056#958464#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d1e1/f1f6
550
# /bin/btrfs inspect-internal logical-resolve -P 250748928 /mnt/scratch
inode 550 offset 958464 root 258
inode 550 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 550 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d1e1/f1f6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/f2d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/f2d is 4763696 (1164 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..     148:      59087..     59231:    145:          4: unwritten,shared
   1:      149..     161:       4720..      4732:     13:      59232: shared
   2:      162..     162:       4034..      4034:      1:       4733: shared
   3:      163..     251:      59232..     59320:     89:       4035: unwritten,shared
   4:      286..     290:      58984..     58988:      5:      59355: shared
   5:      676..     689:      59071..     59084:     14:      59374: shared
   6:      690..     690:      59086..     59086:      1:      59085: shared
   7:      729..     734:      67114..     67119:      6:      59125: shared
   8:      889..     903:      60844..     60858:     15:      67274: shared
   9:     1143..    1163:      70646..     70666:     21:      61098: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/f2d: 10 extents found
after filter: 242020352#593920#16384#unwritten,shared 19333120#53248#610304#shared 16523264#4096#663552#shared 242614272#364544#667648#unwritten,shared 241598464#20480#1171456#shared 241954816#57344#2768896#shared 242016256#4096#2826240#shared 274898944#24576#2985984#shared 249217024#61440#3641344#shared 289366016#86016#4681728#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 242020352 /mnt/scratch
inode 297 offset 16384 root 258
inode 297 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 19333120 /mnt/scratch
inode 297 offset 610304 root 258
inode 297 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 16523264 /mnt/scratch
inode 297 offset 663552 root 258
inode 297 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 242614272 /mnt/scratch
inode 297 offset 667648 root 258
inode 297 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 241598464 /mnt/scratch
inode 297 offset 1171456 root 258
inode 297 offset 1171456 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 241954816 /mnt/scratch
inode 297 offset 2768896 root 258
inode 297 offset 2768896 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 242016256 /mnt/scratch
inode 297 offset 2826240 root 258
inode 297 offset 2826240 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 274898944 /mnt/scratch
inode 297 offset 2985984 root 258
inode 297 offset 2985984 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 249217024 /mnt/scratch
inode 297 offset 3641344 root 258
inode 297 offset 3641344 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f2d
297
# /bin/btrfs inspect-internal logical-resolve -P 289366016 /mnt/scratch
inode 297 offset 4681728 root 258
inode 297 offset 4681728 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f2d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f159
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f159 is 1100245 (269 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      229..     241:       3847..      3859:     13:        229: last,shared
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f159: 1 extent found
after filter: 15757312#53248#937984#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f159
431
# /bin/btrfs inspect-internal logical-resolve -P 15757312 /mnt/scratch
inode 431 offset 937984 root 258
inode 431 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f159
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10c
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1da
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc is 1754314 (429 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       60..      71:      61620..     61631:     12:         60: shared
   1:      195..     212:      62104..     62121:     18:      61755: unwritten,shared
   2:      244..     260:      61632..     61648:     17:      62153: shared
   3:      261..     261:      58479..     58479:      1:      61649: shared
   4:      262..     280:      65912..     65930:     19:      58480: unwritten,shared
   5:      281..     298:      70610..     70627:     18:      65931: last,shared
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc: 6 extents found
after filter: 252395520#49152#245760#shared 254377984#73728#798720#unwritten,shared 252444672#69632#999424#shared 239529984#4096#1069056#shared 269975552#77824#1073152#unwritten,shared 289218560#73728#1150976#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
404
# /bin/btrfs inspect-internal logical-resolve -P 252395520 /mnt/scratch
inode 404 offset 245760 root 258
inode 404 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
404
# /bin/btrfs inspect-internal logical-resolve -P 254377984 /mnt/scratch
inode 404 offset 798720 root 258
inode 404 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
404
# /bin/btrfs inspect-internal logical-resolve -P 252444672 /mnt/scratch
inode 404 offset 999424 root 258
inode 404 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
404
# /bin/btrfs inspect-internal logical-resolve -P 239529984 /mnt/scratch
inode 404 offset 1069056 root 258
inode 404 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
404
# /bin/btrfs inspect-internal logical-resolve -P 269975552 /mnt/scratch
inode 404 offset 1073152 root 258
inode 404 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
404
# /bin/btrfs inspect-internal logical-resolve -P 289218560 /mnt/scratch
inode 404 offset 1150976 root 258
inode 404 offset 1150976 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/ff
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/ff is 2104750 (514 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       19..      36:       4412..      4429:     18:         19: shared
   1:       78..      90:      66659..     66671:     13:       4471: shared
   2:       91..      96:       3470..      3475:      6:      66672: shared
   3:       97..     115:      58831..     58849:     19:       3476: shared
   4:      116..     117:       3348..      3349:      2:      58850: shared
   5:      118..     119:       3422..      3423:      2:       3350: shared
   6:      120..     120:       3561..      3561:      1:       3424: shared
   7:      182..     192:       4734..      4744:     11:       3623: shared
   8:      193..     193:       3913..      3913:      1:       4745: shared
   9:      211..     212:       3494..      3495:      2:       3931: shared
  10:      216..     231:      58589..     58604:     16:       3499: unwritten,shared
  11:      232..     237:      58605..     58610:      6:             shared
  12:      238..     264:      58611..     58637:     27:             unwritten,shared
  13:      265..     266:      58638..     58639:      2:             shared
  14:      267..     303:      58640..     58676:     37:             unwritten,shared
  15:      304..     314:      58677..     58687:     11:             shared
  16:      315..     315:      58863..     58863:      1:      58688: shared
  17:      316..     320:      58689..     58693:      5:      58864: unwritten,shared
  18:      321..     321:      58694..     58694:      1:             shared
  19:      392..     422:      69429..     69459:     31:      58765: last,shared
/mnt/scratch/snap1/p0/d5/ff: 14 extents found
after filter: 18071552#73728#77824#shared 273035264#53248#319488#shared 14213120#24576#372736#shared 240971776#77824#397312#shared 13713408#8192#475136#shared 14016512#8192#483328#shared 14585856#4096#491520#shared 19390464#45056#745472#shared 16027648#4096#790528#shared 14311424#8192#864256#shared 239980544#65536#884736#unwritten,shared 240046080#24576#950272#shared 240070656#110592#974848#unwritten,shared 240181248#8192#1085440#shared 240189440#151552#1093632#unwritten,shared 240340992#45056#1245184#shared 241102848#4096#1290240#shared 240390144#20480#1294336#unwritten,shared 240410624#4096#1314816#shared 284381184#126976#1605632#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 18071552 /mnt/scratch
inode 274 offset 77824 root 258
inode 274 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 273035264 /mnt/scratch
inode 274 offset 319488 root 258
inode 274 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 14213120 /mnt/scratch
inode 274 offset 372736 root 258
inode 274 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 240971776 /mnt/scratch
inode 274 offset 397312 root 258
inode 274 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 13713408 /mnt/scratch
inode 274 offset 475136 root 258
inode 274 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 14016512 /mnt/scratch
inode 274 offset 483328 root 258
inode 274 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 14585856 /mnt/scratch
inode 274 offset 491520 root 258
inode 274 offset 491520 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511662996
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 19390464 /mnt/scratch
inode 274 offset 745472 root 258
inode 274 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 16027648 /mnt/scratch
inode 274 offset 790528 root 258
inode 274 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 14311424 /mnt/scratch
inode 274 offset 864256 root 258
inode 274 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 239980544 /mnt/scratch
inode 274 offset 884736 root 258
inode 274 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 240046080 /mnt/scratch
inode 274 offset 950272 root 258
inode 274 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 240070656 /mnt/scratch
inode 274 offset 974848 root 258
inode 274 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 240181248 /mnt/scratch
inode 274 offset 1085440 root 258
inode 274 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 240189440 /mnt/scratch
inode 274 offset 1093632 root 258
inode 274 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 240340992 /mnt/scratch
inode 274 offset 1245184 root 258
inode 274 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 241102848 /mnt/scratch
inode 274 offset 1290240 root 258
inode 274 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 240390144 /mnt/scratch
inode 274 offset 1294336 root 258
inode 274 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 240410624 /mnt/scratch
inode 274 offset 1314816 root 258
inode 274 offset 1314816 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/ff
274
# /bin/btrfs inspect-internal logical-resolve -P 284381184 /mnt/scratch
inode 274 offset 1605632 root 258
inode 274 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/f25
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/f25 is 1330360 (325 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      14:       3481..      3481:      1:         14: shared
   1:       57..      58:       3476..      3477:      2:       3524: shared
   2:       59..      67:       3898..      3906:      9:       3478: shared
   3:      156..     172:      68639..     68655:     17:       3995: shared
   4:      173..     173:      60151..     60151:      1:      68656: shared
   5:      225..     228:      61578..     61581:      4:      60203: shared
   6:      297..     324:      69364..     69391:     28:      61650: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/f25: 7 extents found
after filter: 14258176#4096#57344#shared 14237696#8192#233472#shared 15966208#36864#241664#shared 281145344#69632#638976#shared 246378496#4096#708608#shared 252223488#16384#921600#shared 284114944#114688#1216512#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f25
290
# /bin/btrfs inspect-internal logical-resolve -P 14258176 /mnt/scratch
inode 290 offset 57344 root 258
inode 290 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f25
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f25
290
# /bin/btrfs inspect-internal logical-resolve -P 14237696 /mnt/scratch
inode 290 offset 233472 root 258
inode 290 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f25
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f25
290
# /bin/btrfs inspect-internal logical-resolve -P 15966208 /mnt/scratch
inode 290 offset 241664 root 258
inode 290 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f25
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f25
290
# /bin/btrfs inspect-internal logical-resolve -P 281145344 /mnt/scratch
inode 290 offset 638976 root 258
inode 290 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f25
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f25
290
# /bin/btrfs inspect-internal logical-resolve -P 246378496 /mnt/scratch
inode 290 offset 708608 root 258
inode 290 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f25
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f25
290
# /bin/btrfs inspect-internal logical-resolve -P 252223488 /mnt/scratch
inode 290 offset 921600 root 258
inode 290 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f25
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f25
290
# /bin/btrfs inspect-internal logical-resolve -P 284114944 /mnt/scratch
inode 290 offset 1216512 root 258
inode 290 offset 1216512 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f25
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/f10
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/f10 is 598016 (146 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..       3:       3078..      3078:      1:          3: shared
   1:       93..     105:       3219..      3231:     13:       3168: shared
   2:      134..     145:      59685..     59696:     12:       3260: shared,eof
   3:      146..     248:      65809..     65911:    103:      59697: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/f10: 4 extents found
after filter: 12607488#4096#12288#shared 13185024#53248#380928#shared 244469760#49152#548864#shared,eof 269553664#421888#598016#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f10
270
# /bin/btrfs inspect-internal logical-resolve -P 12607488 /mnt/scratch
inode 270 offset 12288 root 258
inode 270 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f10
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f10
270
# /bin/btrfs inspect-internal logical-resolve -P 13185024 /mnt/scratch
inode 270 offset 380928 root 258
inode 270 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f10
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f10
270
# /bin/btrfs inspect-internal logical-resolve -P 244469760 /mnt/scratch
inode 270 offset 548864 root 258
inode 270 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f10
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f10
270
# /bin/btrfs inspect-internal logical-resolve -P 269553664 /mnt/scratch
inode 270 offset 598016 root 258
inode 270 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f10
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136 is 1794048 (438 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      44:      64601..     64623:     23:         22: shared
   1:       45..      45:      60107..     60107:      1:      64624: shared
   2:      164..     190:      65387..     65413:     27:      60226: shared
   3:      191..     191:      60641..     60641:      1:      65414: shared
   4:      224..     297:      67368..     67441:     74:      60674: unwritten,shared
   5:      298..     328:      67083..     67113:     31:      67442: shared
   6:      329..     340:      66292..     66303:     12:      67114: shared
   7:      341..     341:      58471..     58471:      1:      66304: shared
   8:      342..     354:      62451..     62463:     13:      58472: unwritten,shared
   9:      355..     366:      70514..     70525:     12:      62464: shared
  10:      424..     437:      62493..     62506:     14:      70583: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136: 11 extents found
after filter: 264605696#94208#90112#shared 246198272#4096#184320#shared 267825152#110592#671744#shared 248385536#4096#782336#shared 275939328#303104#917504#unwritten,shared 274771968#126976#1220608#shared 271532032#49152#1347584#shared 239497216#4096#1396736#shared 255799296#53248#1400832#unwritten,shared 288825344#49152#1454080#shared 255971328#57344#1736704#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 264605696 /mnt/scratch
inode 507 offset 90112 root 258
inode 507 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 246198272 /mnt/scratch
inode 507 offset 184320 root 258
inode 507 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 267825152 /mnt/scratch
inode 507 offset 671744 root 258
inode 507 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 248385536 /mnt/scratch
inode 507 offset 782336 root 258
inode 507 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 275939328 /mnt/scratch
inode 507 offset 917504 root 258
inode 507 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 274771968 /mnt/scratch
inode 507 offset 1220608 root 258
inode 507 offset 1220608 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 271532032 /mnt/scratch
inode 507 offset 1347584 root 258
inode 507 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 239497216 /mnt/scratch
inode 507 offset 1396736 root 258
inode 507 offset 1396736 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 255799296 /mnt/scratch
inode 507 offset 1400832 root 258
inode 507 offset 1400832 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 288825344 /mnt/scratch
inode 507 offset 1454080 root 258
inode 507 offset 1454080 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 255971328 /mnt/scratch
inode 507 offset 1736704 root 258
inode 507 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f136
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa is 2371368 (579 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      122..     153:      64494..     64525:     32:        122: shared
   1:      159..     176:      66170..     66187:     18:      64531: shared
   2:      227..     246:      60619..     60638:     20:      66238: shared
   3:      330..     357:      70377..     70404:     28:      60722: shared
   4:      453..     482:      67776..     67805:     30:      70500: shared
   5:      483..     483:      60152..     60152:      1:      67806: shared
   6:      564..     578:      69414..     69428:     15:      60233: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa: 7 extents found
after filter: 264167424#131072#499712#shared 271032320#73728#651264#shared 248295424#81920#929792#shared 288264192#114688#1351680#shared 277610496#122880#1855488#shared 246382592#4096#1978368#shared 284319744#61440#2310144#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 264167424 /mnt/scratch
inode 392 offset 499712 root 258
inode 392 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 271032320 /mnt/scratch
inode 392 offset 651264 root 258
inode 392 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 248295424 /mnt/scratch
inode 392 offset 929792 root 258
inode 392 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 288264192 /mnt/scratch
inode 392 offset 1351680 root 258
inode 392 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 277610496 /mnt/scratch
inode 392 offset 1855488 root 258
inode 392 offset 1855488 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 246382592 /mnt/scratch
inode 392 offset 1978368 root 258
inode 392 offset 1978368 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 284319744 /mnt/scratch
inode 392 offset 2310144 root 258
inode 392 offset 2310144 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/faa
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511179318
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f123
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f123 is 771074 (189 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      185..     188:      64462..     64465:      4:        185: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f123: 1 extent found
after filter: 264036352#16384#757760#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f123
491
# /bin/btrfs inspect-internal logical-resolve -P 264036352 /mnt/scratch
inode 491 offset 757760 root 258
inode 491 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f123
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d67/f1b6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d67/f1b6 is 1286802 (315 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      150..     172:      64822..     64844:     23:        150: shared
   1:      173..     211:      66501..     66539:     39:      64845: unwritten,shared
   2:      212..     241:      66382..     66411:     30:      66540: shared
   3:      242..     242:      58470..     58470:      1:      66412: shared
   4:      243..     283:      66540..     66580:     41:      58471: unwritten,shared
   5:      284..     314:      66581..     66611:     31:             shared,eof
   6:      315..     361:      66612..     66658:     47:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d67/f1b6: 5 extents found
after filter: 265510912#94208#614400#shared 272388096#159744#708608#unwritten,shared 271900672#122880#868352#shared 239493120#4096#991232#shared 272547840#167936#995328#unwritten,shared 272715776#126976#1163264#shared,eof 272842752#192512#1290240#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f1b6
506
# /bin/btrfs inspect-internal logical-resolve -P 265510912 /mnt/scratch
inode 506 offset 614400 root 258
inode 506 offset 614400 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f1b6
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f1b6
506
# /bin/btrfs inspect-internal logical-resolve -P 272388096 /mnt/scratch
inode 506 offset 708608 root 258
inode 506 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f1b6
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f1b6
506
# /bin/btrfs inspect-internal logical-resolve -P 271900672 /mnt/scratch
inode 506 offset 868352 root 258
inode 506 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f1b6
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f1b6
506
# /bin/btrfs inspect-internal logical-resolve -P 239493120 /mnt/scratch
inode 506 offset 991232 root 258
inode 506 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f1b6
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f1b6
506
# /bin/btrfs inspect-internal logical-resolve -P 272547840 /mnt/scratch
inode 506 offset 995328 root 258
inode 506 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f1b6
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f1b6
506
# /bin/btrfs inspect-internal logical-resolve -P 272715776 /mnt/scratch
inode 506 offset 1163264 root 258
inode 506 offset 1163264 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f1b6
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f1b6
506
# /bin/btrfs inspect-internal logical-resolve -P 272842752 /mnt/scratch
inode 506 offset 1290240 root 258
inode 506 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f1b6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8 is 3810184 (931 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       34..      78:      69268..     69312:     45:         34: unwritten,shared
   1:      106..     137:      63763..     63794:     32:      69340: shared
   2:      176..     199:      69493..     69516:     24:      63833: shared
   3:      217..     237:      60685..     60705:     21:      69534: shared
   4:      352..     363:      58800..     58811:     12:      60820: shared
   5:      373..     387:      60706..     60720:     15:      58821: shared
   6:      395..     395:       3558..      3558:      1:      60728: shared
   7:      492..     502:      60865..     60875:     11:       3655: shared
   8:      503..     513:      60582..     60592:     11:      60876: shared
   9:      623..     763:      60887..     61027:    141:      60702: unwritten,shared
  10:      764..     764:      61028..     61028:      1:             shared
  11:      901..     930:      61854..     61883:     30:      61165: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8: 11 extents found
after filter: 283721728#184320#139264#unwritten,shared 261173248#131072#434176#shared 284643328#98304#720896#shared 248565760#86016#888832#shared 240844800#49152#1441792#shared 248651776#61440#1527808#shared 14573568#4096#1617920#shared 249303040#45056#2015232#shared 248143872#45056#2060288#shared 249393152#577536#2551808#unwritten,shared 249970688#4096#3129344#shared 253353984#122880#3690496#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 283721728 /mnt/scratch
inode 333 offset 139264 root 258
inode 333 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 261173248 /mnt/scratch
inode 333 offset 434176 root 258
inode 333 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 284643328 /mnt/scratch
inode 333 offset 720896 root 258
inode 333 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 248565760 /mnt/scratch
inode 333 offset 888832 root 258
inode 333 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 240844800 /mnt/scratch
inode 333 offset 1441792 root 258
inode 333 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 248651776 /mnt/scratch
inode 333 offset 1527808 root 258
inode 333 offset 1527808 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 14573568 /mnt/scratch
inode 333 offset 1617920 root 258
inode 333 offset 1617920 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 249303040 /mnt/scratch
inode 333 offset 2015232 root 258
inode 333 offset 2015232 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 248143872 /mnt/scratch
inode 333 offset 2060288 root 258
inode 333 offset 2060288 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 249393152 /mnt/scratch
inode 333 offset 2551808 root 258
inode 333 offset 2551808 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 249970688 /mnt/scratch
inode 333 offset 3129344 root 258
inode 333 offset 3129344 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
333
# /bin/btrfs inspect-internal logical-resolve -P 253353984 /mnt/scratch
inode 333 offset 3690496 root 258
inode 333 offset 3690496 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/fc8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/f5b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/f5b is 4721157 (1153 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      117..     119:       4083..      4085:      3:        117: shared
   1:      160..     160:       3107..      3107:      1:       4126: shared
   2:      161..     172:       4039..      4050:     12:       3108: shared
   3:      178..     192:       4357..      4371:     15:       4056: shared
   4:      193..     193:       4355..      4355:      1:       4372: shared
   5:      194..     202:      60811..     60819:      9:       4356: shared
   6:      203..     207:       4129..      4133:      5:      60820: shared
   7:      208..     250:       4134..      4176:     43:             unwritten,shared
   8:      251..     264:       4177..      4190:     14:             shared
   9:      265..     284:       4191..      4210:     20:             unwritten,shared
  10:      285..     300:       4211..      4226:     16:             shared
  11:      301..     301:       3073..      3073:      1:       4227: shared
  12:      302..     338:       4228..      4264:     37:       3074: unwritten,shared
  13:      339..     344:       4265..      4270:      6:             shared
  14:      345..     362:      63847..     63864:     18:       4271: shared
  15:      363..     364:       4289..      4290:      2:      63865: shared
  16:      365..     365:       4291..      4291:      1:             unwritten,shared
  17:      366..     375:       4292..      4301:     10:             shared
  18:      376..     377:       4392..      4393:      2:       4302: shared
  19:      378..     396:       4373..      4391:     19:       4394: shared
  20:      397..     401:       3099..      3103:      5:       4392: shared
  21:      402..     404:      58928..     58930:      3:       3104: shared
  22:      405..     407:       3511..      3513:      3:      58931: shared
  23:      428..     468:       3289..      3329:     41:       3534: unwritten,shared
  24:      469..     469:       3330..      3330:      1:             shared
  25:      472..     487:      68716..     68731:     16:       3333: shared
  26:      501..     509:      60610..     60618:      9:      68745: shared
  27:      519..     519:       3351..      3351:      1:      60628: shared
  28:      526..     533:      61210..     61217:      8:       3358: shared
  29:      665..     677:      64544..     64556:     13:      61349: shared
  30:      730..     753:      65231..     65254:     24:      64609: shared
  31:      754..     754:      58468..     58468:      1:      65255: shared
  32:      806..     867:      68404..     68465:     62:      58520: unwritten,shared
  33:      890..     890:       3907..      3907:      1:      68488: shared
  34:     1015..    1037:      70405..     70427:     23:       4032: shared
  35:     1123..    1152:      66994..     67023:     30:      70513: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/f5b: 28 extents found
after filter: 16723968#12288#479232#shared 12726272#4096#655360#shared 16543744#49152#659456#shared 17846272#61440#729088#shared 17838080#4096#790528#shared 249081856#36864#794624#shared 16912384#20480#831488#shared 16932864#176128#851968#unwritten,shared 17108992#57344#1028096#shared 17166336#81920#1085440#unwritten,shared 17248256#65536#1167360#shared 12587008#4096#1232896#shared 17317888#151552#1236992#unwritten,shared 17469440#24576#1388544#shared 261517312#73728#1413120#shared 17567744#8192#1486848#shared 17575936#4096#1495040#unwritten,shared 17580032#40960#1499136#shared 17989632#8192#1540096#shared 17911808#77824#1548288#shared 12693504#20480#1626112#shared 241369088#12288#1646592#shared 14381056#12288#1658880#shared 13471744#167936#1753088#unwritten,shared 13639680#4096#1921024#shared 281460736#65536#1933312#shared 248258560#36864#2052096#shared 13725696#4096#2125824#shared 250716160#32768#2154496#shared 264372224#53248#2723840#shared 267186176#98304#2990080#shared 239484928#4096#3088384#shared 280182784#253952#3301376#unwritten,shared 16003072#4096#3645440#shared 288378880#94208#4157440#shared 274407424#122880#4599808#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 16723968 /mnt/scratch
inode 283 offset 479232 root 258
inode 283 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 12726272 /mnt/scratch
inode 283 offset 655360 root 258
inode 283 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 16543744 /mnt/scratch
inode 283 offset 659456 root 258
inode 283 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17846272 /mnt/scratch
inode 283 offset 729088 root 258
inode 283 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17838080 /mnt/scratch
inode 283 offset 790528 root 258
inode 283 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 249081856 /mnt/scratch
inode 283 offset 794624 root 258
inode 283 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 16912384 /mnt/scratch
inode 283 offset 831488 root 258
inode 283 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 16932864 /mnt/scratch
inode 283 offset 851968 root 258
inode 283 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17108992 /mnt/scratch
inode 283 offset 1028096 root 258
inode 283 offset 1028096 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17166336 /mnt/scratch
inode 283 offset 1085440 root 258
inode 283 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17248256 /mnt/scratch
inode 283 offset 1167360 root 258
inode 283 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 12587008 /mnt/scratch
inode 283 offset 1232896 root 258
inode 283 offset 1232896 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
background rm
283
# /bin/btrfs inspect-internal logical-resolve -P 17317888 /mnt/scratch
inode 283 offset 1236992 root 258
inode 283 offset 1236992 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
seed = 1511949279
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17469440 /mnt/scratch
inode 283 offset 1388544 root 258
inode 283 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 261517312 /mnt/scratch
inode 283 offset 1413120 root 258
inode 283 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17567744 /mnt/scratch
inode 283 offset 1486848 root 258
inode 283 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17575936 /mnt/scratch
inode 283 offset 1495040 root 258
inode 283 offset 1495040 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17580032 /mnt/scratch
inode 283 offset 1499136 root 258
inode 283 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17989632 /mnt/scratch
inode 283 offset 1540096 root 258
inode 283 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 17911808 /mnt/scratch
inode 283 offset 1548288 root 258
inode 283 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 12693504 /mnt/scratch
inode 283 offset 1626112 root 258
inode 283 offset 1626112 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 283 offset 1646592 root 258
inode 283 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 14381056 /mnt/scratch
inode 283 offset 1658880 root 258
inode 283 offset 1658880 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 13471744 /mnt/scratch
inode 283 offset 1753088 root 258
inode 283 offset 1753088 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 13639680 /mnt/scratch
inode 283 offset 1921024 root 258
inode 283 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 281460736 /mnt/scratch
inode 283 offset 1933312 root 258
inode 283 offset 1933312 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 248258560 /mnt/scratch
inode 283 offset 2052096 root 258
inode 283 offset 2052096 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 13725696 /mnt/scratch
inode 283 offset 2125824 root 258
inode 283 offset 2125824 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 250716160 /mnt/scratch
inode 283 offset 2154496 root 258
inode 283 offset 2154496 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 264372224 /mnt/scratch
inode 283 offset 2723840 root 258
inode 283 offset 2723840 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 267186176 /mnt/scratch
inode 283 offset 2990080 root 258
inode 283 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 239484928 /mnt/scratch
inode 283 offset 3088384 root 258
inode 283 offset 3088384 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 280182784 /mnt/scratch
inode 283 offset 3301376 root 258
inode 283 offset 3301376 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 16003072 /mnt/scratch
inode 283 offset 3645440 root 258
inode 283 offset 3645440 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 288378880 /mnt/scratch
inode 283 offset 4157440 root 258
inode 283 offset 4157440 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f5b
283
# /bin/btrfs inspect-internal logical-resolve -P 274407424 /mnt/scratch
inode 283 offset 4599808 root 258
inode 283 offset 4599808 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f209
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f209 is 147456 (36 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       24..      35:      62468..     62479:     12:         24: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f209: 1 extent found
after filter: 255868928#49152#98304#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f209
522
# /bin/btrfs inspect-internal logical-resolve -P 255868928 /mnt/scratch
inode 522 offset 98304 root 258
inode 522 offset 98304 root 5
# /bin/btrfs inspect-internal inode-resolve 522 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f209
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e is 1288544 (315 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      113..     146:      63998..     64031:     34:        113: unwritten,shared
   1:      147..     158:      64032..     64043:     12:             shared
   2:      159..     159:      58924..     58924:      1:      64044: shared
   3:      160..     182:      64045..     64067:     23:      58925: unwritten,shared
   4:      289..     314:      67750..     67775:     26:      64174: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e: 4 extents found
after filter: 262135808#139264#462848#unwritten,shared 262275072#49152#602112#shared 241352704#4096#651264#shared 262328320#94208#655360#unwritten,shared 277504000#106496#1183744#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
472
# /bin/btrfs inspect-internal logical-resolve -P 262135808 /mnt/scratch
inode 472 offset 462848 root 258
inode 472 offset 462848 root 5
# /bin/btrfs inspect-internal inode-resolve 472 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
472
# /bin/btrfs inspect-internal logical-resolve -P 262275072 /mnt/scratch
inode 472 offset 602112 root 258
inode 472 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 472 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
472
# /bin/btrfs inspect-internal logical-resolve -P 241352704 /mnt/scratch
inode 472 offset 651264 root 258
inode 472 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 472 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
472
# /bin/btrfs inspect-internal logical-resolve -P 262328320 /mnt/scratch
inode 472 offset 655360 root 258
inode 472 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 472 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
472
# /bin/btrfs inspect-internal logical-resolve -P 277504000 /mnt/scratch
inode 472 offset 1183744 root 258
inode 472 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 472 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/f18
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/f18 is 2012214 (492 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       50..      50:       3077..      3077:      1:         50: shared
   1:       62..      64:       3331..      3333:      3:       3089: shared
   2:       74..      77:       3196..      3199:      4:       3343: shared
   3:      192..     194:       3109..      3111:      3:       3314: shared
   4:      254..     259:      68101..     68106:      6:       3171: shared
   5:      260..     262:      61974..     61976:      3:      68107: shared
   6:      263..     276:      68110..     68123:     14:      61977: shared
   7:      277..     277:      58474..     58474:      1:      68124: shared
   8:      358..     365:       3887..      3894:      8:      58555: shared
   9:      486..     491:      66200..     66205:      6:       4015: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/f18: 10 extents found
after filter: 12603392#4096#204800#shared 13643776#12288#253952#shared 13090816#16384#303104#shared 12734464#12288#786432#shared 278941696#24576#1040384#shared 253845504#12288#1064960#shared 278978560#57344#1077248#shared 239509504#4096#1134592#shared 15921152#32768#1466368#shared 271155200#24576#1990656#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 12603392 /mnt/scratch
inode 265 offset 204800 root 258
inode 265 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 13643776 /mnt/scratch
inode 265 offset 253952 root 258
inode 265 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 13090816 /mnt/scratch
inode 265 offset 303104 root 258
inode 265 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 12734464 /mnt/scratch
inode 265 offset 786432 root 258
inode 265 offset 786432 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511778278
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 278941696 /mnt/scratch
inode 265 offset 1040384 root 258
inode 265 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 253845504 /mnt/scratch
inode 265 offset 1064960 root 258
inode 265 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 278978560 /mnt/scratch
inode 265 offset 1077248 root 258
inode 265 offset 1077248 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 239509504 /mnt/scratch
inode 265 offset 1134592 root 258
inode 265 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 15921152 /mnt/scratch
inode 265 offset 1466368 root 258
inode 265 offset 1466368 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f18
265
# /bin/btrfs inspect-internal logical-resolve -P 271155200 /mnt/scratch
inode 265 offset 1990656 root 258
inode 265 offset 1990656 root 5
# /bin/btrfs inspect-internal inode-resolve 265 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f18
/mnt/scratch/snap1/p0/d5/d7/dc/fb9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a3 is 248647 (61 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a3: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/f1b8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/f1b8 is 485572 (119 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       96..     118:      70526..     70548:     23:         96: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/f1b8: 1 extent found
after filter: 288874496#94208#393216#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/f1b8
594
# /bin/btrfs inspect-internal logical-resolve -P 288874496 /mnt/scratch
inode 594 offset 393216 root 258
inode 594 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 594 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/f1b8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1 is 2453504 (599 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       55..      76:       3914..      3935:     22:         55: unwritten,shared
   1:       77..      81:       3936..      3940:      5:             shared
   2:       82..      97:       3941..      3956:     16:             unwritten,shared
   3:       98..     118:       3957..      3977:     21:             shared
   4:      119..     137:       3978..      3996:     19:             unwritten,shared
   5:      138..     138:       3997..      3997:      1:             shared
   6:      165..     172:       5091..      5098:      8:       4024: shared
   7:      303..     331:       4097..      4125:     29:       5229: shared
   8:      422..     445:      58866..     58889:     24:       4216: shared
   9:      446..     446:      58472..     58472:      1:      58890: shared
  10:      577..     598:       3126..      3147:     22:      58603: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1: 6 extents found
after filter: 16031744#90112#225280#unwritten,shared 16121856#20480#315392#shared 16142336#65536#335872#unwritten,shared 16207872#86016#401408#shared 16293888#77824#487424#unwritten,shared 16371712#4096#565248#shared 20852736#32768#675840#shared 16781312#118784#1241088#shared 241115136#98304#1728512#shared 239501312#4096#1826816#shared 12804096#90112#2363392#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 16031744 /mnt/scratch
inode 276 offset 225280 root 258
inode 276 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 16121856 /mnt/scratch
inode 276 offset 315392 root 258
inode 276 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 16142336 /mnt/scratch
inode 276 offset 335872 root 258
inode 276 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 16207872 /mnt/scratch
inode 276 offset 401408 root 258
inode 276 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 16293888 /mnt/scratch
inode 276 offset 487424 root 258
inode 276 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 16371712 /mnt/scratch
inode 276 offset 565248 root 258
inode 276 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 20852736 /mnt/scratch
inode 276 offset 675840 root 258
inode 276 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 16781312 /mnt/scratch
inode 276 offset 1241088 root 258
inode 276 offset 1241088 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 241115136 /mnt/scratch
inode 276 offset 1728512 root 258
inode 276 offset 1728512 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 239501312 /mnt/scratch
inode 276 offset 1826816 root 258
inode 276 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
276
# /bin/btrfs inspect-internal logical-resolve -P 12804096 /mnt/scratch
inode 276 offset 2363392 root 258
inode 276 offset 2363392 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/d111/f1d1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/fd0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/fd0 is 2438656 (596 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       44..      49:      61924..     61929:      6:         44: shared
   1:       50..      51:      59067..     59068:      2:      61930: shared
   2:       52..      62:      61932..     61942:     11:      59069: shared
   3:       63..      63:      58476..     58476:      1:      61943: shared
   4:       70..     100:      62558..     62588:     31:      58483: shared
   5:      163..     175:      63810..     63822:     13:      62651: shared
   6:      176..     193:      65416..     65433:     18:      63823: shared
   7:      262..     262:       3112..      3112:      1:      65502: shared
   8:      340..     343:      60820..     60823:      4:       3190: shared
   9:      344..     344:      58478..     58478:      1:      60824: shared
  10:      573..     595:      63016..     63038:     23:      58707: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/fd0: 11 extents found
after filter: 253640704#24576#180224#shared 241938432#8192#204800#shared 253673472#45056#212992#shared 239517696#4096#258048#shared 256237568#126976#286720#shared 261365760#53248#667648#shared 267943936#73728#720896#shared 12746752#4096#1073152#shared 249118720#16384#1392640#shared 239525888#4096#1409024#shared 258113536#94208#2347008#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 253640704 /mnt/scratch
inode 383 offset 180224 root 258
inode 383 offset 180224 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 241938432 /mnt/scratch
inode 383 offset 204800 root 258
inode 383 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 253673472 /mnt/scratch
inode 383 offset 212992 root 258
inode 383 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 239517696 /mnt/scratch
inode 383 offset 258048 root 258
inode 383 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 256237568 /mnt/scratch
inode 383 offset 286720 root 258
inode 383 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 261365760 /mnt/scratch
inode 383 offset 667648 root 258
inode 383 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 267943936 /mnt/scratch
inode 383 offset 720896 root 258
inode 383 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 12746752 /mnt/scratch
inode 383 offset 1073152 root 258
inode 383 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 249118720 /mnt/scratch
inode 383 offset 1392640 root 258
inode 383 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 239525888 /mnt/scratch
inode 383 offset 1409024 root 258
inode 383 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fd0
383
# /bin/btrfs inspect-internal logical-resolve -P 258113536 /mnt/scratch
inode 383 offset 2347008 root 258
inode 383 offset 2347008 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd is 1044345 (255 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       32..      32:       3482..      3482:      1:         32: shared
   1:      239..     251:      63338..     63350:     13:       3689: unwritten,shared
   2:      252..     254:      63351..     63353:      3:             shared,eof
   3:      255..     463:      63354..     63562:    209:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd: 2 extents found
after filter: 14262272#4096#131072#shared 259432448#53248#978944#unwritten,shared 259485696#12288#1032192#shared,eof 259497984#856064#1044480#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 14262272 /mnt/scratch
inode 421 offset 131072 root 258
inode 421 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 259432448 /mnt/scratch
inode 421 offset 978944 root 258
inode 421 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 259485696 /mnt/scratch
inode 421 offset 1032192 root 258
inode 421 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 259497984 /mnt/scratch
inode 421 offset 1044480 root 258
inode 421 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/fcd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f116
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f116 is 1138688 (278 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      127..     153:      66413..     66439:     27:        127: shared
   1:      154..     162:      63569..     63577:      9:      66440: shared
   2:      266..     277:      66188..     66199:     12:      63681: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f116: 3 extents found
after filter: 272027648#110592#520192#shared 260378624#36864#630784#shared 271106048#49152#1089536#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f116
460
# /bin/btrfs inspect-internal logical-resolve -P 272027648 /mnt/scratch
inode 460 offset 520192 root 258
inode 460 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f116
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f116
460
# /bin/btrfs inspect-internal logical-resolve -P 260378624 /mnt/scratch
inode 460 offset 630784 root 258
inode 460 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f116
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f116
460
# /bin/btrfs inspect-internal logical-resolve -P 271106048 /mnt/scratch
inode 460 offset 1089536 root 258
inode 460 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f116
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/f2a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/f2a is 1765376 (431 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       93..     108:      62355..     62370:     16:         93: shared
   1:      124..     149:      58368..     58393:     26:      62386: shared
   2:      191..     204:      66440..     66453:     14:      58435: shared
   3:      205..     216:      61068..     61079:     12:      66454: unwritten,shared
   4:      217..     217:      60521..     60521:      1:      61080: shared
   5:      426..     430:       3336..      3340:      5:      60730: last,shared,eof
/mnt/scratch/snap1/p0/d5/f2a: 6 extents found
after filter: 255406080#65536#380928#shared 239075328#106496#507904#shared 272138240#57344#782336#shared 250134528#49152#839680#unwritten,shared 247894016#4096#888832#shared 13664256#20480#1744896#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/f2a
294
# /bin/btrfs inspect-internal logical-resolve -P 255406080 /mnt/scratch
inode 294 offset 380928 root 258
inode 294 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# stat -c %i /mnt/scratch/snap1/p0/d5/f2a
294
# /bin/btrfs inspect-internal logical-resolve -P 239075328 /mnt/scratch
inode 294 offset 507904 root 258
inode 294 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# stat -c %i /mnt/scratch/snap1/p0/d5/f2a
294
# /bin/btrfs inspect-internal logical-resolve -P 272138240 /mnt/scratch
inode 294 offset 782336 root 258
inode 294 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# stat -c %i /mnt/scratch/snap1/p0/d5/f2a
294
# /bin/btrfs inspect-internal logical-resolve -P 250134528 /mnt/scratch
inode 294 offset 839680 root 258
inode 294 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# stat -c %i /mnt/scratch/snap1/p0/d5/f2a
294
# /bin/btrfs inspect-internal logical-resolve -P 247894016 /mnt/scratch
inode 294 offset 888832 root 258
inode 294 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# stat -c %i /mnt/scratch/snap1/p0/d5/f2a
294
# /bin/btrfs inspect-internal logical-resolve -P 13664256 /mnt/scratch
inode 294 offset 1744896 root 258
inode 294 offset 1744896 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f2a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/f13a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d67/f14e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d67/f14e is 2196769 (537 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      172..     173:      61979..     61980:      2:        172: shared
   1:      174..     177:      59762..     59765:      4:      61981: shared
   2:      178..     186:      61985..     61993:      9:      59766: shared
   3:      187..     187:      59066..     59066:      1:      61994: shared
   4:      245..     265:      69114..     69134:     21:      59124: shared
   5:      266..     281:      63981..     63996:     16:      69135: shared
   6:      282..     282:      60106..     60106:      1:      63997: shared
   7:      507..     535:      66254..     66282:     29:      60331: shared
   8:      536..     536:      65342..     65342:      1:      66283: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d67/f14e: 9 extents found
after filter: 253865984#8192#704512#shared 244785152#16384#712704#shared 253890560#36864#729088#shared 241934336#4096#765952#shared 283090944#86016#1003520#shared 262066176#65536#1089536#shared 246194176#4096#1155072#shared 271376384#118784#2076672#shared 267640832#4096#2195456#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f14e
401
# /bin/btrfs inspect-internal logical-resolve -P 253865984 /mnt/scratch
inode 401 offset 704512 root 258
inode 401 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f14e
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f14e
401
# /bin/btrfs inspect-internal logical-resolve -P 244785152 /mnt/scratch
inode 401 offset 712704 root 258
inode 401 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f14e
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f14e
401
# /bin/btrfs inspect-internal logical-resolve -P 253890560 /mnt/scratch
inode 401 offset 729088 root 258
inode 401 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f14e
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f14e
401
# /bin/btrfs inspect-internal logical-resolve -P 241934336 /mnt/scratch
inode 401 offset 765952 root 258
inode 401 offset 765952 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f14e
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f14e
401
# /bin/btrfs inspect-internal logical-resolve -P 283090944 /mnt/scratch
inode 401 offset 1003520 root 258
inode 401 offset 1003520 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f14e
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f14e
401
# /bin/btrfs inspect-internal logical-resolve -P 262066176 /mnt/scratch
inode 401 offset 1089536 root 258
inode 401 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f14e
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f14e
401
# /bin/btrfs inspect-internal logical-resolve -P 246194176 /mnt/scratch
inode 401 offset 1155072 root 258
inode 401 offset 1155072 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f14e
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f14e
401
# /bin/btrfs inspect-internal logical-resolve -P 271376384 /mnt/scratch
inode 401 offset 2076672 root 258
inode 401 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f14e
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f14e
401
# /bin/btrfs inspect-internal logical-resolve -P 267640832 /mnt/scratch
inode 401 offset 2195456 root 258
inode 401 offset 2195456 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f14e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1d0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1d0 is 792155 (194 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      162..     193:      70578..     70609:     32:        162: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1d0: 1 extent found
after filter: 289087488#131072#663552#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1d0
613
# /bin/btrfs inspect-internal logical-resolve -P 289087488 /mnt/scratch
inode 613 offset 663552 root 258
inode 613 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 613 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1d0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd is 1518825 (371 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       81..     112:      69460..     69491:     32:         81: shared
   1:      113..     113:      60676..     60676:      1:      69492: shared
   2:      315..     332:      70628..     70645:     18:      60878: shared
   3:      367..     370:      61615..     61618:      4:      70680: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd: 4 extents found
after filter: 284508160#131072#331776#shared 248528896#4096#462848#shared 289292288#73728#1290240#shared 252375040#16384#1503232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd
622
# /bin/btrfs inspect-internal logical-resolve -P 284508160 /mnt/scratch
inode 622 offset 331776 root 258
inode 622 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 622 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd
622
# /bin/btrfs inspect-internal logical-resolve -P 248528896 /mnt/scratch
inode 622 offset 462848 root 258
inode 622 offset 462848 root 5
# /bin/btrfs inspect-internal inode-resolve 622 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd
622
# /bin/btrfs inspect-internal logical-resolve -P 289292288 /mnt/scratch
inode 622 offset 1290240 root 258
inode 622 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 622 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd
622
# /bin/btrfs inspect-internal logical-resolve -P 252375040 /mnt/scratch
inode 622 offset 1503232 root 258
inode 622 offset 1503232 root 5
# /bin/btrfs inspect-internal inode-resolve 622 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/f1dd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1da
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1da is 1100245 (269 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      229..     241:       3847..      3859:     13:        229: last,shared
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1da: 1 extent found
after filter: 15757312#53248#937984#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1da
431
# /bin/btrfs inspect-internal logical-resolve -P 15757312 /mnt/scratch
inode 431 offset 937984 root 258
inode 431 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f159
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10c
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1da
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/fe
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/fe is 4710527 (1151 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      31:       4479..      4496:     18:         14: shared
   1:       60..      85:       3821..      3846:     26:       4525: shared
   2:      157..     166:       4628..      4637:     10:       3918: shared
   3:      241..     253:       4497..      4509:     13:       4712: shared
   4:      254..     269:      61501..     61516:     16:       4510: shared
   5:      270..     293:      69559..     69582:     24:      61517: shared
   6:      334..     353:       4519..      4538:     20:      69623: shared
   7:      354..     372:      60495..     60513:     19:       4539: shared
   8:      449..     461:      66478..     66490:     13:      60590: shared
   9:      582..     616:       4550..      4584:     35:      66611: shared
  10:      617..     686:      61650..     61719:     70:       4585: unwritten,shared
  11:      687..     704:       4585..      4602:     18:      61720: shared
  12:      705..     713:       4666..      4674:      9:       4603: shared
  13:      714..     714:       4612..      4612:      1:       4675: shared
  14:      846..     846:       3125..      3125:      1:       4744: shared
  15:      888..     895:      61533..     61540:      8:       3167: shared
  16:      958..     984:      66017..     66043:     27:      61603: shared
  17:     1020..    1020:       4032..      4032:      1:      66079: shared
  18:     1046..    1067:      58443..     58464:     22:       4058: shared
  19:     1068..    1068:      60829..     60829:      1:      58465: shared
  20:     1122..    1150:      66353..     66381:     29:      60883: shared,eof
  21:     1308..    1327:       4005..      4024:     20:      66539: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/fe: 22 extents found
after filter: 18345984#73728#57344#shared 15650816#106496#245760#shared 18956288#40960#643072#shared 18419712#53248#987136#shared 251908096#65536#1040384#shared 284913664#98304#1105920#shared 18509824#81920#1368064#shared 247787520#77824#1449984#shared 272293888#53248#1839104#shared 18636800#143360#2383872#shared 252518400#286720#2527232#unwritten,shared 18780160#73728#2813952#shared 19111936#36864#2887680#shared 18890752#4096#2924544#shared 12800000#4096#3465216#shared 252039168#32768#3637248#shared 270405632#110592#3923968#shared 16515072#4096#4177920#shared 239382528#90112#4284416#shared 249155584#4096#4374528#shared 271781888#118784#4595712#shared,eof 16404480#81920#5357568#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 18345984 /mnt/scratch
inode 273 offset 57344 root 258
inode 273 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 15650816 /mnt/scratch
inode 273 offset 245760 root 258
inode 273 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 18956288 /mnt/scratch
inode 273 offset 643072 root 258
inode 273 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 18419712 /mnt/scratch
inode 273 offset 987136 root 258
inode 273 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 251908096 /mnt/scratch
inode 273 offset 1040384 root 258
inode 273 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 284913664 /mnt/scratch
inode 273 offset 1105920 root 258
inode 273 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 18509824 /mnt/scratch
inode 273 offset 1368064 root 258
inode 273 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 247787520 /mnt/scratch
inode 273 offset 1449984 root 258
inode 273 offset 1449984 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 272293888 /mnt/scratch
inode 273 offset 1839104 root 258
inode 273 offset 1839104 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 18636800 /mnt/scratch
inode 273 offset 2383872 root 258
inode 273 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 252518400 /mnt/scratch
inode 273 offset 2527232 root 258
inode 273 offset 2527232 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 18780160 /mnt/scratch
inode 273 offset 2813952 root 258
inode 273 offset 2813952 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 19111936 /mnt/scratch
inode 273 offset 2887680 root 258
inode 273 offset 2887680 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 18890752 /mnt/scratch
inode 273 offset 2924544 root 258
inode 273 offset 2924544 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 12800000 /mnt/scratch
inode 273 offset 3465216 root 258
inode 273 offset 3465216 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 252039168 /mnt/scratch
inode 273 offset 3637248 root 258
inode 273 offset 3637248 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 270405632 /mnt/scratch
inode 273 offset 3923968 root 258
inode 273 offset 3923968 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 16515072 /mnt/scratch
inode 273 offset 4177920 root 258
inode 273 offset 4177920 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 239382528 /mnt/scratch
inode 273 offset 4284416 root 258
inode 273 offset 4284416 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 249155584 /mnt/scratch
inode 273 offset 4374528 root 258
inode 273 offset 4374528 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 271781888 /mnt/scratch
inode 273 offset 4595712 root 258
inode 273 offset 4595712 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/fe
273
# /bin/btrfs inspect-internal logical-resolve -P 16404480 /mnt/scratch
inode 273 offset 5357568 root 258
inode 273 offset 5357568 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f1ce
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f1ce is 887430 (217 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..      64:      58482..     58500:     19:         46: shared
   1:      201..     216:      70468..     70483:     16:      58637: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f1ce: 2 extents found
after filter: 239542272#77824#188416#shared 288636928#65536#823296#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f1ce
611
# /bin/btrfs inspect-internal logical-resolve -P 239542272 /mnt/scratch
inode 611 offset 188416 root 258
inode 611 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 611 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f1ce
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f1ce
611
# /bin/btrfs inspect-internal logical-resolve -P 288636928 /mnt/scratch
inode 611 offset 823296 root 258
inode 611 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 611 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f1ce
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/f7c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/f7c is 2122502 (519 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       45..      73:      65170..     65198:     29:         45: shared
   1:       74..      87:      64587..     64600:     14:      65199: shared
   2:      105..     114:      58812..     58821:     10:      64618: shared
   3:      127..     146:      60642..     60661:     20:      58834: shared
   4:      147..     147:      59060..     59060:      1:      60662: shared
   5:      168..     191:      59797..     59820:     24:      59081: unwritten,shared
   6:      401..     432:      59697..     59728:     32:      60030: shared
   7:      433..     433:      59064..     59064:      1:      59729: shared
   8:      471..     478:       4620..      4627:      8:      59102: last,shared
/mnt/scratch/snap1/p0/d5/d7/f7c: 9 extents found
after filter: 266936320#118784#184320#shared 264548352#57344#303104#shared 240893952#40960#430080#shared 248389632#81920#520192#shared 241909760#4096#602112#shared 244928512#98304#688128#unwritten,shared 244518912#131072#1642496#shared 241926144#4096#1773568#shared 18923520#32768#1929216#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f7c
356
# /bin/btrfs inspect-internal logical-resolve -P 266936320 /mnt/scratch
inode 356 offset 184320 root 258
inode 356 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f7c
356
# /bin/btrfs inspect-internal logical-resolve -P 264548352 /mnt/scratch
inode 356 offset 303104 root 258
inode 356 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d5/d7/f7c
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511182499
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f7c
356
# /bin/btrfs inspect-internal logical-resolve -P 240893952 /mnt/scratch
inode 356 offset 430080 root 258
inode 356 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f7c
356
# /bin/btrfs inspect-internal logical-resolve -P 248389632 /mnt/scratch
inode 356 offset 520192 root 258
inode 356 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f7c
356
# /bin/btrfs inspect-internal logical-resolve -P 241909760 /mnt/scratch
inode 356 offset 602112 root 258
inode 356 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f7c
356
# /bin/btrfs inspect-internal logical-resolve -P 244928512 /mnt/scratch
inode 356 offset 688128 root 258
inode 356 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f7c
356
# /bin/btrfs inspect-internal logical-resolve -P 244518912 /mnt/scratch
inode 356 offset 1642496 root 258
inode 356 offset 1642496 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f7c
356
# /bin/btrfs inspect-internal logical-resolve -P 241926144 /mnt/scratch
inode 356 offset 1773568 root 258
inode 356 offset 1773568 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f7c
356
# /bin/btrfs inspect-internal logical-resolve -P 18923520 /mnt/scratch
inode 356 offset 1929216 root 258
inode 356 offset 1929216 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f7c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/d75/f103
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/d75/f103 is 1515507 (370 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       10..      72:      70172..     70234:     63:         10: unwritten,shared
   1:      346..     369:      70667..     70690:     24:      70508: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f103: 2 extents found
after filter: 287424512#258048#40960#unwritten,shared 289452032#98304#1417216#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f103
367
# /bin/btrfs inspect-internal logical-resolve -P 287424512 /mnt/scratch
inode 367 offset 40960 root 258
inode 367 offset 40960 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f89
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f103
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f103
367
# /bin/btrfs inspect-internal logical-resolve -P 289452032 /mnt/scratch
inode 367 offset 1417216 root 258
inode 367 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f89
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f103
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d1f/fcb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d1f/fcb is 834390 (204 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      29:      66151..     66168:     18:         12: shared
   1:       63..      83:       3148..      3168:     21:      66202: shared
   2:       84..      84:       3114..      3114:      1:       3169: last,shared
/mnt/scratch/snap1/p0/d5/d7/d1f/fcb: 3 extents found
after filter: 270954496#73728#49152#shared 12894208#86016#258048#shared 12754944#4096#344064#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d1f/fcb
396
# /bin/btrfs inspect-internal logical-resolve -P 270954496 /mnt/scratch
inode 396 offset 49152 root 258
inode 396 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d1f/fcb
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d1f/fcb
396
# /bin/btrfs inspect-internal logical-resolve -P 12894208 /mnt/scratch
inode 396 offset 258048 root 258
inode 396 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d1f/fcb
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d1f/fcb
396
# /bin/btrfs inspect-internal logical-resolve -P 12754944 /mnt/scratch
inode 396 offset 344064 root 258
inode 396 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d1f/fcb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/df7/f156
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/df7/f156 is 266240 (65 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      40:      67724..     67749:     26:         15: shared
   1:       41..      49:      67125..     67133:      9:      67750: shared
   2:       50..      64:      66958..     66972:     15:      67134: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/df7/f156: 3 extents found
after filter: 277397504#106496#61440#shared 274944000#36864#167936#shared 274259968#61440#204800#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/df7/f156
528
# /bin/btrfs inspect-internal logical-resolve -P 277397504 /mnt/scratch
inode 528 offset 61440 root 258
inode 528 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 528 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/df7/f156
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/df7/f156
528
# /bin/btrfs inspect-internal logical-resolve -P 274944000 /mnt/scratch
inode 528 offset 167936 root 258
inode 528 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 528 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/df7/f156
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/df7/f156
528
# /bin/btrfs inspect-internal logical-resolve -P 274259968 /mnt/scratch
inode 528 offset 204800 root 258
inode 528 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 528 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/df7/f156
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/fca
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/fca is 701263 (172 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       37..      40:      60466..     60469:      4:         37: shared
   1:       41..      41:      60640..     60640:      1:      60470: shared
   2:      139..     199:      64654..     64714:     61:      60738: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/fca: 3 extents found
after filter: 247668736#16384#151552#shared 248381440#4096#167936#shared 264822784#249856#569344#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fca
419
# /bin/btrfs inspect-internal logical-resolve -P 247668736 /mnt/scratch
inode 419 offset 151552 root 258
inode 419 offset 151552 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fca
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fca
419
# /bin/btrfs inspect-internal logical-resolve -P 248381440 /mnt/scratch
inode 419 offset 167936 root 258
inode 419 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fca
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fca
419
# /bin/btrfs inspect-internal logical-resolve -P 264822784 /mnt/scratch
inode 419 offset 569344 root 258
inode 419 offset 569344 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fca
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d102/f117 is 2617031 (639 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       55..      57:       4710..      4712:      3:         55: shared
   1:      194..     215:      62527..     62548:     22:       4849: shared
   2:      216..     216:      59596..     59596:      1:      62549: shared
   3:      352..     352:       3485..      3485:      1:      59732: shared
   4:      607..     638:      65292..     65323:     32:       3740: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d102/f117: 5 extents found
after filter: 19292160#12288#225280#shared 256110592#90112#794624#shared 244105216#4096#884736#shared 14274560#4096#1441792#shared 267436032#131072#2486272#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
479
# /bin/btrfs inspect-internal logical-resolve -P 19292160 /mnt/scratch
inode 479 offset 225280 root 258
inode 479 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
479
# /bin/btrfs inspect-internal logical-resolve -P 256110592 /mnt/scratch
inode 479 offset 794624 root 258
inode 479 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
479
# /bin/btrfs inspect-internal logical-resolve -P 244105216 /mnt/scratch
inode 479 offset 884736 root 258
inode 479 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
479
# /bin/btrfs inspect-internal logical-resolve -P 14274560 /mnt/scratch
inode 479 offset 1441792 root 258
inode 479 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
479
# /bin/btrfs inspect-internal logical-resolve -P 267436032 /mnt/scratch
inode 479 offset 2486272 root 258
inode 479 offset 2486272 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/f117
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/f107 is 3245034 (793 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       73..     304:      63043..     63274:    232:         73: unwritten,shared
   1:      305..     305:      60666..     60666:      1:      63275: shared
   2:      529..     538:      63287..     63296:     10:      60890: shared
   3:      767..     792:      70442..     70467:     26:      63525: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f107: 4 extents found
after filter: 258224128#950272#299008#unwritten,shared 248487936#4096#1249280#shared 259223552#40960#2166784#shared 288530432#106496#3141632#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
467
# /bin/btrfs inspect-internal logical-resolve -P 258224128 /mnt/scratch
inode 467 offset 299008 root 258
inode 467 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f1ba
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
467
# /bin/btrfs inspect-internal logical-resolve -P 248487936 /mnt/scratch
inode 467 offset 1249280 root 258
inode 467 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f1ba
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
467
# /bin/btrfs inspect-internal logical-resolve -P 259223552 /mnt/scratch
inode 467 offset 2166784 root 258
inode 467 offset 2166784 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f1ba
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
467
# /bin/btrfs inspect-internal logical-resolve -P 288530432 /mnt/scratch
inode 467 offset 3141632 root 258
inode 467 offset 3141632 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f1ba
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/d75/f76
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/d75/f76 is 861304 (211 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      52:      63866..     63893:     28:         25: shared
   1:      147..     210:      62589..     62652:     64:      63988: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f76: 2 extents found
after filter: 261595136#114688#102400#shared 256364544#262144#602112#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f76
352
# /bin/btrfs inspect-internal logical-resolve -P 261595136 /mnt/scratch
inode 352 offset 102400 root 258
inode 352 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f76
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f76
352
# /bin/btrfs inspect-internal logical-resolve -P 256364544 /mnt/scratch
inode 352 offset 602112 root 258
inode 352 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f76
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/f11a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/f11a is 1118208 (273 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       34..      35:       3341..      3342:      2:         34: shared
   1:      246..     272:      66044..     66070:     27:       3553: shared,eof
   2:      322..     455:      66695..     66828:    134:      66120: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/f11a: 3 extents found
after filter: 13684736#8192#139264#shared 270516224#110592#1007616#shared,eof 273182720#548864#1318912#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/f11a
482
# /bin/btrfs inspect-internal logical-resolve -P 13684736 /mnt/scratch
inode 482 offset 139264 root 258
inode 482 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 482 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/f11a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/f11a
482
# /bin/btrfs inspect-internal logical-resolve -P 270516224 /mnt/scratch
inode 482 offset 1007616 root 258
inode 482 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 482 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/f11a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/f11a
482
# /bin/btrfs inspect-internal logical-resolve -P 273182720 /mnt/scratch
inode 482 offset 1318912 root 258
inode 482 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 482 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/f11a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/f3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/f3 is 1771164 (433 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      37:      66973..     66993:     21:         17: shared
   1:       47..      52:      58978..     58983:      6:      67003: shared
   2:       54..      55:       3075..      3076:      2:      58985: unwritten,shared
   3:       56..      59:       3120..      3123:      4:       3077: shared
   4:       60..      72:       4051..      4063:     13:       3124: unwritten,shared
   5:       73..      87:       3496..      3510:     15:       4064: shared
   6:       88..      89:       3259..      3260:      2:       3511: shared
   7:       90..      90:       4095..      4095:      1:       3261: shared
   8:      123..     144:      59938..     59959:     22:       4128: shared
   9:      309..     337:      59346..     59374:     29:      60124: unwritten,shared
  10:      338..     353:      59375..     59390:     16:             shared
  11:      354..     412:      59391..     59449:     59:             unwritten,shared
  12:      413..     432:      59450..     59469:     20:             shared,eof
  13:      433..     474:      59470..     59511:     42:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/f3: 10 extents found
after filter: 274321408#86016#69632#shared 241573888#24576#192512#shared 12595200#8192#221184#unwritten,shared 12779520#16384#229376#shared 16592896#53248#245760#unwritten,shared 14319616#61440#299008#shared 13348864#8192#360448#shared 16773120#4096#368640#shared 245506048#90112#503808#shared 243081216#118784#1265664#unwritten,shared 243200000#65536#1384448#shared 243265536#241664#1449984#unwritten,shared 243507200#81920#1691648#shared,eof 243589120#172032#1773568#last,unwritten,shared,eof 
background rm
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 274321408 /mnt/scratch
inode 262 offset 69632 root 258
inode 262 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511978925
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 241573888 /mnt/scratch
inode 262 offset 192512 root 258
inode 262 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 12595200 /mnt/scratch
inode 262 offset 221184 root 258
inode 262 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 12779520 /mnt/scratch
inode 262 offset 229376 root 258
inode 262 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 16592896 /mnt/scratch
inode 262 offset 245760 root 258
inode 262 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 14319616 /mnt/scratch
inode 262 offset 299008 root 258
inode 262 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 13348864 /mnt/scratch
inode 262 offset 360448 root 258
inode 262 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 16773120 /mnt/scratch
inode 262 offset 368640 root 258
inode 262 offset 368640 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 245506048 /mnt/scratch
inode 262 offset 503808 root 258
inode 262 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 243081216 /mnt/scratch
inode 262 offset 1265664 root 258
inode 262 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 243200000 /mnt/scratch
inode 262 offset 1384448 root 258
inode 262 offset 1384448 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 243265536 /mnt/scratch
inode 262 offset 1449984 root 258
inode 262 offset 1449984 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 243507200 /mnt/scratch
inode 262 offset 1691648 root 258
inode 262 offset 1691648 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# stat -c %i /mnt/scratch/snap1/p0/f3
262
# /bin/btrfs inspect-internal logical-resolve -P 243589120 /mnt/scratch
inode 262 offset 1773568 root 258
inode 262 offset 1773568 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1e5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1e5 is 667269 (163 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      133..     162:      70484..     70513:     30:        133: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1e5: 1 extent found
after filter: 288702464#122880#544768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1e5
629
# /bin/btrfs inspect-internal logical-resolve -P 288702464 /mnt/scratch
inode 629 offset 544768 root 258
inode 629 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 629 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/f1e5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef is 1148559 (281 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       77..      77:       4080..      4080:      1:         77: shared
   1:      135..     175:      64170..     64210:     41:       4138: unwritten,shared
   2:      176..     176:      64211..     64211:      1:             shared
   3:      177..     280:      64212..     64315:    104:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef: 2 extents found
after filter: 16711680#4096#315392#shared 262840320#167936#552960#unwritten,shared 263008256#4096#720896#shared 263012352#425984#724992#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef
446
# /bin/btrfs inspect-internal logical-resolve -P 16711680 /mnt/scratch
inode 446 offset 315392 root 258
inode 446 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 446 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef
446
# /bin/btrfs inspect-internal logical-resolve -P 262840320 /mnt/scratch
inode 446 offset 552960 root 258
inode 446 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 446 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef
446
# /bin/btrfs inspect-internal logical-resolve -P 263008256 /mnt/scratch
inode 446 offset 720896 root 258
inode 446 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 446 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef
446
# /bin/btrfs inspect-internal logical-resolve -P 263012352 /mnt/scratch
inode 446 offset 724992 root 258
inode 446 offset 724992 root 5
# /bin/btrfs inspect-internal inode-resolve 446 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d82/de6/fef
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6 is 1005709 (246 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       42..      52:      63276..     63286:     11:         42: shared
   1:      103..     119:       3202..      3218:     17:      63337: unwritten,shared
   2:      120..     130:       3546..      3556:     11:       3219: unwritten,shared
   3:      131..     142:      62371..     62382:     12:       3557: unwritten,shared
   4:      143..     143:      62383..     62383:      1:             shared
   5:      226..     245:      69517..     69536:     20:      62466: shared,eof
   6:      417..     467:      69313..     69363:     51:      69708: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6: 6 extents found
after filter: 259178496#45056#172032#shared 13115392#69632#421888#unwritten,shared 14524416#45056#491520#unwritten,shared 255471616#49152#536576#unwritten,shared 255520768#4096#585728#shared 284741632#81920#925696#shared,eof 283906048#208896#1708032#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
303
# /bin/btrfs inspect-internal logical-resolve -P 259178496 /mnt/scratch
inode 303 offset 172032 root 258
inode 303 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
303
# /bin/btrfs inspect-internal logical-resolve -P 13115392 /mnt/scratch
inode 303 offset 421888 root 258
inode 303 offset 421888 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
303
# /bin/btrfs inspect-internal logical-resolve -P 14524416 /mnt/scratch
inode 303 offset 491520 root 258
inode 303 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
303
# /bin/btrfs inspect-internal logical-resolve -P 255471616 /mnt/scratch
inode 303 offset 536576 root 258
inode 303 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
303
# /bin/btrfs inspect-internal logical-resolve -P 255520768 /mnt/scratch
inode 303 offset 585728 root 258
inode 303 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
303
# /bin/btrfs inspect-internal logical-resolve -P 284741632 /mnt/scratch
inode 303 offset 925696 root 258
inode 303 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
303
# /bin/btrfs inspect-internal logical-resolve -P 283906048 /mnt/scratch
inode 303 offset 1708032 root 258
inode 303 offset 1708032 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/f180
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/f180 is 794624 (194 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      165..     193:      68125..     68153:     29:        165: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/f180: 1 extent found
after filter: 279040000#118784#675840#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f180
559
# /bin/btrfs inspect-internal logical-resolve -P 279040000 /mnt/scratch
inode 559 offset 675840 root 258
inode 559 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 559 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f180
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/da6/fd4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/da6/fd4 is 1757420 (430 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      161..     179:      62507..     62525:     19:        161: shared
   1:      412..     429:      64526..     64543:     18:      62758: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/da6/fd4: 2 extents found
after filter: 256028672#77824#659456#shared 264298496#73728#1687552#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/da6/fd4
427
# /bin/btrfs inspect-internal logical-resolve -P 256028672 /mnt/scratch
inode 427 offset 659456 root 258
inode 427 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/da6/fd4
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/da6/fd4
427
# /bin/btrfs inspect-internal logical-resolve -P 264298496 /mnt/scratch
inode 427 offset 1687552 root 258
inode 427 offset 1687552 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/da6/fd4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/f1ba
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/f1ba is 3245034 (793 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       73..     304:      63043..     63274:    232:         73: unwritten,shared
   1:      305..     305:      60666..     60666:      1:      63275: shared
   2:      529..     538:      63287..     63296:     10:      60890: shared
   3:      767..     792:      70442..     70467:     26:      63525: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/f1ba: 4 extents found
after filter: 258224128#950272#299008#unwritten,shared 248487936#4096#1249280#shared 259223552#40960#2166784#shared 288530432#106496#3141632#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f1ba
467
# /bin/btrfs inspect-internal logical-resolve -P 258224128 /mnt/scratch
inode 467 offset 299008 root 258
inode 467 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f1ba
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f1ba
467
# /bin/btrfs inspect-internal logical-resolve -P 248487936 /mnt/scratch
inode 467 offset 1249280 root 258
inode 467 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f1ba
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f1ba
467
# /bin/btrfs inspect-internal logical-resolve -P 259223552 /mnt/scratch
inode 467 offset 2166784 root 258
inode 467 offset 2166784 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f1ba
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f1ba
467
# /bin/btrfs inspect-internal logical-resolve -P 288530432 /mnt/scratch
inode 467 offset 3141632 root 258
inode 467 offset 3141632 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d5/d7/d13/f1ba
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f107
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/d75/d1de/f1ed
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/d75/d1de/f1ed is 502001 (123 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       94..     122:      70549..     70577:     29:         94: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/d75/d1de/f1ed: 1 extent found
after filter: 288968704#118784#385024#last,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/d1de/f1ed
seed = 1511721200
636
# /bin/btrfs inspect-internal logical-resolve -P 288968704 /mnt/scratch
inode 636 offset 385024 root 258
inode 636 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 636 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/d75/d1de/f1ed
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec is 2445312 (597 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      208..     215:      66491..     66498:      8:        208: shared
   1:      221..     234:      61448..     61461:     14:      66504: shared
   2:      235..     235:      58466..     58466:      1:      61462: shared
   3:      247..     247:       3115..      3115:      1:      58478: shared
   4:      352..     359:      65598..     65605:      8:       3220: shared
   5:      360..     360:      58475..     58475:      1:      65606: shared
   6:      578..     596:      68620..     68638:     19:      58693: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec: 7 extents found
after filter: 272347136#32768#851968#shared 251691008#57344#905216#shared 239476736#4096#962560#shared 12759040#4096#1011712#shared 268689408#32768#1441792#shared 239513600#4096#1474560#shared 281067520#77824#2367488#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
443
# /bin/btrfs inspect-internal logical-resolve -P 272347136 /mnt/scratch
inode 443 offset 851968 root 258
inode 443 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
443
# /bin/btrfs inspect-internal logical-resolve -P 251691008 /mnt/scratch
inode 443 offset 905216 root 258
inode 443 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
443
# /bin/btrfs inspect-internal logical-resolve -P 239476736 /mnt/scratch
inode 443 offset 962560 root 258
inode 443 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
443
# /bin/btrfs inspect-internal logical-resolve -P 12759040 /mnt/scratch
inode 443 offset 1011712 root 258
inode 443 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
443
# /bin/btrfs inspect-internal logical-resolve -P 268689408 /mnt/scratch
inode 443 offset 1441792 root 258
inode 443 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
443
# /bin/btrfs inspect-internal logical-resolve -P 239513600 /mnt/scratch
inode 443 offset 1474560 root 258
inode 443 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
443
# /bin/btrfs inspect-internal logical-resolve -P 281067520 /mnt/scratch
inode 443 offset 2367488 root 258
inode 443 offset 2367488 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/fec
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5 is 1196349 (293 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      23:      66454..     66462:      9:         15: shared
   1:       38..      49:      59749..     59760:     12:      66477: shared
   2:       50..      50:      60153..     60153:      1:      59761: shared
   3:      279..     292:      69628..     69641:     14:      60382: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5: 4 extents found
after filter: 272195584#36864#61440#shared 244731904#49152#155648#shared 246386688#4096#204800#shared 285196288#57344#1142784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
416
# /bin/btrfs inspect-internal logical-resolve -P 272195584 /mnt/scratch
inode 416 offset 61440 root 258
inode 416 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
416
# /bin/btrfs inspect-internal logical-resolve -P 244731904 /mnt/scratch
inode 416 offset 155648 root 258
inode 416 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
416
# /bin/btrfs inspect-internal logical-resolve -P 246386688 /mnt/scratch
inode 416 offset 204800 root 258
inode 416 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
416
# /bin/btrfs inspect-internal logical-resolve -P 285196288 /mnt/scratch
inode 416 offset 1142784 root 258
inode 416 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93 is 1396736 (341 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      40:      60094..     60105:     12:         29: shared
   1:       63..      93:      60779..     60809:     31:      60128: shared
   2:       94..      94:      59592..     59592:      1:      60810: shared
   3:      267..     294:      64433..     64460:     28:      59765: shared
   4:      295..     295:      60830..     60830:      1:      64461: shared
   5:      316..     340:      66099..     66123:     25:      60851: shared,eof
   6:      450..     579:      65040..     65169:    130:      66233: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93: 7 extents found
after filter: 246145024#49152#118784#shared 248950784#126976#258048#shared 244088832#4096#385024#shared 263917568#114688#1093632#shared 249159680#4096#1208320#shared 270741504#102400#1294336#shared,eof 266403840#532480#1843200#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
375
# /bin/btrfs inspect-internal logical-resolve -P 246145024 /mnt/scratch
inode 375 offset 118784 root 258
inode 375 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
375
# /bin/btrfs inspect-internal logical-resolve -P 248950784 /mnt/scratch
inode 375 offset 258048 root 258
inode 375 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
375
# /bin/btrfs inspect-internal logical-resolve -P 244088832 /mnt/scratch
inode 375 offset 385024 root 258
inode 375 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
375
# /bin/btrfs inspect-internal logical-resolve -P 263917568 /mnt/scratch
inode 375 offset 1093632 root 258
inode 375 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
375
# /bin/btrfs inspect-internal logical-resolve -P 249159680 /mnt/scratch
inode 375 offset 1208320 root 258
inode 375 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
375
# /bin/btrfs inspect-internal logical-resolve -P 270741504 /mnt/scratch
inode 375 offset 1294336 root 258
inode 375 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
375
# /bin/btrfs inspect-internal logical-resolve -P 266403840 /mnt/scratch
inode 375 offset 1843200 root 258
inode 375 offset 1843200 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f93
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f114
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f114 is 247139 (61 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       49..      60:      69616..     69627:     12:         49: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f114: 1 extent found
after filter: 285147136#49152#200704#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f114
477
# /bin/btrfs inspect-internal logical-resolve -P 285147136 /mnt/scratch
inode 477 offset 200704 root 258
inode 477 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f114
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/fa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/fa is 2814999 (688 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      159..     159:       3072..      3072:      1:        159: shared
   1:      260..     260:       3124..      3124:      1:       3173: shared
   2:      279..     284:       4394..      4399:      6:       3143: shared
   3:      305..     311:       4444..      4450:      7:       4420: shared
   4:      312..     313:       3334..      3335:      2:       4451: shared
   5:      314..     325:       4453..      4464:     12:       3336: shared
   6:      326..     357:      62050..     62081:     32:       4465: shared
   7:      560..     579:      60539..     60558:     20:      62284: shared
   8:      624..     629:       4333..      4338:      6:      60603: shared
   9:      665..     687:      60559..     60581:     23:       4374: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/fa: 10 extents found
after filter: 12582912#4096#651264#shared 12795904#4096#1064960#shared 17997824#24576#1142784#shared 18202624#28672#1249280#shared 13656064#8192#1277952#shared 18239488#49152#1286144#shared 254156800#131072#1335296#shared 247967744#81920#2293760#shared 17747968#24576#2555904#shared 248049664#94208#2723840#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 12582912 /mnt/scratch
inode 269 offset 651264 root 258
inode 269 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 12795904 /mnt/scratch
inode 269 offset 1064960 root 258
inode 269 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 17997824 /mnt/scratch
inode 269 offset 1142784 root 258
inode 269 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 18202624 /mnt/scratch
inode 269 offset 1249280 root 258
inode 269 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 13656064 /mnt/scratch
inode 269 offset 1277952 root 258
inode 269 offset 1277952 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 18239488 /mnt/scratch
inode 269 offset 1286144 root 258
inode 269 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 254156800 /mnt/scratch
inode 269 offset 1335296 root 258
inode 269 offset 1335296 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 247967744 /mnt/scratch
inode 269 offset 2293760 root 258
inode 269 offset 2293760 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 17747968 /mnt/scratch
inode 269 offset 2555904 root 258
inode 269 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fa
269
# /bin/btrfs inspect-internal logical-resolve -P 248049664 /mnt/scratch
inode 269 offset 2723840 root 258
inode 269 offset 2723840 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/f151
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/f151 is 139513 (35 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      34:      60859..     60864:      6:         29: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/f151: 1 extent found
after filter: 249278464#24576#118784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f151
387
# /bin/btrfs inspect-internal logical-resolve -P 249278464 /mnt/scratch
inode 387 offset 118784 root 258
inode 387 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f151
/mnt/scratch/snap1/p0/d5/d7/d4d/fa4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d67/ffe
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d67/ffe is 1353026 (331 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       4:      64396..     64399:      4:          1: shared
   1:        5..      22:      58550..     58567:     18:      64400: shared
   2:       58..      58:       3243..      3243:      1:      58603: shared
   3:      130..     145:      68699..     68714:     16:       3315: shared
   4:      146..     146:      58925..     58925:      1:      68715: shared
   5:      174..     316:      69836..     69978:    143:      58953: unwritten,shared
   6:      317..     330:      70428..     70441:     14:      69979: shared,eof
   7:      331..     405:      69993..     70067:     75:      70442: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d67/ffe: 8 extents found
after filter: 263766016#16384#4096#shared 239820800#73728#20480#shared 13283328#4096#237568#shared 281391104#65536#532480#shared 241356800#4096#598016#shared 286048256#585728#712704#unwritten,shared 288473088#57344#1298432#shared,eof 286691328#307200#1355776#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/ffe
461
# /bin/btrfs inspect-internal logical-resolve -P 263766016 /mnt/scratch
inode 461 offset 4096 root 258
inode 461 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/ffe
461
# /bin/btrfs inspect-internal logical-resolve -P 239820800 /mnt/scratch
inode 461 offset 20480 root 258
inode 461 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/ffe
461
# /bin/btrfs inspect-internal logical-resolve -P 13283328 /mnt/scratch
inode 461 offset 237568 root 258
inode 461 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/ffe
461
# /bin/btrfs inspect-internal logical-resolve -P 281391104 /mnt/scratch
inode 461 offset 532480 root 258
inode 461 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/ffe
461
# /bin/btrfs inspect-internal logical-resolve -P 241356800 /mnt/scratch
inode 461 offset 598016 root 258
inode 461 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/ffe
461
# /bin/btrfs inspect-internal logical-resolve -P 286048256 /mnt/scratch
inode 461 offset 712704 root 258
inode 461 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/ffe
461
# /bin/btrfs inspect-internal logical-resolve -P 288473088 /mnt/scratch
inode 461 offset 1298432 root 258
inode 461 offset 1298432 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/ffe
461
# /bin/btrfs inspect-internal logical-resolve -P 286691328 /mnt/scratch
inode 461 offset 1355776 root 258
inode 461 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d102/f1ea
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d102/f1ea is 536576 (131 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      37:      69135..     69145:     11:         27: shared
   1:      129..     130:       3343..      3344:      2:      69237: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d102/f1ea: 2 extents found
after filter: 283176960#45056#110592#shared 13692928#8192#528384#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/f1ea
633
# /bin/btrfs inspect-internal logical-resolve -P 283176960 /mnt/scratch
inode 633 offset 110592 root 258
inode 633 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 633 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/f1ea
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d102/f1ea
633
# /bin/btrfs inspect-internal logical-resolve -P 13692928 /mnt/scratch
inode 633 offset 528384 root 258
inode 633 offset 528384 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 633 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d102/f1ea
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140 is 1129447 (276 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..     172:      63578..     63733:    156:         17: unwritten,shared
   1:      176..     203:      63298..     63325:     28:      63737: shared
   2:      227..     249:      69091..     69113:     23:      63349: shared
   3:      274..     275:       4339..      4340:      2:      69138: shared,eof
   4:      432..     678:      68157..     68403:    247:       4497: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140: 5 extents found
after filter: 260415488#638976#69632#unwritten,shared 259268608#114688#720896#shared 282996736#94208#929792#shared 17772544#8192#1122304#shared,eof 279171072#1011712#1769472#last,unwritten,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511276405
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
434
# /bin/btrfs inspect-internal logical-resolve -P 260415488 /mnt/scratch
inode 434 offset 69632 root 258
inode 434 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
434
# /bin/btrfs inspect-internal logical-resolve -P 259268608 /mnt/scratch
inode 434 offset 720896 root 258
inode 434 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
434
# /bin/btrfs inspect-internal logical-resolve -P 282996736 /mnt/scratch
inode 434 offset 929792 root 258
inode 434 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
434
# /bin/btrfs inspect-internal logical-resolve -P 17772544 /mnt/scratch
inode 434 offset 1122304 root 258
inode 434 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
434
# /bin/btrfs inspect-internal logical-resolve -P 279171072 /mnt/scratch
inode 434 offset 1769472 root 258
inode 434 offset 1769472 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/db0/f187
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/db0/f187 is 796767 (195 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      28:       3116..      3117:      2:         27: shared
   1:      170..     180:      66239..     66249:     11:       3259: unwritten,shared
   2:      181..     190:      67039..     67048:     10:      66250: shared
   3:      191..     191:      58927..     58927:      1:      67049: shared
   4:      192..     194:      60148..     60150:      3:      58928: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/db0/f187: 5 extents found
after filter: 12763136#8192#110592#shared 271314944#45056#696320#unwritten,shared 274591744#40960#741376#shared 241364992#4096#782336#shared 246366208#12288#786432#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/db0/f187
565
# /bin/btrfs inspect-internal logical-resolve -P 12763136 /mnt/scratch
inode 565 offset 110592 root 258
inode 565 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 565 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/db0/f187
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/db0/f187
565
# /bin/btrfs inspect-internal logical-resolve -P 271314944 /mnt/scratch
inode 565 offset 696320 root 258
inode 565 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 565 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/db0/f187
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/db0/f187
565
# /bin/btrfs inspect-internal logical-resolve -P 274591744 /mnt/scratch
inode 565 offset 741376 root 258
inode 565 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 565 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/db0/f187
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/db0/f187
565
# /bin/btrfs inspect-internal logical-resolve -P 241364992 /mnt/scratch
inode 565 offset 782336 root 258
inode 565 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 565 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/db0/f187
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/db0/f187
565
# /bin/btrfs inspect-internal logical-resolve -P 246366208 /mnt/scratch
inode 565 offset 786432 root 258
inode 565 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 565 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/db0/f187
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d67/f145
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d67/f145 is 395581 (97 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       85..      96:      61603..     61614:     12:         85: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d67/f145: 1 extent found
after filter: 252325888#49152#348160#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d67/f145
518
# /bin/btrfs inspect-internal logical-resolve -P 252325888 /mnt/scratch
inode 518 offset 348160 root 258
inode 518 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 518 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d67/f145
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5 is 1196349 (293 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      23:      66454..     66462:      9:         15: shared
   1:       38..      49:      59749..     59760:     12:      66477: shared
   2:       50..      50:      60153..     60153:      1:      59761: shared
   3:      279..     292:      69628..     69641:     14:      60382: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5: 4 extents found
after filter: 272195584#36864#61440#shared 244731904#49152#155648#shared 246386688#4096#204800#shared 285196288#57344#1142784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
416
# /bin/btrfs inspect-internal logical-resolve -P 272195584 /mnt/scratch
inode 416 offset 61440 root 258
inode 416 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
416
# /bin/btrfs inspect-internal logical-resolve -P 244731904 /mnt/scratch
inode 416 offset 155648 root 258
inode 416 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
416
# /bin/btrfs inspect-internal logical-resolve -P 246386688 /mnt/scratch
inode 416 offset 204800 root 258
inode 416 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
416
# /bin/btrfs inspect-internal logical-resolve -P 285196288 /mnt/scratch
inode 416 offset 1142784 root 258
inode 416 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fc5
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1a5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2 is 1470965 (360 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       75..      84:      62694..     62703:     10:         75: shared
   1:       85..     107:      64625..     64647:     23:      62704: shared
   2:      108..     131:      58776..     58799:     24:      64648: unwritten,shared
   3:      132..     156:      61541..     61565:     25:      58800: shared
   4:      157..     157:      58477..     58477:      1:      61566: shared
   5:      158..     164:      58409..     58415:      7:      58478: unwritten,shared
   6:      183..     195:       3425..      3437:     13:      58434: shared
   7:      196..     196:       4033..      4033:      1:       3438: shared
   8:      225..     231:      60514..     60520:      7:       4062: shared
   9:      346..     359:      65343..     65356:     14:      60635: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2: 10 extents found
after filter: 256794624#40960#307200#shared 264704000#94208#348160#shared 240746496#98304#442368#unwritten,shared 252071936#102400#540672#shared 239521792#4096#643072#shared 239243264#28672#647168#unwritten,shared 14028800#53248#749568#shared 16519168#4096#802816#shared 247865344#28672#921600#shared 267644928#57344#1417216#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 256794624 /mnt/scratch
inode 413 offset 307200 root 258
inode 413 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 264704000 /mnt/scratch
inode 413 offset 348160 root 258
inode 413 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 240746496 /mnt/scratch
inode 413 offset 442368 root 258
inode 413 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 252071936 /mnt/scratch
inode 413 offset 540672 root 258
inode 413 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 239521792 /mnt/scratch
inode 413 offset 643072 root 258
inode 413 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 239243264 /mnt/scratch
inode 413 offset 647168 root 258
inode 413 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 14028800 /mnt/scratch
inode 413 offset 749568 root 258
inode 413 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 16519168 /mnt/scratch
inode 413 offset 802816 root 258
inode 413 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 247865344 /mnt/scratch
inode 413 offset 921600 root 258
inode 413 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 267644928 /mnt/scratch
inode 413 offset 1417216 root 258
inode 413 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/f47
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/f47 is 3237292 (791 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      37:      59886..     59905:     20:         18: shared
   1:       79..      87:      59626..     59634:      9:      59947: shared
   2:       92..      93:       4713..      4714:      2:      59639: shared
   3:       94..     117:      59542..     59565:     24:       4715: shared
   4:      118..     131:      61720..     61733:     14:      59566: shared
   5:      226..     229:       4440..      4443:      4:      61828: shared
   6:      348..     348:       4751..      4751:      1:       4562: shared
   7:      484..     529:       3370..      3415:     46:       4887: unwritten,shared
   8:      530..     533:       3416..      3419:      4:             shared
   9:      534..     536:       5116..      5118:      3:       3420: shared
  10:      537..     560:       4822..      4845:     24:       5119: shared
  11:      561..     755:       4846..      5040:    195:             unwritten,shared
  12:      756..     760:      60395..     60399:      5:       5041: unwritten,shared
  13:      761..     771:      60400..     60410:     11:             shared
  14:      772..     790:      61734..     61752:     19:      60411: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/f47: 12 extents found
after filter: 245293056#81920#73728#shared 244228096#36864#323584#shared 19304448#8192#376832#shared 243884032#98304#385024#shared 252805120#57344#483328#shared 18186240#16384#925696#shared 19460096#4096#1425408#shared 13803520#188416#1982464#unwritten,shared 13991936#16384#2170880#shared 20955136#12288#2187264#shared 19750912#98304#2199552#shared 19849216#798720#2297856#unwritten,shared 247377920#20480#3096576#unwritten,shared 247398400#45056#3117056#shared 252862464#77824#3162112#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 245293056 /mnt/scratch
inode 288 offset 73728 root 258
inode 288 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 244228096 /mnt/scratch
inode 288 offset 323584 root 258
inode 288 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 19304448 /mnt/scratch
inode 288 offset 376832 root 258
inode 288 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 243884032 /mnt/scratch
inode 288 offset 385024 root 258
inode 288 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 252805120 /mnt/scratch
inode 288 offset 483328 root 258
inode 288 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 18186240 /mnt/scratch
inode 288 offset 925696 root 258
inode 288 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 19460096 /mnt/scratch
inode 288 offset 1425408 root 258
inode 288 offset 1425408 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 13803520 /mnt/scratch
inode 288 offset 1982464 root 258
inode 288 offset 1982464 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 13991936 /mnt/scratch
inode 288 offset 2170880 root 258
inode 288 offset 2170880 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511982612
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 20955136 /mnt/scratch
inode 288 offset 2187264 root 258
inode 288 offset 2187264 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 19750912 /mnt/scratch
inode 288 offset 2199552 root 258
inode 288 offset 2199552 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 19849216 /mnt/scratch
inode 288 offset 2297856 root 258
inode 288 offset 2297856 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 247377920 /mnt/scratch
inode 288 offset 3096576 root 258
inode 288 offset 3096576 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 247398400 /mnt/scratch
inode 288 offset 3117056 root 258
inode 288 offset 3117056 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f47
288
# /bin/btrfs inspect-internal logical-resolve -P 252862464 /mnt/scratch
inode 288 offset 3162112 root 258
inode 288 offset 3162112 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f47
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f131
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f131 is 1055637 (258 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      230..     230:       3118..      3118:      1:        230: shared
   1:      241..     257:      69027..     69043:     17:       3129: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f131: 2 extents found
after filter: 12771328#4096#942080#shared 282734592#69632#987136#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f131
504
# /bin/btrfs inspect-internal logical-resolve -P 12771328 /mnt/scratch
inode 504 offset 942080 root 258
inode 504 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 504 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f131
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f131
504
# /bin/btrfs inspect-internal logical-resolve -P 282734592 /mnt/scratch
inode 504 offset 987136 root 258
inode 504 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 504 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/f131
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f166
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f166 is 889117 (218 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      49:      66071..     66098:     28:         22: last,shared
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f166: 1 extent found
after filter: 270626816#114688#90112#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f166
539
# /bin/btrfs inspect-internal logical-resolve -P 270626816 /mnt/scratch
inode 539 offset 90112 root 258
inode 539 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 539 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/f166
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df is 3095649 (756 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       49..      91:      60175..     60217:     43:         49: unwritten,shared
   1:       92..      93:      60218..     60219:      2:             shared
   2:       94..     109:      60220..     60235:     16:             unwritten,shared
   3:      110..     110:      60236..     60236:      1:             shared
   4:      111..     118:      60237..     60244:      8:             unwritten,shared
   5:      119..     119:       3253..      3253:      1:      60245: shared
   6:      120..     151:      60245..     60276:     32:       3254: unwritten,shared
   7:      152..     154:      60663..     60665:      3:      60277: shared
   8:      155..     269:      60280..     60394:    115:      60666: unwritten,shared
   9:      292..     311:      59918..     59937:     20:      60417: shared
  10:      340..     358:      60411..     60429:     19:      59966: shared
  11:      362..     369:      60594..     60601:      8:      60433: shared
  12:      370..     377:      61463..     61470:      8:      60602: shared
  13:      378..     392:      64124..     64138:     15:      61471: shared
  14:      393..     412:      58501..     58520:     20:      64139: shared
  15:      419..     443:      61771..     61795:     25:      58527: shared
  16:      444..     444:      59061..     59061:      1:      61796: shared
  17:      564..     569:      59906..     59911:      6:      59181: shared
  18:      629..     648:      67308..     67327:     20:      59971: shared
  19:      672..     676:       3860..      3864:      5:      67351: shared
  20:      677..     677:       3090..      3090:      1:       3865: shared
  21:      733..     754:      63824..     63845:     22:       3146: shared
  22:      755..     755:      58822..     58822:      1:      63846: shared,eof
  23:      991..    1091:      61088..     61188:    101:      59058: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df: 20 extents found
after filter: 246476800#176128#200704#unwritten,shared 246652928#8192#376832#shared 246661120#65536#385024#unwritten,shared 246726656#4096#450560#shared 246730752#32768#454656#unwritten,shared 13324288#4096#487424#shared 246763520#131072#491520#unwritten,shared 248475648#12288#622592#shared 246906880#471040#634880#unwritten,shared 245424128#81920#1196032#shared 247443456#77824#1392640#shared 248193024#32768#1482752#shared 251752448#32768#1515520#shared 262651904#61440#1548288#shared 239620096#81920#1609728#shared 253014016#102400#1716224#shared 241913856#4096#1818624#shared 245374976#24576#2310144#shared 275693568#81920#2576384#shared 15810560#20480#2752512#shared 12656640#4096#2772992#shared 261423104#90112#3002368#shared 240934912#4096#3092480#shared,eof 250216448#413696#4059136#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 246476800 /mnt/scratch
inode 301 offset 200704 root 258
inode 301 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 246652928 /mnt/scratch
inode 301 offset 376832 root 258
inode 301 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 246661120 /mnt/scratch
inode 301 offset 385024 root 258
inode 301 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 246726656 /mnt/scratch
inode 301 offset 450560 root 258
inode 301 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 246730752 /mnt/scratch
inode 301 offset 454656 root 258
inode 301 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 13324288 /mnt/scratch
inode 301 offset 487424 root 258
inode 301 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 246763520 /mnt/scratch
inode 301 offset 491520 root 258
inode 301 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 248475648 /mnt/scratch
inode 301 offset 622592 root 258
inode 301 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 246906880 /mnt/scratch
inode 301 offset 634880 root 258
inode 301 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 245424128 /mnt/scratch
inode 301 offset 1196032 root 258
inode 301 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 247443456 /mnt/scratch
inode 301 offset 1392640 root 258
inode 301 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 248193024 /mnt/scratch
inode 301 offset 1482752 root 258
inode 301 offset 1482752 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 251752448 /mnt/scratch
inode 301 offset 1515520 root 258
inode 301 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 262651904 /mnt/scratch
inode 301 offset 1548288 root 258
inode 301 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 239620096 /mnt/scratch
inode 301 offset 1609728 root 258
inode 301 offset 1609728 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 253014016 /mnt/scratch
inode 301 offset 1716224 root 258
inode 301 offset 1716224 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 241913856 /mnt/scratch
inode 301 offset 1818624 root 258
inode 301 offset 1818624 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 245374976 /mnt/scratch
inode 301 offset 2310144 root 258
inode 301 offset 2310144 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 275693568 /mnt/scratch
inode 301 offset 2576384 root 258
inode 301 offset 2576384 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 15810560 /mnt/scratch
inode 301 offset 2752512 root 258
inode 301 offset 2752512 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 12656640 /mnt/scratch
inode 301 offset 2772992 root 258
inode 301 offset 2772992 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 261423104 /mnt/scratch
inode 301 offset 3002368 root 258
inode 301 offset 3002368 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 240934912 /mnt/scratch
inode 301 offset 3092480 root 258
inode 301 offset 3092480 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
301
# /bin/btrfs inspect-internal logical-resolve -P 250216448 /mnt/scratch
inode 301 offset 4059136 root 258
inode 301 offset 4059136 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa is 950272 (232 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       58..      72:      63795..     63809:     15:         58: shared
   1:      132..     212:      65620..     65700:     81:      63869: unwritten,shared
   2:      213..     231:      65211..     65229:     19:      65701: shared,eof
   3:      232..     339:      65701..     65808:    108:      65230: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa: 4 extents found
after filter: 261304320#61440#237568#shared 268779520#331776#540672#unwritten,shared 267104256#77824#872448#shared,eof 269111296#442368#950272#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa
457
# /bin/btrfs inspect-internal logical-resolve -P 261304320 /mnt/scratch
inode 457 offset 237568 root 258
inode 457 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa
457
# /bin/btrfs inspect-internal logical-resolve -P 268779520 /mnt/scratch
inode 457 offset 540672 root 258
inode 457 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa
457
# /bin/btrfs inspect-internal logical-resolve -P 267104256 /mnt/scratch
inode 457 offset 872448 root 258
inode 457 offset 872448 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511746808
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa
457
# /bin/btrfs inspect-internal logical-resolve -P 269111296 /mnt/scratch
inode 457 offset 950272 root 258
inode 457 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/ffa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10c is 1100245 (269 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      229..     241:       3847..      3859:     13:        229: last,shared
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10c: 1 extent found
after filter: 15757312#53248#937984#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f10c
431
# /bin/btrfs inspect-internal logical-resolve -P 15757312 /mnt/scratch
inode 431 offset 937984 root 258
inode 431 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f159
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f10c
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/dbf/f1da
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79 is 4721157 (1153 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      117..     119:       4083..      4085:      3:        117: shared
   1:      160..     160:       3107..      3107:      1:       4126: shared
   2:      161..     172:       4039..      4050:     12:       3108: shared
   3:      178..     192:       4357..      4371:     15:       4056: shared
   4:      193..     193:       4355..      4355:      1:       4372: shared
   5:      194..     202:      60811..     60819:      9:       4356: shared
   6:      203..     207:       4129..      4133:      5:      60820: shared
   7:      208..     250:       4134..      4176:     43:             unwritten,shared
   8:      251..     264:       4177..      4190:     14:             shared
   9:      265..     284:       4191..      4210:     20:             unwritten,shared
  10:      285..     300:       4211..      4226:     16:             shared
  11:      301..     301:       3073..      3073:      1:       4227: shared
  12:      302..     338:       4228..      4264:     37:       3074: unwritten,shared
  13:      339..     344:       4265..      4270:      6:             shared
  14:      345..     362:      63847..     63864:     18:       4271: shared
  15:      363..     364:       4289..      4290:      2:      63865: shared
  16:      365..     365:       4291..      4291:      1:             unwritten,shared
  17:      366..     375:       4292..      4301:     10:             shared
  18:      376..     377:       4392..      4393:      2:       4302: shared
  19:      378..     396:       4373..      4391:     19:       4394: shared
  20:      397..     401:       3099..      3103:      5:       4392: shared
  21:      402..     404:      58928..     58930:      3:       3104: shared
  22:      405..     407:       3511..      3513:      3:      58931: shared
  23:      428..     468:       3289..      3329:     41:       3534: unwritten,shared
  24:      469..     469:       3330..      3330:      1:             shared
  25:      472..     487:      68716..     68731:     16:       3333: shared
  26:      501..     509:      60610..     60618:      9:      68745: shared
  27:      519..     519:       3351..      3351:      1:      60628: shared
  28:      526..     533:      61210..     61217:      8:       3358: shared
  29:      665..     677:      64544..     64556:     13:      61349: shared
  30:      730..     753:      65231..     65254:     24:      64609: shared
  31:      754..     754:      58468..     58468:      1:      65255: shared
  32:      806..     867:      68404..     68465:     62:      58520: unwritten,shared
  33:      890..     890:       3907..      3907:      1:      68488: shared
  34:     1015..    1037:      70405..     70427:     23:       4032: shared
  35:     1123..    1152:      66994..     67023:     30:      70513: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79: 28 extents found
after filter: 16723968#12288#479232#shared 12726272#4096#655360#shared 16543744#49152#659456#shared 17846272#61440#729088#shared 17838080#4096#790528#shared 249081856#36864#794624#shared 16912384#20480#831488#shared 16932864#176128#851968#unwritten,shared 17108992#57344#1028096#shared 17166336#81920#1085440#unwritten,shared 17248256#65536#1167360#shared 12587008#4096#1232896#shared 17317888#151552#1236992#unwritten,shared 17469440#24576#1388544#shared 261517312#73728#1413120#shared 17567744#8192#1486848#shared 17575936#4096#1495040#unwritten,shared 17580032#40960#1499136#shared 17989632#8192#1540096#shared 17911808#77824#1548288#shared 12693504#20480#1626112#shared 241369088#12288#1646592#shared 14381056#12288#1658880#shared 13471744#167936#1753088#unwritten,shared 13639680#4096#1921024#shared 281460736#65536#1933312#shared 248258560#36864#2052096#shared 13725696#4096#2125824#shared 250716160#32768#2154496#shared 264372224#53248#2723840#shared 267186176#98304#2990080#shared 239484928#4096#3088384#shared 280182784#253952#3301376#unwritten,shared 16003072#4096#3645440#shared 288378880#94208#4157440#shared 274407424#122880#4599808#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 16723968 /mnt/scratch
inode 283 offset 479232 root 258
inode 283 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 12726272 /mnt/scratch
inode 283 offset 655360 root 258
inode 283 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 16543744 /mnt/scratch
inode 283 offset 659456 root 258
inode 283 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17846272 /mnt/scratch
inode 283 offset 729088 root 258
inode 283 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17838080 /mnt/scratch
inode 283 offset 790528 root 258
inode 283 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 249081856 /mnt/scratch
inode 283 offset 794624 root 258
inode 283 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 16912384 /mnt/scratch
inode 283 offset 831488 root 258
inode 283 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 16932864 /mnt/scratch
inode 283 offset 851968 root 258
inode 283 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17108992 /mnt/scratch
inode 283 offset 1028096 root 258
inode 283 offset 1028096 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17166336 /mnt/scratch
inode 283 offset 1085440 root 258
inode 283 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17248256 /mnt/scratch
inode 283 offset 1167360 root 258
inode 283 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 12587008 /mnt/scratch
inode 283 offset 1232896 root 258
inode 283 offset 1232896 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17317888 /mnt/scratch
inode 283 offset 1236992 root 258
inode 283 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17469440 /mnt/scratch
inode 283 offset 1388544 root 258
inode 283 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 261517312 /mnt/scratch
inode 283 offset 1413120 root 258
inode 283 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17567744 /mnt/scratch
inode 283 offset 1486848 root 258
inode 283 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17575936 /mnt/scratch
inode 283 offset 1495040 root 258
inode 283 offset 1495040 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17580032 /mnt/scratch
inode 283 offset 1499136 root 258
inode 283 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17989632 /mnt/scratch
inode 283 offset 1540096 root 258
inode 283 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 17911808 /mnt/scratch
inode 283 offset 1548288 root 258
inode 283 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 12693504 /mnt/scratch
inode 283 offset 1626112 root 258
inode 283 offset 1626112 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 283 offset 1646592 root 258
inode 283 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 14381056 /mnt/scratch
inode 283 offset 1658880 root 258
inode 283 offset 1658880 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 13471744 /mnt/scratch
inode 283 offset 1753088 root 258
inode 283 offset 1753088 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 13639680 /mnt/scratch
inode 283 offset 1921024 root 258
inode 283 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 281460736 /mnt/scratch
inode 283 offset 1933312 root 258
inode 283 offset 1933312 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 248258560 /mnt/scratch
inode 283 offset 2052096 root 258
inode 283 offset 2052096 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 13725696 /mnt/scratch
inode 283 offset 2125824 root 258
inode 283 offset 2125824 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 250716160 /mnt/scratch
inode 283 offset 2154496 root 258
inode 283 offset 2154496 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 264372224 /mnt/scratch
inode 283 offset 2723840 root 258
inode 283 offset 2723840 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 267186176 /mnt/scratch
inode 283 offset 2990080 root 258
inode 283 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 239484928 /mnt/scratch
inode 283 offset 3088384 root 258
inode 283 offset 3088384 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 280182784 /mnt/scratch
inode 283 offset 3301376 root 258
inode 283 offset 3301376 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 16003072 /mnt/scratch
inode 283 offset 3645440 root 258
inode 283 offset 3645440 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 288378880 /mnt/scratch
inode 283 offset 4157440 root 258
inode 283 offset 4157440 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511454052
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 274407424 /mnt/scratch
inode 283 offset 4599808 root 258
inode 283 offset 4599808 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b is 1461317 (357 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      31:      62653..     62675:     23:          9: shared
   1:       32..      41:      59985..     59994:     10:      62676: shared
   2:       42..     120:      59995..     60073:     79:             unwritten,shared
   3:      141..     168:      59032..     59059:     28:      60094: shared
   4:      224..     251:      63734..     63761:     28:      59115: shared
   5:      252..     252:      59595..     59595:      1:      63762: last,shared
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b: 5 extents found
after filter: 256626688#94208#36864#shared 245698560#40960#131072#shared 245739520#323584#172032#unwritten,shared 241795072#114688#577536#shared 261054464#114688#917504#shared 244101120#4096#1032192#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 256626688 /mnt/scratch
inode 355 offset 36864 root 258
inode 355 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 245698560 /mnt/scratch
inode 355 offset 131072 root 258
inode 355 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 245739520 /mnt/scratch
inode 355 offset 172032 root 258
inode 355 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 241795072 /mnt/scratch
inode 355 offset 577536 root 258
inode 355 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 261054464 /mnt/scratch
inode 355 offset 917504 root 258
inode 355 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 244101120 /mnt/scratch
inode 355 offset 1032192 root 258
inode 355 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/f7b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c is 3461120 (845 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      120..     141:      69537..     69558:     22:        120: shared
   1:      178..     197:      61582..     61601:     20:      69595: shared
   2:      198..     198:      59065..     59065:      1:      61602: shared
   3:      253..     271:      61337..     61355:     19:      59120: shared
   4:      305..     309:       5055..      5059:      5:      61389: shared
   5:      431..     431:       3201..      3201:      1:       5181: shared
   6:      479..     497:      63926..     63944:     19:       3249: shared
   7:      498..     507:      64715..     64724:     10:      63945: shared
   8:      508..     533:      58891..     58916:     26:      64725: shared
   9:      590..     590:       4087..      4087:      1:      58973: shared
  10:      830..     844:      64479..     64493:     15:       4327: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c: 11 extents found
after filter: 284823552#90112#491520#shared 252239872#81920#729088#shared 241930240#4096#811008#shared 251236352#77824#1036288#shared 20705280#20480#1249280#shared 13111296#4096#1765376#shared 261840896#77824#1961984#shared 265072640#40960#2039808#shared 241217536#106496#2080768#shared 16740352#4096#2416640#shared 264105984#61440#3399680#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 284823552 /mnt/scratch
inode 324 offset 491520 root 258
inode 324 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 252239872 /mnt/scratch
inode 324 offset 729088 root 258
inode 324 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 241930240 /mnt/scratch
inode 324 offset 811008 root 258
inode 324 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 251236352 /mnt/scratch
inode 324 offset 1036288 root 258
inode 324 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 20705280 /mnt/scratch
inode 324 offset 1249280 root 258
inode 324 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 13111296 /mnt/scratch
inode 324 offset 1765376 root 258
inode 324 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 261840896 /mnt/scratch
inode 324 offset 1961984 root 258
inode 324 offset 1961984 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 265072640 /mnt/scratch
inode 324 offset 2039808 root 258
inode 324 offset 2039808 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 241217536 /mnt/scratch
inode 324 offset 2080768 root 258
inode 324 offset 2080768 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 16740352 /mnt/scratch
inode 324 offset 2416640 root 258
inode 324 offset 2416640 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
324
# /bin/btrfs inspect-internal logical-resolve -P 264105984 /mnt/scratch
inode 324 offset 3399680 root 258
inode 324 offset 3399680 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/f6c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/f6c is 1505483 (368 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      167..     198:      64364..     64395:     32:        167: shared
   1:      199..     205:      59790..     59796:      7:      64396: shared
   2:      230..     233:       3909..      3912:      4:      59821: unwritten,shared
   3:      234..     242:       4430..      4438:      9:       3913: shared
   4:      243..     306:      61240..     61303:     64:       4439: unwritten,shared
   5:      307..     331:      59960..     59984:     25:      61304: shared
   6:      332..     364:      61304..     61336:     33:      59985: last,unwritten,shared
/mnt/scratch/snap1/p0/d5/f6c: 7 extents found
after filter: 263634944#131072#684032#shared 244899840#28672#815104#shared 16011264#16384#942080#unwritten,shared 18145280#36864#958464#shared 250839040#262144#995328#unwritten,shared 245596160#102400#1257472#shared 251101184#135168#1359872#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/f6c
343
# /bin/btrfs inspect-internal logical-resolve -P 263634944 /mnt/scratch
inode 343 offset 684032 root 258
inode 343 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/f6c
343
# /bin/btrfs inspect-internal logical-resolve -P 244899840 /mnt/scratch
inode 343 offset 815104 root 258
inode 343 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/f6c
343
# /bin/btrfs inspect-internal logical-resolve -P 16011264 /mnt/scratch
inode 343 offset 942080 root 258
inode 343 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/f6c
343
# /bin/btrfs inspect-internal logical-resolve -P 18145280 /mnt/scratch
inode 343 offset 958464 root 258
inode 343 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/f6c
343
# /bin/btrfs inspect-internal logical-resolve -P 250839040 /mnt/scratch
inode 343 offset 995328 root 258
inode 343 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/f6c
343
# /bin/btrfs inspect-internal logical-resolve -P 245596160 /mnt/scratch
inode 343 offset 1257472 root 258
inode 343 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/f6c
343
# /bin/btrfs inspect-internal logical-resolve -P 251101184 /mnt/scratch
inode 343 offset 1359872 root 258
inode 343 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dcf/ff3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dcf/ff3 is 1380352 (337 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       51..      55:      66463..     66467:      5:         51: shared
   1:       73..      93:      61952..     61972:     21:      66485: shared
   2:       94..      94:      59063..     59063:      1:      61973: shared
   3:       99..     112:       5041..      5054:     14:      59068: shared
   4:      175..     189:      67856..     67870:     15:       5117: shared
   5:      206..     223:      62724..     62741:     18:      67887: shared
   6:      322..     336:      58394..     58408:     15:      62840: last,shared,eof
/mnt/scratch/snap1/p0/d5/dcf/ff3: 7 extents found
after filter: 272232448#20480#208896#shared 253755392#86016#299008#shared 241922048#4096#385024#shared 20647936#57344#405504#shared 277938176#61440#716800#shared 256917504#73728#843776#shared 239181824#61440#1318912#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dcf/ff3
450
# /bin/btrfs inspect-internal logical-resolve -P 272232448 /mnt/scratch
inode 450 offset 208896 root 258
inode 450 offset 208896 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dcf/ff3
# stat -c %i /mnt/scratch/snap1/p0/d5/dcf/ff3
450
# /bin/btrfs inspect-internal logical-resolve -P 253755392 /mnt/scratch
inode 450 offset 299008 root 258
inode 450 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dcf/ff3
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/dcf/ff3
450
# /bin/btrfs inspect-internal logical-resolve -P 241922048 /mnt/scratch
inode 450 offset 385024 root 258
inode 450 offset 385024 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dcf/ff3
seed = 1511367481
# stat -c %i /mnt/scratch/snap1/p0/d5/dcf/ff3
450
# /bin/btrfs inspect-internal logical-resolve -P 20647936 /mnt/scratch
inode 450 offset 405504 root 258
inode 450 offset 405504 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dcf/ff3
# stat -c %i /mnt/scratch/snap1/p0/d5/dcf/ff3
450
# /bin/btrfs inspect-internal logical-resolve -P 277938176 /mnt/scratch
inode 450 offset 716800 root 258
inode 450 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dcf/ff3
# stat -c %i /mnt/scratch/snap1/p0/d5/dcf/ff3
450
# /bin/btrfs inspect-internal logical-resolve -P 256917504 /mnt/scratch
inode 450 offset 843776 root 258
inode 450 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dcf/ff3
# stat -c %i /mnt/scratch/snap1/p0/d5/dcf/ff3
450
# /bin/btrfs inspect-internal logical-resolve -P 239181824 /mnt/scratch
inode 450 offset 1318912 root 258
inode 450 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dcf/ff3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f1d5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f1d5 is 1020299 (250 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      217..     249:      69583..     69615:     33:        217: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f1d5: 1 extent found
after filter: 285011968#135168#888832#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f1d5
617
# /bin/btrfs inspect-internal logical-resolve -P 285011968 /mnt/scratch
inode 617 offset 888832 root 258
inode 617 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 617 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f1d5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f124
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f124 is 254946 (63 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       34..      62:      66305..     66333:     29:         34: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f124: 1 extent found
after filter: 271585280#118784#139264#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f124
492
# /bin/btrfs inspect-internal logical-resolve -P 271585280 /mnt/scratch
inode 492 offset 139264 root 258
inode 492 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d7d/d172/f124
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/f36 is 1005709 (246 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       42..      52:      63276..     63286:     11:         42: shared
   1:      103..     119:       3202..      3218:     17:      63337: unwritten,shared
   2:      120..     130:       3546..      3556:     11:       3219: unwritten,shared
   3:      131..     142:      62371..     62382:     12:       3557: unwritten,shared
   4:      143..     143:      62383..     62383:      1:             shared
   5:      226..     245:      69517..     69536:     20:      62466: shared,eof
   6:      417..     467:      69313..     69363:     51:      69708: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36: 6 extents found
after filter: 259178496#45056#172032#shared 13115392#69632#421888#unwritten,shared 14524416#45056#491520#unwritten,shared 255471616#49152#536576#unwritten,shared 255520768#4096#585728#shared 284741632#81920#925696#shared,eof 283906048#208896#1708032#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
303
# /bin/btrfs inspect-internal logical-resolve -P 259178496 /mnt/scratch
inode 303 offset 172032 root 258
inode 303 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
303
# /bin/btrfs inspect-internal logical-resolve -P 13115392 /mnt/scratch
inode 303 offset 421888 root 258
inode 303 offset 421888 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
303
# /bin/btrfs inspect-internal logical-resolve -P 14524416 /mnt/scratch
inode 303 offset 491520 root 258
inode 303 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
303
# /bin/btrfs inspect-internal logical-resolve -P 255471616 /mnt/scratch
inode 303 offset 536576 root 258
inode 303 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
303
# /bin/btrfs inspect-internal logical-resolve -P 255520768 /mnt/scratch
inode 303 offset 585728 root 258
inode 303 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
303
# /bin/btrfs inspect-internal logical-resolve -P 284741632 /mnt/scratch
inode 303 offset 925696 root 258
inode 303 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
303
# /bin/btrfs inspect-internal logical-resolve -P 283906048 /mnt/scratch
inode 303 offset 1708032 root 258
inode 303 offset 1708032 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/fc6
/mnt/scratch/snap1/p0/d5/d7/dc/d34/f36
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/f63
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/f63 is 3461120 (845 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      120..     141:      69537..     69558:     22:        120: shared
   1:      178..     197:      61582..     61601:     20:      69595: shared
   2:      198..     198:      59065..     59065:      1:      61602: shared
   3:      253..     271:      61337..     61355:     19:      59120: shared
   4:      305..     309:       5055..      5059:      5:      61389: shared
   5:      431..     431:       3201..      3201:      1:       5181: shared
   6:      479..     497:      63926..     63944:     19:       3249: shared
   7:      498..     507:      64715..     64724:     10:      63945: shared
   8:      508..     533:      58891..     58916:     26:      64725: shared
   9:      590..     590:       4087..      4087:      1:      58973: shared
  10:      830..     844:      64479..     64493:     15:       4327: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/f63: 11 extents found
after filter: 284823552#90112#491520#shared 252239872#81920#729088#shared 241930240#4096#811008#shared 251236352#77824#1036288#shared 20705280#20480#1249280#shared 13111296#4096#1765376#shared 261840896#77824#1961984#shared 265072640#40960#2039808#shared 241217536#106496#2080768#shared 16740352#4096#2416640#shared 264105984#61440#3399680#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 284823552 /mnt/scratch
inode 324 offset 491520 root 258
inode 324 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 252239872 /mnt/scratch
inode 324 offset 729088 root 258
inode 324 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 241930240 /mnt/scratch
inode 324 offset 811008 root 258
inode 324 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 251236352 /mnt/scratch
inode 324 offset 1036288 root 258
inode 324 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 20705280 /mnt/scratch
inode 324 offset 1249280 root 258
inode 324 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 13111296 /mnt/scratch
inode 324 offset 1765376 root 258
inode 324 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 261840896 /mnt/scratch
inode 324 offset 1961984 root 258
inode 324 offset 1961984 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 265072640 /mnt/scratch
inode 324 offset 2039808 root 258
inode 324 offset 2039808 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 241217536 /mnt/scratch
inode 324 offset 2080768 root 258
inode 324 offset 2080768 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 16740352 /mnt/scratch
inode 324 offset 2416640 root 258
inode 324 offset 2416640 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f63
324
# /bin/btrfs inspect-internal logical-resolve -P 264105984 /mnt/scratch
inode 324 offset 3399680 root 258
inode 324 offset 3399680 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f5c
/mnt/scratch/snap1/p0/d5/d53/f63
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f9f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f9f is 457206 (112 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      15:      59321..     59321:      1:         15: shared
   1:       16..      16:      58865..     58865:      1:      59322: last,shared
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f9f: 2 extents found
after filter: 242978816#4096#61440#shared 241111040#4096#65536#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f9f
317
# /bin/btrfs inspect-internal logical-resolve -P 242978816 /mnt/scratch
inode 317 offset 61440 root 258
inode 317 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f1a7
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f9f
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f9f
317
# /bin/btrfs inspect-internal logical-resolve -P 241111040 /mnt/scratch
inode 317 offset 65536 root 258
inode 317 offset 65536 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f1a7
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f9f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/fd7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/fd7 is 425957 (104 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      40:       3239..      3239:      1:         40: shared
   1:       60..      75:      67840..     67855:     16:       3259: shared
   2:       92..     103:       4651..      4662:     12:      67872: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/fd7: 3 extents found
after filter: 13266944#4096#163840#shared 277872640#65536#245760#shared 19050496#49152#376832#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fd7
430
# /bin/btrfs inspect-internal logical-resolve -P 13266944 /mnt/scratch
inode 430 offset 163840 root 258
inode 430 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fd7
430
# /bin/btrfs inspect-internal logical-resolve -P 277872640 /mnt/scratch
inode 430 offset 245760 root 258
inode 430 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/fd7
430
# /bin/btrfs inspect-internal logical-resolve -P 19050496 /mnt/scratch
inode 430 offset 376832 root 258
inode 430 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/fd7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/f143
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/f143 is 1262026 (309 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      143..     157:      67024..     67038:     15:        143: shared
   1:      205..     308:      70068..     70171:    104:      67086: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/f143: 2 extents found
after filter: 274530304#61440#585728#shared 286998528#425984#839680#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/f143
517
# /bin/btrfs inspect-internal logical-resolve -P 274530304 /mnt/scratch
inode 517 offset 585728 root 258
inode 517 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f143
# stat -c %i /mnt/scratch/snap1/p0/d5/f143
517
# /bin/btrfs inspect-internal logical-resolve -P 286998528 /mnt/scratch
inode 517 offset 839680 root 258
inode 517 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f143
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/df4/d11e/f1ef
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/df4/d11e/f1ef is 884336 (216 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      209..     215:      60668..     60674:      7:        209: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/df4/d11e/f1ef: 1 extent found
after filter: 248496128#28672#856064#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/df4/d11e/f1ef
576
# /bin/btrfs inspect-internal logical-resolve -P 248496128 /mnt/scratch
inode 576 offset 856064 root 258
inode 576 offset 856064 root 5
# /bin/btrfs inspect-internal inode-resolve 576 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/df4/d11e/f1ef
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f13e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f13e is 1461033 (357 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       93..      93:       3449..      3449:      1:         93: shared
   1:      196..     225:      67328..     67357:     30:       3552: shared
   2:      343..     356:      69044..     69057:     14:      67475: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f13e: 3 extents found
after filter: 14127104#4096#380928#shared 275775488#122880#802816#shared 282804224#57344#1404928#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f13e
513
# /bin/btrfs inspect-internal logical-resolve -P 14127104 /mnt/scratch
inode 513 offset 380928 root 258
inode 513 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 513 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f13e
513
# /bin/btrfs inspect-internal logical-resolve -P 275775488 /mnt/scratch
inode 513 offset 802816 root 258
inode 513 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 513 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f13e
513
# /bin/btrfs inspect-internal logical-resolve -P 282804224 /mnt/scratch
inode 513 offset 1404928 root 258
inode 513 offset 1404928 root 5
# /bin/btrfs inspect-internal inode-resolve 513 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f13e
background rm
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/f10a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/f10a is 1548193 (378 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      40:      60108..     60134:     27:         14: unwritten,shared
   1:       46..      65:      60721..     60740:     20:      60140: shared
   2:       89..     118:      60741..     60770:     30:             shared
   3:      119..     119:      59070..     59070:      1:      60771: shared
   4:      200..     217:      60430..     60447:     18:      59151: shared
   5:      226..     226:       3350..      3350:      1:      60456: shared
   6:      236..     241:       5060..      5065:      6:       3360: shared
   7:      307..     314:      66469..     66476:      8:       5131: shared
   8:      315..     315:      58469..     58469:      1:      66477: shared
   9:      361..     369:      67681..     67689:      9:      58515: shared
  10:      370..     377:      60677..     60684:      8:      67690: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/f10a: 10 extents found
after filter: 246202368#110592#57344#unwritten,shared 248713216#81920#188416#shared 248795136#122880#364544#shared 241950720#4096#487424#shared 247521280#73728#819200#shared 13721600#4096#925696#shared 20725760#24576#966656#shared 272257024#32768#1257472#shared 239489024#4096#1290240#shared 277221376#36864#1478656#shared 248532992#32768#1515520#last,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 246202368 /mnt/scratch
inode 359 offset 57344 root 258
inode 359 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
seed = 1512000204
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 248713216 /mnt/scratch
inode 359 offset 188416 root 258
inode 359 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 248795136 /mnt/scratch
inode 359 offset 364544 root 258
inode 359 offset 364544 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 241950720 /mnt/scratch
inode 359 offset 487424 root 258
inode 359 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 247521280 /mnt/scratch
inode 359 offset 819200 root 258
inode 359 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 13721600 /mnt/scratch
inode 359 offset 925696 root 258
inode 359 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 20725760 /mnt/scratch
inode 359 offset 966656 root 258
inode 359 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 272257024 /mnt/scratch
inode 359 offset 1257472 root 258
inode 359 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 239489024 /mnt/scratch
inode 359 offset 1290240 root 258
inode 359 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 277221376 /mnt/scratch
inode 359 offset 1478656 root 258
inode 359 offset 1478656 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f10a
359
# /bin/btrfs inspect-internal logical-resolve -P 248532992 /mnt/scratch
inode 359 offset 1515520 root 258
inode 359 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f10a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/f19e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/f19e is 1945600 (475 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      230..     230:       4091..      4091:      1:        230: shared
   1:      231..     231:       3089..      3089:      1:       4092: shared
   2:      296..     317:      59570..     59591:     22:       3154: shared
   3:      347..     379:      68657..     68689:     33:      59621: shared
   4:      385..     411:      70739..     70765:     27:      68695: shared
   5:      460..     466:       4472..      4478:      7:      70814: shared
   6:      467..     474:       3080..      3087:      8:       4479: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/f19e: 7 extents found
after filter: 16756736#4096#942080#shared 12652544#4096#946176#shared 243998720#90112#1212416#shared 281219072#135168#1421312#shared 289746944#110592#1576960#shared 18317312#28672#1884160#shared 12615680#32768#1912832#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f19e
399
# /bin/btrfs inspect-internal logical-resolve -P 16756736 /mnt/scratch
inode 399 offset 942080 root 258
inode 399 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f19e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f19e
399
# /bin/btrfs inspect-internal logical-resolve -P 12652544 /mnt/scratch
inode 399 offset 946176 root 258
inode 399 offset 946176 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f19e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f19e
399
# /bin/btrfs inspect-internal logical-resolve -P 243998720 /mnt/scratch
inode 399 offset 1212416 root 258
inode 399 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f19e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f19e
399
# /bin/btrfs inspect-internal logical-resolve -P 281219072 /mnt/scratch
inode 399 offset 1421312 root 258
inode 399 offset 1421312 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f19e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f19e
399
# /bin/btrfs inspect-internal logical-resolve -P 289746944 /mnt/scratch
inode 399 offset 1576960 root 258
inode 399 offset 1576960 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f19e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f19e
399
# /bin/btrfs inspect-internal logical-resolve -P 18317312 /mnt/scratch
inode 399 offset 1884160 root 258
inode 399 offset 1884160 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f19e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f19e
399
# /bin/btrfs inspect-internal logical-resolve -P 12615680 /mnt/scratch
inode 399 offset 1912832 root 258
inode 399 offset 1912832 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f19e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf is 1129447 (276 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..     172:      63578..     63733:    156:         17: unwritten,shared
   1:      176..     203:      63298..     63325:     28:      63737: shared
   2:      227..     249:      69091..     69113:     23:      63349: shared
   3:      274..     275:       4339..      4340:      2:      69138: shared,eof
   4:      432..     678:      68157..     68403:    247:       4497: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf: 5 extents found
after filter: 260415488#638976#69632#unwritten,shared 259268608#114688#720896#shared 282996736#94208#929792#shared 17772544#8192#1122304#shared,eof 279171072#1011712#1769472#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
434
# /bin/btrfs inspect-internal logical-resolve -P 260415488 /mnt/scratch
inode 434 offset 69632 root 258
inode 434 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
434
# /bin/btrfs inspect-internal logical-resolve -P 259268608 /mnt/scratch
inode 434 offset 720896 root 258
inode 434 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
434
# /bin/btrfs inspect-internal logical-resolve -P 282996736 /mnt/scratch
inode 434 offset 929792 root 258
inode 434 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
434
# /bin/btrfs inspect-internal logical-resolve -P 17772544 /mnt/scratch
inode 434 offset 1122304 root 258
inode 434 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
434
# /bin/btrfs inspect-internal logical-resolve -P 279171072 /mnt/scratch
inode 434 offset 1769472 root 258
inode 434 offset 1769472 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/fdf
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f140
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/d11b/f1a2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/d11b/f1a2 is 777092 (190 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      159..     179:      61189..     61209:     21:        159: last,shared
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/d11b/f1a2: 1 extent found
after filter: 250630144#86016#651264#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/d11b/f1a2
580
# /bin/btrfs inspect-internal logical-resolve -P 250630144 /mnt/scratch
inode 580 offset 651264 root 258
inode 580 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 580 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/dce/d11b/f1a2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0 is 1505483 (368 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      167..     198:      64364..     64395:     32:        167: shared
   1:      199..     205:      59790..     59796:      7:      64396: shared
   2:      230..     233:       3909..      3912:      4:      59821: unwritten,shared
   3:      234..     242:       4430..      4438:      9:       3913: shared
   4:      243..     306:      61240..     61303:     64:       4439: unwritten,shared
   5:      307..     331:      59960..     59984:     25:      61304: shared
   6:      332..     364:      61304..     61336:     33:      59985: last,unwritten,shared
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0: 7 extents found
after filter: 263634944#131072#684032#shared 244899840#28672#815104#shared 16011264#16384#942080#unwritten,shared 18145280#36864#958464#shared 250839040#262144#995328#unwritten,shared 245596160#102400#1257472#shared 251101184#135168#1359872#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
343
# /bin/btrfs inspect-internal logical-resolve -P 263634944 /mnt/scratch
inode 343 offset 684032 root 258
inode 343 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
343
# /bin/btrfs inspect-internal logical-resolve -P 244899840 /mnt/scratch
inode 343 offset 815104 root 258
inode 343 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
343
# /bin/btrfs inspect-internal logical-resolve -P 16011264 /mnt/scratch
inode 343 offset 942080 root 258
inode 343 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
343
# /bin/btrfs inspect-internal logical-resolve -P 18145280 /mnt/scratch
inode 343 offset 958464 root 258
inode 343 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
343
# /bin/btrfs inspect-internal logical-resolve -P 250839040 /mnt/scratch
inode 343 offset 995328 root 258
inode 343 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
343
# /bin/btrfs inspect-internal logical-resolve -P 245596160 /mnt/scratch
inode 343 offset 1257472 root 258
inode 343 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
343
# /bin/btrfs inspect-internal logical-resolve -P 251101184 /mnt/scratch
inode 343 offset 1359872 root 258
inode 343 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f6c
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1a0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/f10d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/f10d is 87389 (22 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..      21:      69058..     69076:     19:          3: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/f10d: 1 extent found
after filter: 282861568#77824#12288#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/f10d
471
# /bin/btrfs inspect-internal logical-resolve -P 282861568 /mnt/scratch
inode 471 offset 12288 root 258
inode 471 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/f10d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb is 1520124 (372 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       26..      36:      60833..     60843:     11:         26: shared
   1:      117..     117:       3257..      3257:      1:      60924: shared
   2:      237..     240:       3817..      3820:      4:       3377: shared
   3:      347..     371:      63948..     63972:     25:       3927: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb: 4 extents found
after filter: 249171968#45056#106496#shared 13340672#4096#479232#shared 15634432#16384#970752#shared 261931008#102400#1421312#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb
407
# /bin/btrfs inspect-internal logical-resolve -P 249171968 /mnt/scratch
inode 407 offset 106496 root 258
inode 407 offset 106496 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb
407
# /bin/btrfs inspect-internal logical-resolve -P 13340672 /mnt/scratch
inode 407 offset 479232 root 258
inode 407 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb
407
# /bin/btrfs inspect-internal logical-resolve -P 15634432 /mnt/scratch
inode 407 offset 970752 root 258
inode 407 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb
407
# /bin/btrfs inspect-internal logical-resolve -P 261931008 /mnt/scratch
inode 407 offset 1421312 root 258
inode 407 offset 1421312 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fbb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108 is 1184329 (290 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      68:      67152..     67180:     29:         40: shared
   1:       69..     100:      67807..     67838:     32:      67181: shared
   2:      101..     101:      60639..     60639:      1:      67839: shared
   3:      288..     289:       3345..      3346:      2:      60826: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108: 4 extents found
after filter: 275054592#118784#163840#shared 277737472#131072#282624#shared 248377344#4096#413696#shared 13701120#8192#1179648#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108
468
# /bin/btrfs inspect-internal logical-resolve -P 275054592 /mnt/scratch
inode 468 offset 163840 root 258
inode 468 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108
468
# /bin/btrfs inspect-internal logical-resolve -P 277737472 /mnt/scratch
inode 468 offset 282624 root 258
inode 468 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108
468
# /bin/btrfs inspect-internal logical-resolve -P 248377344 /mnt/scratch
inode 468 offset 413696 root 258
inode 468 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108
468
# /bin/btrfs inspect-internal logical-resolve -P 13701120 /mnt/scratch
inode 468 offset 1179648 root 258
inode 468 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/f108
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/ff5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/ff5 is 475136 (116 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       88..     115:      65989..     66016:     28:         88: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/ff5: 1 extent found
after filter: 270290944#114688#360448#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/ff5
452
# /bin/btrfs inspect-internal logical-resolve -P 270290944 /mnt/scratch
inode 452 offset 360448 root 258
inode 452 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d96/d20d/ff5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d is 1525805 (373 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      35:      58965..     58977:     13:         23: shared
   1:      118..     134:       5099..      5115:     17:      59060: shared
   2:      206..     221:      67134..     67149:     16:       5187: shared
   3:      226..     232:       3487..      3493:      7:      67154: shared
   4:      356..     371:      61383..     61398:     16:       3617: shared
   5:      372..     372:       4409..      4409:      1:      61399: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d: 6 extents found
after filter: 241520640#53248#94208#shared 20885504#69632#483328#shared 274980864#65536#843776#shared 14282752#28672#925696#shared 251424768#65536#1458176#shared 18059264#4096#1523712#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
315
# /bin/btrfs inspect-internal logical-resolve -P 241520640 /mnt/scratch
inode 315 offset 94208 root 258
inode 315 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
315
# /bin/btrfs inspect-internal logical-resolve -P 20885504 /mnt/scratch
inode 315 offset 483328 root 258
inode 315 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511514061
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
315
# /bin/btrfs inspect-internal logical-resolve -P 274980864 /mnt/scratch
inode 315 offset 843776 root 258
inode 315 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
315
# /bin/btrfs inspect-internal logical-resolve -P 14282752 /mnt/scratch
inode 315 offset 925696 root 258
inode 315 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
315
# /bin/btrfs inspect-internal logical-resolve -P 251424768 /mnt/scratch
inode 315 offset 1458176 root 258
inode 315 offset 1458176 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
315
# /bin/btrfs inspect-internal logical-resolve -P 18059264 /mnt/scratch
inode 315 offset 1523712 root 258
inode 315 offset 1523712 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/d129/f15d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/f88
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/f88 is 1246934 (305 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       66..      84:      61407..     61425:     19:         66: shared
   1:      249..     249:       4093..      4093:      1:      61590: shared
   2:      272..     278:      67056..     67062:      7:       4116: shared
   3:      286..     304:      66334..     66352:     19:      67070: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/f88: 4 extents found
after filter: 251523072#77824#270336#shared 16764928#4096#1019904#shared 274661376#28672#1114112#shared 271704064#77824#1171456#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f88
366
# /bin/btrfs inspect-internal logical-resolve -P 251523072 /mnt/scratch
inode 366 offset 270336 root 258
inode 366 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f88
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f88
366
# /bin/btrfs inspect-internal logical-resolve -P 16764928 /mnt/scratch
inode 366 offset 1019904 root 258
inode 366 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f88
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f88
366
# /bin/btrfs inspect-internal logical-resolve -P 274661376 /mnt/scratch
inode 366 offset 1114112 root 258
inode 366 offset 1114112 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f88
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f88
366
# /bin/btrfs inspect-internal logical-resolve -P 271704064 /mnt/scratch
inode 366 offset 1171456 root 258
inode 366 offset 1171456 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f88
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118 is 644143 (158 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      19:      67360..     67367:      8:         12: shared
   1:       61..      68:      61399..     61406:      8:      67409: shared
   2:      127..     127:       3119..      3119:      1:      61465: shared
   3:      146..     157:       4639..      4650:     12:       3138: shared,eof
   4:      189..     383:      64845..     65039:    195:       4682: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118: 5 extents found
after filter: 275906560#32768#49152#shared 251490304#32768#249856#shared 12775424#4096#520192#shared 19001344#49152#598016#shared,eof 265605120#798720#774144#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
480
# /bin/btrfs inspect-internal logical-resolve -P 275906560 /mnt/scratch
inode 480 offset 49152 root 258
inode 480 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 480 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
480
# /bin/btrfs inspect-internal logical-resolve -P 251490304 /mnt/scratch
inode 480 offset 249856 root 258
inode 480 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 480 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
480
# /bin/btrfs inspect-internal logical-resolve -P 12775424 /mnt/scratch
inode 480 offset 520192 root 258
inode 480 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 480 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
480
# /bin/btrfs inspect-internal logical-resolve -P 19001344 /mnt/scratch
inode 480 offset 598016 root 258
inode 480 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 480 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
480
# /bin/btrfs inspect-internal logical-resolve -P 265605120 /mnt/scratch
inode 480 offset 774144 root 258
inode 480 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 480 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/d104/f118
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d is 1353026 (331 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       4:      64396..     64399:      4:          1: shared
   1:        5..      22:      58550..     58567:     18:      64400: shared
   2:       58..      58:       3243..      3243:      1:      58603: shared
   3:      130..     145:      68699..     68714:     16:       3315: shared
   4:      146..     146:      58925..     58925:      1:      68715: shared
   5:      174..     316:      69836..     69978:    143:      58953: unwritten,shared
   6:      317..     330:      70428..     70441:     14:      69979: shared,eof
   7:      331..     405:      69993..     70067:     75:      70442: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d: 8 extents found
after filter: 263766016#16384#4096#shared 239820800#73728#20480#shared 13283328#4096#237568#shared 281391104#65536#532480#shared 241356800#4096#598016#shared 286048256#585728#712704#unwritten,shared 288473088#57344#1298432#shared,eof 286691328#307200#1355776#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
461
# /bin/btrfs inspect-internal logical-resolve -P 263766016 /mnt/scratch
inode 461 offset 4096 root 258
inode 461 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
461
# /bin/btrfs inspect-internal logical-resolve -P 239820800 /mnt/scratch
inode 461 offset 20480 root 258
inode 461 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
461
# /bin/btrfs inspect-internal logical-resolve -P 13283328 /mnt/scratch
inode 461 offset 237568 root 258
inode 461 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
461
# /bin/btrfs inspect-internal logical-resolve -P 281391104 /mnt/scratch
inode 461 offset 532480 root 258
inode 461 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
461
# /bin/btrfs inspect-internal logical-resolve -P 241356800 /mnt/scratch
inode 461 offset 598016 root 258
inode 461 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
461
# /bin/btrfs inspect-internal logical-resolve -P 286048256 /mnt/scratch
inode 461 offset 712704 root 258
inode 461 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
461
# /bin/btrfs inspect-internal logical-resolve -P 288473088 /mnt/scratch
inode 461 offset 1298432 root 258
inode 461 offset 1298432 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
461
# /bin/btrfs inspect-internal logical-resolve -P 286691328 /mnt/scratch
inode 461 offset 1355776 root 258
inode 461 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f19d
/mnt/scratch/snap1/p0/d5/d53/d67/ffe
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/f6f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/f6f is 1689756 (413 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..      44:      65466..     65506:     41:          4: unwritten,shared
   1:       45..      47:       4088..      4090:      3:      65507: shared
   2:       48..      52:      61029..     61033:      5:       4091: shared
   3:       53..      76:      61034..     61057:     24:             unwritten,shared
   4:       77..     157:      64741..     64821:     81:      61058: unwritten,shared
   5:      158..     169:      65199..     65210:     12:      64822: unwritten,shared
   6:      170..     175:       4327..      4332:      6:      65211: shared
   7:      176..     239:      65507..     65570:     64:       4333: unwritten,shared
   8:      240..     251:      65571..     65582:     12:             shared
   9:      252..     258:       4613..      4619:      7:      65583: shared
  10:      408..     412:       4025..      4029:      5:       4769: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/f6f: 9 extents found
after filter: 268148736#167936#16384#unwritten,shared 16744448#12288#184320#shared 249974784#20480#196608#shared 249995264#98304#217088#unwritten,shared 265179136#331776#315392#unwritten,shared 267055104#49152#647168#unwritten,shared 17723392#24576#696320#shared 268316672#262144#720896#unwritten,shared 268578816#49152#983040#shared 18894848#28672#1032192#shared 16486400#20480#1671168#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 268148736 /mnt/scratch
inode 346 offset 16384 root 258
inode 346 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 16744448 /mnt/scratch
inode 346 offset 184320 root 258
inode 346 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 249974784 /mnt/scratch
inode 346 offset 196608 root 258
inode 346 offset 196608 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 249995264 /mnt/scratch
inode 346 offset 217088 root 258
inode 346 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 265179136 /mnt/scratch
inode 346 offset 315392 root 258
inode 346 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 267055104 /mnt/scratch
inode 346 offset 647168 root 258
inode 346 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 17723392 /mnt/scratch
inode 346 offset 696320 root 258
inode 346 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 268316672 /mnt/scratch
inode 346 offset 720896 root 258
inode 346 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
346
# /bin/btrfs inspect-internal logical-resolve -P 268578816 /mnt/scratch
seed = 1511396888
inode 346 offset 983040 root 258
inode 346 offset 983040 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 18894848 /mnt/scratch
inode 346 offset 1032192 root 258
inode 346 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/f6f
346
# /bin/btrfs inspect-internal logical-resolve -P 16486400 /mnt/scratch
inode 346 offset 1671168 root 258
inode 346 offset 1671168 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/f6f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/f1c6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/f1c6 is 57344 (14 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       10..      13:      60135..     60138:      4:         10: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/f1c6: 1 extent found
after filter: 246312960#16384#40960#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/f1c6
605
# /bin/btrfs inspect-internal logical-resolve -P 246312960 /mnt/scratch
inode 605 offset 40960 root 258
inode 605 offset 40960 root 5
# /bin/btrfs inspect-internal inode-resolve 605 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f1c6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1 is 1214527 (297 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..      22:      61884..     61903:     20:          3: shared
   1:       38..      39:       3483..      3484:      2:      61919: shared
   2:       52..      71:      61904..     61923:     20:       3497: shared
   3:      127..     136:      60522..     60531:     10:      61979: last,shared
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1: 4 extents found
after filter: 253476864#81920#12288#shared 14266368#8192#155648#shared 253558784#81920#212992#shared 247898112#40960#520192#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1
370
# /bin/btrfs inspect-internal logical-resolve -P 253476864 /mnt/scratch
inode 370 offset 12288 root 258
inode 370 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 370 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1
370
# /bin/btrfs inspect-internal logical-resolve -P 14266368 /mnt/scratch
inode 370 offset 155648 root 258
inode 370 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 370 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1
370
# /bin/btrfs inspect-internal logical-resolve -P 253558784 /mnt/scratch
inode 370 offset 212992 root 258
inode 370 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 370 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1
370
# /bin/btrfs inspect-internal logical-resolve -P 247898112 /mnt/scratch
inode 370 offset 520192 root 258
inode 370 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 370 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/d101/d17b/f1b1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2 is 585728 (143 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       82..      90:      58850..     58858:      9:         82: shared
   1:       91..      91:      59069..     59069:      1:      58859: shared
   2:      108..     113:      59912..     59917:      6:      59086: shared
   3:      125..     142:      64152..     64169:     18:      59929: shared,eof
   4:      331..     423:      66829..     66921:     93:      64358: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2: 5 extents found
after filter: 241049600#36864#335872#shared 241946624#4096#372736#shared 245399552#24576#442368#shared 262766592#73728#512000#shared,eof 273731584#380928#1355776#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
335
# /bin/btrfs inspect-internal logical-resolve -P 241049600 /mnt/scratch
inode 335 offset 335872 root 258
inode 335 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
335
# /bin/btrfs inspect-internal logical-resolve -P 241946624 /mnt/scratch
inode 335 offset 372736 root 258
inode 335 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
335
# /bin/btrfs inspect-internal logical-resolve -P 245399552 /mnt/scratch
inode 335 offset 442368 root 258
inode 335 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
335
# /bin/btrfs inspect-internal logical-resolve -P 262766592 /mnt/scratch
inode 335 offset 512000 root 258
inode 335 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
335
# /bin/btrfs inspect-internal logical-resolve -P 273731584 /mnt/scratch
inode 335 offset 1355776 root 258
inode 335 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/da2/fe2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f17c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f17c is 1854582 (453 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      244..     250:      58917..     58923:      7:        244: shared
   1:      445..     452:      67063..     67070:      8:      59118: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f17c: 2 extents found
after filter: 241324032#28672#999424#shared 274690048#32768#1822720#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f17c
555
# /bin/btrfs inspect-internal logical-resolve -P 241324032 /mnt/scratch
inode 555 offset 999424 root 258
inode 555 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 555 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f17c
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f17c
555
# /bin/btrfs inspect-internal logical-resolve -P 274690048 /mnt/scratch
inode 555 offset 1822720 root 258
inode 555 offset 1822720 root 5
# /bin/btrfs inspect-internal inode-resolve 555 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f17c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc is 1293146 (316 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       50..      59:      63326..     63335:     10:         50: shared
   1:      154..     154:       3108..      3108:      1:      63430: shared
   2:      239..     265:      62149..     62175:     27:       3193: unwritten,shared
   3:      266..     286:      62176..     62196:     21:             shared
   4:      287..     299:      62197..     62209:     13:             unwritten,shared
   5:      300..     315:      62210..     62225:     16:             shared,eof
   6:      316..     430:      62226..     62340:    115:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc: 3 extents found
after filter: 259383296#40960#204800#shared 12730368#4096#630784#shared 254562304#110592#978944#unwritten,shared 254672896#86016#1089536#shared 254758912#53248#1175552#unwritten,shared 254812160#65536#1228800#shared,eof 254877696#471040#1294336#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
420
# /bin/btrfs inspect-internal logical-resolve -P 259383296 /mnt/scratch
inode 420 offset 204800 root 258
inode 420 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
420
# /bin/btrfs inspect-internal logical-resolve -P 12730368 /mnt/scratch
inode 420 offset 630784 root 258
inode 420 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
420
# /bin/btrfs inspect-internal logical-resolve -P 254562304 /mnt/scratch
inode 420 offset 978944 root 258
inode 420 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
420
# /bin/btrfs inspect-internal logical-resolve -P 254672896 /mnt/scratch
inode 420 offset 1089536 root 258
inode 420 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
420
# /bin/btrfs inspect-internal logical-resolve -P 254758912 /mnt/scratch
inode 420 offset 1175552 root 258
inode 420 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
420
# /bin/btrfs inspect-internal logical-resolve -P 254812160 /mnt/scratch
inode 420 offset 1228800 root 258
inode 420 offset 1228800 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
420
# /bin/btrfs inspect-internal logical-resolve -P 254877696 /mnt/scratch
inode 420 offset 1294336 root 258
inode 420 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/fcc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fc0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fc0 is 1639806 (401 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      185..     187:       3192..      3194:      3:        185: shared
   1:      188..     188:       4031..      4031:      1:       3195: shared
   2:      382..     400:      65273..     65291:     19:       4225: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fc0: 3 extents found
after filter: 13074432#12288#757760#shared 16510976#4096#770048#shared 267358208#77824#1564672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 13074432 /mnt/scratch
inode 412 offset 757760 root 258
inode 412 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 16510976 /mnt/scratch
inode 412 offset 770048 root 258
inode 412 offset 770048 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 267358208 /mnt/scratch
inode 412 offset 1564672 root 258
inode 412 offset 1564672 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/db7/fc0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f1ec
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f1ec is 261418 (64 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      47:      70691..     70716:     26:         22: shared
   1:       57..      63:      70717..     70723:      7:             last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f1ec: 1 extent found
after filter: 289550336#106496#90112#shared 289656832#28672#233472#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f1ec
635
# /bin/btrfs inspect-internal logical-resolve -P 289550336 /mnt/scratch
inode 635 offset 90112 root 258
inode 635 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 635 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f1ec
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f1ec
635
# /bin/btrfs inspect-internal logical-resolve -P 289656832 /mnt/scratch
inode 635 offset 233472 root 258
inode 635 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 635 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f1ec
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/fff
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/fff is 2004886 (490 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      116..     141:      64068..     64093:     26:        116: shared
   1:      142..     142:      58926..     58926:      1:      64094: shared
   2:      172..     198:      61356..     61382:     27:      58956: shared
   3:      297..     316:      64343..     64362:     20:      61481: shared
   4:      317..     317:      59593..     59593:      1:      64363: shared
   5:      336..     365:      65357..     65386:     30:      59612: last,shared
/mnt/scratch/snap1/p0/d5/fff: 6 extents found
after filter: 262422528#106496#475136#shared 241360896#4096#581632#shared 251314176#110592#704512#shared 263548928#81920#1216512#shared 244092928#4096#1298432#shared 267702272#122880#1376256#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/fff
428
# /bin/btrfs inspect-internal logical-resolve -P 262422528 /mnt/scratch
inode 428 offset 475136 root 258
inode 428 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/fff
428
# /bin/btrfs inspect-internal logical-resolve -P 241360896 /mnt/scratch
inode 428 offset 581632 root 258
inode 428 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/fff
428
# /bin/btrfs inspect-internal logical-resolve -P 251314176 /mnt/scratch
inode 428 offset 704512 root 258
inode 428 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/fff
428
# /bin/btrfs inspect-internal logical-resolve -P 263548928 /mnt/scratch
inode 428 offset 1216512 root 258
inode 428 offset 1216512 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/fff
428
# /bin/btrfs inspect-internal logical-resolve -P 244092928 /mnt/scratch
inode 428 offset 1298432 root 258
inode 428 offset 1298432 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/fff
428
# /bin/btrfs inspect-internal logical-resolve -P 267702272 /mnt/scratch
inode 428 offset 1376256 root 258
inode 428 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fff
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/dc3/fda
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/dc3/fda is 285127 (70 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..      52:      64409..     64415:      7:         46: shared
   1:       53..      64:      67071..     67082:     12:      64416: shared
   2:       65..      69:      64428..     64432:      5:      67083: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/dc3/fda: 3 extents found
after filter: 263819264#28672#188416#shared 274722816#49152#217088#shared 263897088#20480#266240#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/dc3/fda
432
# /bin/btrfs inspect-internal logical-resolve -P 263819264 /mnt/scratch
inode 432 offset 188416 root 258
inode 432 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/dc3/fda
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/dc3/fda
432
# /bin/btrfs inspect-internal logical-resolve -P 274722816 /mnt/scratch
inode 432 offset 217088 root 258
inode 432 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/dc3/fda
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/dc3/fda
432
# /bin/btrfs inspect-internal logical-resolve -P 263897088 /mnt/scratch
inode 432 offset 266240 root 258
inode 432 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/dc3/fda
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7 is 4710527 (1151 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      31:       4479..      4496:     18:         14: shared
   1:       60..      85:       3821..      3846:     26:       4525: shared
   2:      157..     166:       4628..      4637:     10:       3918: shared
   3:      241..     253:       4497..      4509:     13:       4712: shared
   4:      254..     269:      61501..     61516:     16:       4510: shared
   5:      270..     293:      69559..     69582:     24:      61517: shared
   6:      334..     353:       4519..      4538:     20:      69623: shared
   7:      354..     372:      60495..     60513:     19:       4539: shared
   8:      449..     461:      66478..     66490:     13:      60590: shared
   9:      582..     616:       4550..      4584:     35:      66611: shared
  10:      617..     686:      61650..     61719:     70:       4585: unwritten,shared
  11:      687..     704:       4585..      4602:     18:      61720: shared
  12:      705..     713:       4666..      4674:      9:       4603: shared
  13:      714..     714:       4612..      4612:      1:       4675: shared
  14:      846..     846:       3125..      3125:      1:       4744: shared
  15:      888..     895:      61533..     61540:      8:       3167: shared
  16:      958..     984:      66017..     66043:     27:      61603: shared
  17:     1020..    1020:       4032..      4032:      1:      66079: shared
  18:     1046..    1067:      58443..     58464:     22:       4058: shared
  19:     1068..    1068:      60829..     60829:      1:      58465: shared
  20:     1122..    1150:      66353..     66381:     29:      60883: shared,eof
  21:     1308..    1327:       4005..      4024:     20:      66539: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7: 22 extents found
after filter: 18345984#73728#57344#shared 15650816#106496#245760#shared 18956288#40960#643072#shared 18419712#53248#987136#shared 251908096#65536#1040384#shared 284913664#98304#1105920#shared 18509824#81920#1368064#shared 247787520#77824#1449984#shared 272293888#53248#1839104#shared 18636800#143360#2383872#shared 252518400#286720#2527232#unwritten,shared 18780160#73728#2813952#shared 19111936#36864#2887680#shared 18890752#4096#2924544#shared 12800000#4096#3465216#shared 252039168#32768#3637248#shared 270405632#110592#3923968#shared 16515072#4096#4177920#shared 239382528#90112#4284416#shared 249155584#4096#4374528#shared 271781888#118784#4595712#shared,eof 16404480#81920#5357568#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 18345984 /mnt/scratch
inode 273 offset 57344 root 258
inode 273 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 15650816 /mnt/scratch
inode 273 offset 245760 root 258
inode 273 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 18956288 /mnt/scratch
inode 273 offset 643072 root 258
inode 273 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 18419712 /mnt/scratch
inode 273 offset 987136 root 258
inode 273 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 251908096 /mnt/scratch
inode 273 offset 1040384 root 258
inode 273 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 284913664 /mnt/scratch
inode 273 offset 1105920 root 258
inode 273 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 18509824 /mnt/scratch
inode 273 offset 1368064 root 258
inode 273 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 247787520 /mnt/scratch
inode 273 offset 1449984 root 258
inode 273 offset 1449984 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 272293888 /mnt/scratch
inode 273 offset 1839104 root 258
inode 273 offset 1839104 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 18636800 /mnt/scratch
inode 273 offset 2383872 root 258
inode 273 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 252518400 /mnt/scratch
inode 273 offset 2527232 root 258
inode 273 offset 2527232 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 18780160 /mnt/scratch
inode 273 offset 2813952 root 258
inode 273 offset 2813952 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 19111936 /mnt/scratch
inode 273 offset 2887680 root 258
inode 273 offset 2887680 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 18890752 /mnt/scratch
inode 273 offset 2924544 root 258
inode 273 offset 2924544 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 12800000 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511664821
inode 273 offset 3465216 root 258
inode 273 offset 3465216 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 252039168 /mnt/scratch
inode 273 offset 3637248 root 258
inode 273 offset 3637248 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 270405632 /mnt/scratch
inode 273 offset 3923968 root 258
inode 273 offset 3923968 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 16515072 /mnt/scratch
inode 273 offset 4177920 root 258
inode 273 offset 4177920 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 239382528 /mnt/scratch
inode 273 offset 4284416 root 258
inode 273 offset 4284416 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 249155584 /mnt/scratch
inode 273 offset 4374528 root 258
inode 273 offset 4374528 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 271781888 /mnt/scratch
inode 273 offset 4595712 root 258
inode 273 offset 4595712 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
273
# /bin/btrfs inspect-internal logical-resolve -P 16404480 /mnt/scratch
inode 273 offset 5357568 root 258
inode 273 offset 5357568 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fe
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f1c7
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/d9a/fc1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87 is 1789952 (437 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      108..     125:      60448..     60465:     18:        108: shared
   1:      202..     218:      62434..     62450:     17:      60542: shared
   2:      331..     359:       3516..      3544:     29:      62563: shared
   3:      360..     360:       3256..      3256:      1:       3545: shared
   4:      379..     418:      67872..     67911:     40:       3275: unwritten,shared
   5:      419..     436:      62676..     62693:     18:      67912: shared,eof
   6:      437..     602:      67912..     68077:    166:      62694: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87: 7 extents found
after filter: 247595008#73728#442368#shared 255729664#69632#827392#shared 14401536#118784#1355776#shared 13336576#4096#1474560#shared 278003712#163840#1552384#unwritten,shared 256720896#73728#1716224#shared,eof 278167552#679936#1789952#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
365
# /bin/btrfs inspect-internal logical-resolve -P 247595008 /mnt/scratch
inode 365 offset 442368 root 258
inode 365 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
365
# /bin/btrfs inspect-internal logical-resolve -P 255729664 /mnt/scratch
inode 365 offset 827392 root 258
inode 365 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
365
# /bin/btrfs inspect-internal logical-resolve -P 14401536 /mnt/scratch
inode 365 offset 1355776 root 258
inode 365 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
365
# /bin/btrfs inspect-internal logical-resolve -P 13336576 /mnt/scratch
inode 365 offset 1474560 root 258
inode 365 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
365
# /bin/btrfs inspect-internal logical-resolve -P 278003712 /mnt/scratch
inode 365 offset 1552384 root 258
inode 365 offset 1552384 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
365
# /bin/btrfs inspect-internal logical-resolve -P 256720896 /mnt/scratch
inode 365 offset 1716224 root 258
inode 365 offset 1716224 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
365
# /bin/btrfs inspect-internal logical-resolve -P 278167552 /mnt/scratch
inode 365 offset 1789952 root 258
inode 365 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/f87
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0 is 1518831 (371 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      50:      61567..     61577:     11:         40: shared
   1:      118..     118:       4081..      4081:      1:      61645: shared
   2:      251..     279:      65434..     65462:     29:       4214: shared
   3:      362..     369:      62137..     62144:      8:      65545: shared
   4:      370..     370:      58481..     58481:      1:      62145: shared,eof
   5:      463..     673:      67442..     67652:    211:      58574: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0: 6 extents found
after filter: 252178432#45056#163840#shared 16715776#4096#483328#shared 268017664#118784#1028096#shared 254513152#32768#1482752#shared 239538176#4096#1515520#shared,eof 276242432#864256#1896448#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 252178432 /mnt/scratch
inode 447 offset 163840 root 258
inode 447 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 16715776 /mnt/scratch
inode 447 offset 483328 root 258
inode 447 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 268017664 /mnt/scratch
inode 447 offset 1028096 root 258
inode 447 offset 1028096 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 254513152 /mnt/scratch
inode 447 offset 1482752 root 258
inode 447 offset 1482752 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 239538176 /mnt/scratch
inode 447 offset 1515520 root 258
inode 447 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 276242432 /mnt/scratch
inode 447 offset 1896448 root 258
inode 447 offset 1896448 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/ff0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/f113
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/f113 is 1754314 (429 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       60..      71:      61620..     61631:     12:         60: shared
   1:      195..     212:      62104..     62121:     18:      61755: unwritten,shared
   2:      244..     260:      61632..     61648:     17:      62153: shared
   3:      261..     261:      58479..     58479:      1:      61649: shared
   4:      262..     280:      65912..     65930:     19:      58480: unwritten,shared
   5:      281..     298:      70610..     70627:     18:      65931: last,shared
/mnt/scratch/snap1/p0/d5/f113: 6 extents found
after filter: 252395520#49152#245760#shared 254377984#73728#798720#unwritten,shared 252444672#69632#999424#shared 239529984#4096#1069056#shared 269975552#77824#1073152#unwritten,shared 289218560#73728#1150976#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/f113
404
# /bin/btrfs inspect-internal logical-resolve -P 252395520 /mnt/scratch
inode 404 offset 245760 root 258
inode 404 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/f113
404
# /bin/btrfs inspect-internal logical-resolve -P 254377984 /mnt/scratch
inode 404 offset 798720 root 258
inode 404 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/f113
404
# /bin/btrfs inspect-internal logical-resolve -P 252444672 /mnt/scratch
inode 404 offset 999424 root 258
inode 404 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/f113
404
# /bin/btrfs inspect-internal logical-resolve -P 239529984 /mnt/scratch
inode 404 offset 1069056 root 258
inode 404 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/f113
404
# /bin/btrfs inspect-internal logical-resolve -P 269975552 /mnt/scratch
inode 404 offset 1073152 root 258
inode 404 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# stat -c %i /mnt/scratch/snap1/p0/d5/f113
404
# /bin/btrfs inspect-internal logical-resolve -P 289218560 /mnt/scratch
inode 404 offset 1150976 root 258
inode 404 offset 1150976 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f113
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/fdc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/f1e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/f1e is 4721157 (1153 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      117..     119:       4083..      4085:      3:        117: shared
   1:      160..     160:       3107..      3107:      1:       4126: shared
   2:      161..     172:       4039..      4050:     12:       3108: shared
   3:      178..     192:       4357..      4371:     15:       4056: shared
   4:      193..     193:       4355..      4355:      1:       4372: shared
   5:      194..     202:      60811..     60819:      9:       4356: shared
   6:      203..     207:       4129..      4133:      5:      60820: shared
   7:      208..     250:       4134..      4176:     43:             unwritten,shared
   8:      251..     264:       4177..      4190:     14:             shared
   9:      265..     284:       4191..      4210:     20:             unwritten,shared
  10:      285..     300:       4211..      4226:     16:             shared
  11:      301..     301:       3073..      3073:      1:       4227: shared
  12:      302..     338:       4228..      4264:     37:       3074: unwritten,shared
  13:      339..     344:       4265..      4270:      6:             shared
  14:      345..     362:      63847..     63864:     18:       4271: shared
  15:      363..     364:       4289..      4290:      2:      63865: shared
  16:      365..     365:       4291..      4291:      1:             unwritten,shared
  17:      366..     375:       4292..      4301:     10:             shared
  18:      376..     377:       4392..      4393:      2:       4302: shared
  19:      378..     396:       4373..      4391:     19:       4394: shared
  20:      397..     401:       3099..      3103:      5:       4392: shared
  21:      402..     404:      58928..     58930:      3:       3104: shared
  22:      405..     407:       3511..      3513:      3:      58931: shared
  23:      428..     468:       3289..      3329:     41:       3534: unwritten,shared
  24:      469..     469:       3330..      3330:      1:             shared
  25:      472..     487:      68716..     68731:     16:       3333: shared
  26:      501..     509:      60610..     60618:      9:      68745: shared
  27:      519..     519:       3351..      3351:      1:      60628: shared
  28:      526..     533:      61210..     61217:      8:       3358: shared
  29:      665..     677:      64544..     64556:     13:      61349: shared
  30:      730..     753:      65231..     65254:     24:      64609: shared
  31:      754..     754:      58468..     58468:      1:      65255: shared
  32:      806..     867:      68404..     68465:     62:      58520: unwritten,shared
  33:      890..     890:       3907..      3907:      1:      68488: shared
  34:     1015..    1037:      70405..     70427:     23:       4032: shared
  35:     1123..    1152:      66994..     67023:     30:      70513: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/f1e: 28 extents found
after filter: 16723968#12288#479232#shared 12726272#4096#655360#shared 16543744#49152#659456#shared 17846272#61440#729088#shared 17838080#4096#790528#shared 249081856#36864#794624#shared 16912384#20480#831488#shared 16932864#176128#851968#unwritten,shared 17108992#57344#1028096#shared 17166336#81920#1085440#unwritten,shared 17248256#65536#1167360#shared 12587008#4096#1232896#shared 17317888#151552#1236992#unwritten,shared 17469440#24576#1388544#shared 261517312#73728#1413120#shared 17567744#8192#1486848#shared 17575936#4096#1495040#unwritten,shared 17580032#40960#1499136#shared 17989632#8192#1540096#shared 17911808#77824#1548288#shared 12693504#20480#1626112#shared 241369088#12288#1646592#shared 14381056#12288#1658880#shared 13471744#167936#1753088#unwritten,shared 13639680#4096#1921024#shared 281460736#65536#1933312#shared 248258560#36864#2052096#shared 13725696#4096#2125824#shared 250716160#32768#2154496#shared 264372224#53248#2723840#shared 267186176#98304#2990080#shared 239484928#4096#3088384#shared 280182784#253952#3301376#unwritten,shared 16003072#4096#3645440#shared 288378880#94208#4157440#shared 274407424#122880#4599808#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 16723968 /mnt/scratch
inode 283 offset 479232 root 258
inode 283 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 12726272 /mnt/scratch
inode 283 offset 655360 root 258
inode 283 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 16543744 /mnt/scratch
inode 283 offset 659456 root 258
inode 283 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17846272 /mnt/scratch
inode 283 offset 729088 root 258
inode 283 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17838080 /mnt/scratch
inode 283 offset 790528 root 258
inode 283 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 249081856 /mnt/scratch
inode 283 offset 794624 root 258
inode 283 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 16912384 /mnt/scratch
inode 283 offset 831488 root 258
inode 283 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 16932864 /mnt/scratch
inode 283 offset 851968 root 258
inode 283 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17108992 /mnt/scratch
inode 283 offset 1028096 root 258
inode 283 offset 1028096 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17166336 /mnt/scratch
inode 283 offset 1085440 root 258
inode 283 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17248256 /mnt/scratch
inode 283 offset 1167360 root 258
inode 283 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 12587008 /mnt/scratch
inode 283 offset 1232896 root 258
inode 283 offset 1232896 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17317888 /mnt/scratch
inode 283 offset 1236992 root 258
inode 283 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17469440 /mnt/scratch
inode 283 offset 1388544 root 258
inode 283 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 261517312 /mnt/scratch
inode 283 offset 1413120 root 258
inode 283 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17567744 /mnt/scratch
inode 283 offset 1486848 root 258
inode 283 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17575936 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511182255
inode 283 offset 1495040 root 258
inode 283 offset 1495040 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17580032 /mnt/scratch
inode 283 offset 1499136 root 258
inode 283 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17989632 /mnt/scratch
inode 283 offset 1540096 root 258
inode 283 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 17911808 /mnt/scratch
inode 283 offset 1548288 root 258
inode 283 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 12693504 /mnt/scratch
inode 283 offset 1626112 root 258
inode 283 offset 1626112 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 283 offset 1646592 root 258
inode 283 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 14381056 /mnt/scratch
inode 283 offset 1658880 root 258
inode 283 offset 1658880 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 13471744 /mnt/scratch
inode 283 offset 1753088 root 258
inode 283 offset 1753088 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 13639680 /mnt/scratch
inode 283 offset 1921024 root 258
inode 283 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 281460736 /mnt/scratch
inode 283 offset 1933312 root 258
inode 283 offset 1933312 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 248258560 /mnt/scratch
inode 283 offset 2052096 root 258
inode 283 offset 2052096 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 13725696 /mnt/scratch
inode 283 offset 2125824 root 258
inode 283 offset 2125824 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 250716160 /mnt/scratch
inode 283 offset 2154496 root 258
inode 283 offset 2154496 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 264372224 /mnt/scratch
inode 283 offset 2723840 root 258
inode 283 offset 2723840 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 267186176 /mnt/scratch
inode 283 offset 2990080 root 258
inode 283 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 239484928 /mnt/scratch
inode 283 offset 3088384 root 258
inode 283 offset 3088384 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 280182784 /mnt/scratch
inode 283 offset 3301376 root 258
inode 283 offset 3301376 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 16003072 /mnt/scratch
inode 283 offset 3645440 root 258
inode 283 offset 3645440 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 288378880 /mnt/scratch
inode 283 offset 4157440 root 258
inode 283 offset 4157440 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 274407424 /mnt/scratch
inode 283 offset 4599808 root 258
inode 283 offset 4599808 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d11/f1e
/mnt/scratch/snap1/p0/d5/d53/f5b
/mnt/scratch/snap1/p0/d5/d53/d1b2/d71/f79
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/f89
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/f89 is 1515507 (370 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       10..      72:      70172..     70234:     63:         10: unwritten,shared
   1:      346..     369:      70667..     70690:     24:      70508: last,shared,eof
/mnt/scratch/snap1/p0/d5/d53/f89: 2 extents found
after filter: 287424512#258048#40960#unwritten,shared 289452032#98304#1417216#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f89
367
# /bin/btrfs inspect-internal logical-resolve -P 287424512 /mnt/scratch
inode 367 offset 40960 root 258
inode 367 offset 40960 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f89
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f103
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/f89
367
# /bin/btrfs inspect-internal logical-resolve -P 289452032 /mnt/scratch
inode 367 offset 1417216 root 258
inode 367 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/f89
/mnt/scratch/snap1/p0/d5/d7/d11/d75/f103
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181 is 2104750 (514 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       19..      36:       4412..      4429:     18:         19: shared
   1:       78..      90:      66659..     66671:     13:       4471: shared
   2:       91..      96:       3470..      3475:      6:      66672: shared
   3:       97..     115:      58831..     58849:     19:       3476: shared
   4:      116..     117:       3348..      3349:      2:      58850: shared
   5:      118..     119:       3422..      3423:      2:       3350: shared
   6:      120..     120:       3561..      3561:      1:       3424: shared
   7:      182..     192:       4734..      4744:     11:       3623: shared
   8:      193..     193:       3913..      3913:      1:       4745: shared
   9:      211..     212:       3494..      3495:      2:       3931: shared
  10:      216..     231:      58589..     58604:     16:       3499: unwritten,shared
  11:      232..     237:      58605..     58610:      6:             shared
  12:      238..     264:      58611..     58637:     27:             unwritten,shared
  13:      265..     266:      58638..     58639:      2:             shared
  14:      267..     303:      58640..     58676:     37:             unwritten,shared
  15:      304..     314:      58677..     58687:     11:             shared
  16:      315..     315:      58863..     58863:      1:      58688: shared
  17:      316..     320:      58689..     58693:      5:      58864: unwritten,shared
  18:      321..     321:      58694..     58694:      1:             shared
  19:      392..     422:      69429..     69459:     31:      58765: last,shared
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181: 14 extents found
after filter: 18071552#73728#77824#shared 273035264#53248#319488#shared 14213120#24576#372736#shared 240971776#77824#397312#shared 13713408#8192#475136#shared 14016512#8192#483328#shared 14585856#4096#491520#shared 19390464#45056#745472#shared 16027648#4096#790528#shared 14311424#8192#864256#shared 239980544#65536#884736#unwritten,shared 240046080#24576#950272#shared 240070656#110592#974848#unwritten,shared 240181248#8192#1085440#shared 240189440#151552#1093632#unwritten,shared 240340992#45056#1245184#shared 241102848#4096#1290240#shared 240390144#20480#1294336#unwritten,shared 240410624#4096#1314816#shared 284381184#126976#1605632#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 18071552 /mnt/scratch
inode 274 offset 77824 root 258
inode 274 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 273035264 /mnt/scratch
inode 274 offset 319488 root 258
inode 274 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 14213120 /mnt/scratch
inode 274 offset 372736 root 258
inode 274 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 240971776 /mnt/scratch
inode 274 offset 397312 root 258
inode 274 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 13713408 /mnt/scratch
inode 274 offset 475136 root 258
inode 274 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 14016512 /mnt/scratch
inode 274 offset 483328 root 258
inode 274 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 14585856 /mnt/scratch
inode 274 offset 491520 root 258
inode 274 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 19390464 /mnt/scratch
inode 274 offset 745472 root 258
inode 274 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 16027648 /mnt/scratch
inode 274 offset 790528 root 258
inode 274 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 14311424 /mnt/scratch
inode 274 offset 864256 root 258
inode 274 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 239980544 /mnt/scratch
inode 274 offset 884736 root 258
inode 274 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 240046080 /mnt/scratch
inode 274 offset 950272 root 258
inode 274 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
background rm
274
# /bin/btrfs inspect-internal logical-resolve -P 240070656 /mnt/scratch
background fsstress
inode 274 offset 974848 root 258
inode 274 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511965213
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 240181248 /mnt/scratch
inode 274 offset 1085440 root 258
inode 274 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 240189440 /mnt/scratch
inode 274 offset 1093632 root 258
inode 274 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 240340992 /mnt/scratch
inode 274 offset 1245184 root 258
inode 274 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 241102848 /mnt/scratch
inode 274 offset 1290240 root 258
inode 274 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 240390144 /mnt/scratch
inode 274 offset 1294336 root 258
inode 274 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 240410624 /mnt/scratch
inode 274 offset 1314816 root 258
inode 274 offset 1314816 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
274
# /bin/btrfs inspect-internal logical-resolve -P 284381184 /mnt/scratch
inode 274 offset 1605632 root 258
inode 274 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/ff
/mnt/scratch/snap1/p0/d5/d7/d13/f17
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f181
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d13/d9b/dc9/d1cd/f1d9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d13/d9b/dc9/d1cd/f1d9 is 512000 (125 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      107..     124:      68602..     68619:     18:        107: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/dc9/d1cd/f1d9: 1 extent found
after filter: 280993792#73728#438272#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d13/d9b/dc9/d1cd/f1d9
619
# /bin/btrfs inspect-internal logical-resolve -P 280993792 /mnt/scratch
inode 619 offset 438272 root 258
inode 619 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 619 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/dc9/d1cd/f1d9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d11/f9e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d11/f9e is 2438656 (596 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       44..      49:      61924..     61929:      6:         44: shared
   1:       50..      51:      59067..     59068:      2:      61930: shared
   2:       52..      62:      61932..     61942:     11:      59069: shared
   3:       63..      63:      58476..     58476:      1:      61943: shared
   4:       70..     100:      62558..     62588:     31:      58483: shared
   5:      163..     175:      63810..     63822:     13:      62651: shared
   6:      176..     193:      65416..     65433:     18:      63823: shared
   7:      262..     262:       3112..      3112:      1:      65502: shared
   8:      340..     343:      60820..     60823:      4:       3190: shared
   9:      344..     344:      58478..     58478:      1:      60824: shared
  10:      573..     595:      63016..     63038:     23:      58707: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d11/f9e: 11 extents found
after filter: 253640704#24576#180224#shared 241938432#8192#204800#shared 253673472#45056#212992#shared 239517696#4096#258048#shared 256237568#126976#286720#shared 261365760#53248#667648#shared 267943936#73728#720896#shared 12746752#4096#1073152#shared 249118720#16384#1392640#shared 239525888#4096#1409024#shared 258113536#94208#2347008#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 253640704 /mnt/scratch
inode 383 offset 180224 root 258
inode 383 offset 180224 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 241938432 /mnt/scratch
inode 383 offset 204800 root 258
inode 383 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 253673472 /mnt/scratch
inode 383 offset 212992 root 258
inode 383 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 239517696 /mnt/scratch
inode 383 offset 258048 root 258
inode 383 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 256237568 /mnt/scratch
inode 383 offset 286720 root 258
inode 383 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 261365760 /mnt/scratch
inode 383 offset 667648 root 258
inode 383 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 267943936 /mnt/scratch
inode 383 offset 720896 root 258
inode 383 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 12746752 /mnt/scratch
inode 383 offset 1073152 root 258
inode 383 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 249118720 /mnt/scratch
inode 383 offset 1392640 root 258
inode 383 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 239525888 /mnt/scratch
inode 383 offset 1409024 root 258
inode 383 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d11/f9e
383
# /bin/btrfs inspect-internal logical-resolve -P 258113536 /mnt/scratch
inode 383 offset 2347008 root 258
inode 383 offset 2347008 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/fd0
/mnt/scratch/snap1/p0/d5/d7/d11/f9e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/d4d/f6a is 3717375 (908 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       11..     142:      68836..     68967:    132:         11: unwritten,shared
   1:      143..     170:      63898..     63925:     28:      68968: shared
   2:      171..     185:      61756..     61770:     15:      63926: shared
   3:      186..     207:      68968..     68989:     22:      61771: unwritten,shared
   4:      208..     211:       4746..      4749:      4:      68990: shared
   5:      212..     212:       3545..      3545:      1:       4750: shared
   6:      213..     249:      68990..     69026:     37:       3546: unwritten,shared
   7:      270..     296:      66124..     66150:     27:      69047: shared
   8:      464..     479:      65256..     65271:     16:      66318: shared
   9:      480..     480:      60593..     60593:      1:      65272: shared
  10:      541..     662:      69146..     69267:    122:      60654: unwritten,shared
  11:      714..     720:      62550..     62556:      7:      69319: shared
  12:      893..     907:      70724..     70738:     15:      62729: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a: 13 extents found
after filter: 281952256#540672#45056#unwritten,shared 261726208#114688#585728#shared 252952576#61440#700416#shared 282492928#90112#761856#unwritten,shared 19439616#16384#851968#shared 14520320#4096#868352#shared 282583040#151552#872448#unwritten,shared 270843904#110592#1105920#shared 267288576#65536#1900544#shared 248188928#4096#1966080#shared 283222016#499712#2215936#unwritten,shared 256204800#28672#2924544#shared 289685504#61440#3657728#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 281952256 /mnt/scratch
inode 341 offset 45056 root 258
inode 341 offset 45056 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 261726208 /mnt/scratch
inode 341 offset 585728 root 258
inode 341 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 252952576 /mnt/scratch
inode 341 offset 700416 root 258
inode 341 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 282492928 /mnt/scratch
inode 341 offset 761856 root 258
inode 341 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 19439616 /mnt/scratch
inode 341 offset 851968 root 258
inode 341 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 14520320 /mnt/scratch
inode 341 offset 868352 root 258
inode 341 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 282583040 /mnt/scratch
inode 341 offset 872448 root 258
inode 341 offset 872448 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 270843904 /mnt/scratch
inode 341 offset 1105920 root 258
inode 341 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 267288576 /mnt/scratch
inode 341 offset 1900544 root 258
inode 341 offset 1900544 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 248188928 /mnt/scratch
inode 341 offset 1966080 root 258
inode 341 offset 1966080 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 283222016 /mnt/scratch
inode 341 offset 2215936 root 258
inode 341 offset 2215936 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 256204800 /mnt/scratch
inode 341 offset 2924544 root 258
inode 341 offset 2924544 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/d4d/f6a
341
# /bin/btrfs inspect-internal logical-resolve -P 289685504 /mnt/scratch
inode 341 offset 3657728 root 258
inode 341 offset 3657728 root 5
# /bin/btrfs inspect-internal inode-resolve 341 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/d4d/f6a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48 is 3095649 (756 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       49..      91:      60175..     60217:     43:         49: unwritten,shared
   1:       92..      93:      60218..     60219:      2:             shared
   2:       94..     109:      60220..     60235:     16:             unwritten,shared
   3:      110..     110:      60236..     60236:      1:             shared
   4:      111..     118:      60237..     60244:      8:             unwritten,shared
   5:      119..     119:       3253..      3253:      1:      60245: shared
   6:      120..     151:      60245..     60276:     32:       3254: unwritten,shared
   7:      152..     154:      60663..     60665:      3:      60277: shared
   8:      155..     269:      60280..     60394:    115:      60666: unwritten,shared
   9:      292..     311:      59918..     59937:     20:      60417: shared
  10:      340..     358:      60411..     60429:     19:      59966: shared
  11:      362..     369:      60594..     60601:      8:      60433: shared
  12:      370..     377:      61463..     61470:      8:      60602: shared
  13:      378..     392:      64124..     64138:     15:      61471: shared
  14:      393..     412:      58501..     58520:     20:      64139: shared
  15:      419..     443:      61771..     61795:     25:      58527: shared
  16:      444..     444:      59061..     59061:      1:      61796: shared
  17:      564..     569:      59906..     59911:      6:      59181: shared
  18:      629..     648:      67308..     67327:     20:      59971: shared
  19:      672..     676:       3860..      3864:      5:      67351: shared
  20:      677..     677:       3090..      3090:      1:       3865: shared
  21:      733..     754:      63824..     63845:     22:       3146: shared
  22:      755..     755:      58822..     58822:      1:      63846: shared,eof
  23:      991..    1091:      61088..     61188:    101:      59058: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48: 20 extents found
after filter: 246476800#176128#200704#unwritten,shared 246652928#8192#376832#shared 246661120#65536#385024#unwritten,shared 246726656#4096#450560#shared 246730752#32768#454656#unwritten,shared 13324288#4096#487424#shared 246763520#131072#491520#unwritten,shared 248475648#12288#622592#shared 246906880#471040#634880#unwritten,shared 245424128#81920#1196032#shared 247443456#77824#1392640#shared 248193024#32768#1482752#shared 251752448#32768#1515520#shared 262651904#61440#1548288#shared 239620096#81920#1609728#shared 253014016#102400#1716224#shared 241913856#4096#1818624#shared 245374976#24576#2310144#shared 275693568#81920#2576384#shared 15810560#20480#2752512#shared 12656640#4096#2772992#shared 261423104#90112#3002368#shared 240934912#4096#3092480#shared,eof 250216448#413696#4059136#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 246476800 /mnt/scratch
inode 301 offset 200704 root 258
inode 301 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 246652928 /mnt/scratch
inode 301 offset 376832 root 258
inode 301 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 246661120 /mnt/scratch
inode 301 offset 385024 root 258
inode 301 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 246726656 /mnt/scratch
inode 301 offset 450560 root 258
inode 301 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 246730752 /mnt/scratch
inode 301 offset 454656 root 258
inode 301 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 13324288 /mnt/scratch
inode 301 offset 487424 root 258
inode 301 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 246763520 /mnt/scratch
inode 301 offset 491520 root 258
inode 301 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 248475648 /mnt/scratch
inode 301 offset 622592 root 258
inode 301 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 246906880 /mnt/scratch
inode 301 offset 634880 root 258
inode 301 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 245424128 /mnt/scratch
inode 301 offset 1196032 root 258
inode 301 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 247443456 /mnt/scratch
inode 301 offset 1392640 root 258
inode 301 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 248193024 /mnt/scratch
inode 301 offset 1482752 root 258
inode 301 offset 1482752 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 251752448 /mnt/scratch
inode 301 offset 1515520 root 258
inode 301 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 262651904 /mnt/scratch
inode 301 offset 1548288 root 258
inode 301 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 239620096 /mnt/scratch
inode 301 offset 1609728 root 258
inode 301 offset 1609728 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
301
# /bin/btrfs inspect-internal logical-resolve -P 253014016 /mnt/scratch
seed = 1511389308
inode 301 offset 1716224 root 258
inode 301 offset 1716224 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 241913856 /mnt/scratch
inode 301 offset 1818624 root 258
inode 301 offset 1818624 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 245374976 /mnt/scratch
inode 301 offset 2310144 root 258
inode 301 offset 2310144 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 275693568 /mnt/scratch
inode 301 offset 2576384 root 258
inode 301 offset 2576384 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 15810560 /mnt/scratch
inode 301 offset 2752512 root 258
inode 301 offset 2752512 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 12656640 /mnt/scratch
inode 301 offset 2772992 root 258
inode 301 offset 2772992 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 261423104 /mnt/scratch
inode 301 offset 3002368 root 258
inode 301 offset 3002368 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 240934912 /mnt/scratch
inode 301 offset 3092480 root 258
inode 301 offset 3092480 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
301
# /bin/btrfs inspect-internal logical-resolve -P 250216448 /mnt/scratch
inode 301 offset 4059136 root 258
inode 301 offset 4059136 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/f4a
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/f48
/mnt/scratch/snap1/p0/d5/d7/d13/d9b/d7a/f1df
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f is 3579904 (874 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       33..      50:       3352..      3369:     18:         33: shared
   1:       88..      89:       3514..      3515:      2:       3407: shared
   2:       92..      97:      62717..     62722:      6:       3518: shared
   3:      201..     209:      59022..     59030:      9:      62826: shared
   4:      210..     210:      58861..     58861:      1:      59031: shared
   5:      248..     276:      67185..     67213:     29:      58899: shared
   6:      277..     286:      59670..     59679:     10:      67214: shared
   7:      287..     308:      61832..     61853:     22:      59680: shared
   8:      545..     564:      60074..     60093:     20:      62090: shared
   9:      672..     693:      61426..     61447:     22:      60201: shared
  10:      723..     725:       4321..      4323:      3:      61477: shared
  11:      857..     873:      62805..     62821:     17:       4455: last,shared,eof
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f: 12 extents found
after filter: 13729792#73728#135168#shared 14393344#8192#360448#shared 256888832#24576#376832#shared 241754112#36864#823296#shared 241094656#4096#860160#shared 275189760#118784#1015808#shared 244408320#40960#1134592#shared 253263872#90112#1175552#shared 246063104#81920#2232320#shared 251600896#90112#2752512#shared 17698816#12288#2961408#shared 257249280#69632#3510272#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 13729792 /mnt/scratch
inode 299 offset 135168 root 258
inode 299 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 14393344 /mnt/scratch
inode 299 offset 360448 root 258
inode 299 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 256888832 /mnt/scratch
inode 299 offset 376832 root 258
inode 299 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 241754112 /mnt/scratch
inode 299 offset 823296 root 258
inode 299 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 241094656 /mnt/scratch
inode 299 offset 860160 root 258
inode 299 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 275189760 /mnt/scratch
inode 299 offset 1015808 root 258
inode 299 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 244408320 /mnt/scratch
inode 299 offset 1134592 root 258
inode 299 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 253263872 /mnt/scratch
inode 299 offset 1175552 root 258
inode 299 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 246063104 /mnt/scratch
inode 299 offset 2232320 root 258
inode 299 offset 2232320 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 251600896 /mnt/scratch
inode 299 offset 2752512 root 258
inode 299 offset 2752512 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 17698816 /mnt/scratch
inode 299 offset 2961408 root 258
inode 299 offset 2961408 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
299
# /bin/btrfs inspect-internal logical-resolve -P 257249280 /mnt/scratch
inode 299 offset 3510272 root 258
inode 299 offset 3510272 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d7/dc/d34/d33/d45/d27/f2f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc is 3397037 (830 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      112..     124:      59844..     59856:     13:        112: shared
   1:      177..     190:      62341..     62354:     14:      59909: shared
   2:      223..     227:      61797..     61801:      5:      62387: shared
   3:      228..     231:      60154..     60157:      4:      61802: shared
   4:      232..     250:      61806..     61824:     19:      60158: shared
   5:      251..     265:      58424..     58438:     15:      61825: shared
   6:      266..     266:      58480..     58480:      1:      58439: shared
   7:      267..     268:      58440..     58441:      2:      58481: shared
   8:      269..     269:      58860..     58860:      1:      58442: shared
   9:      276..     276:       3113..      3113:      1:      58867: unwritten,shared
  10:      277..     338:      68466..     68527:     62:       3114: unwritten,shared
  11:      339..     361:      68078..     68100:     23:      68528: shared
  12:      362..     383:      68528..     68549:     22:      68101: unwritten,shared
  13:      384..     409:      59635..     59660:     26:      68550: shared
  14:      410..     415:      64648..     64653:      6:      59661: unwritten,shared
  15:      416..     444:      59857..     59885:     29:      64654: shared
  16:      445..     446:      68550..     68551:      2:      59886: unwritten,shared
  17:      447..     463:      68552..     68568:     17:             shared
  18:      464..     496:      68569..     68601:     33:             unwritten,shared
  19:      497..     508:      58568..     58579:     12:      68602: unwritten,shared
  20:      511..     516:       4315..      4320:      6:      58582: shared
  21:      633..     728:      62822..     62917:     96:       4437: unwritten,shared
  22:      729..     734:      61825..     61830:      6:      62918: shared
  23:      735..     735:      60667..     60667:      1:      61831: shared
  24:      736..     833:      62918..     63015:     98:      60668: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc: 23 extents found
after filter: 245121024#53248#458752#shared 255348736#57344#724992#shared 253120512#20480#913408#shared 246390784#16384#933888#shared 253157376#77824#950272#shared 239304704#61440#1028096#shared 239534080#4096#1089536#shared 239370240#8192#1093632#shared 241090560#4096#1101824#shared 12750848#4096#1130496#unwritten,shared 280436736#253952#1134592#unwritten,shared 278847488#94208#1388544#shared 280690688#90112#1482752#unwritten,shared 244264960#106496#1572864#shared 264798208#24576#1679360#unwritten,shared 245174272#118784#1703936#shared 280780800#8192#1822720#unwritten,shared 280788992#69632#1830912#shared 280858624#135168#1900544#unwritten,shared 239894528#49152#2035712#unwritten,shared 17674240#24576#2093056#shared 257318912#393216#2592768#unwritten,shared 253235200#24576#2985984#shared 248492032#4096#3010560#shared 257712128#401408#3014656#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 245121024 /mnt/scratch
inode 305 offset 458752 root 258
inode 305 offset 458752 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 255348736 /mnt/scratch
inode 305 offset 724992 root 258
inode 305 offset 724992 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 253120512 /mnt/scratch
inode 305 offset 913408 root 258
inode 305 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 246390784 /mnt/scratch
inode 305 offset 933888 root 258
inode 305 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 253157376 /mnt/scratch
inode 305 offset 950272 root 258
inode 305 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 239304704 /mnt/scratch
inode 305 offset 1028096 root 258
inode 305 offset 1028096 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 239534080 /mnt/scratch
inode 305 offset 1089536 root 258
inode 305 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 239370240 /mnt/scratch
inode 305 offset 1093632 root 258
inode 305 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 241090560 /mnt/scratch
inode 305 offset 1101824 root 258
inode 305 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 12750848 /mnt/scratch
inode 305 offset 1130496 root 258
inode 305 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 280436736 /mnt/scratch
inode 305 offset 1134592 root 258
inode 305 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 278847488 /mnt/scratch
inode 305 offset 1388544 root 258
inode 305 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 280690688 /mnt/scratch
inode 305 offset 1482752 root 258
inode 305 offset 1482752 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 244264960 /mnt/scratch
inode 305 offset 1572864 root 258
inode 305 offset 1572864 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 264798208 /mnt/scratch
inode 305 offset 1679360 root 258
inode 305 offset 1679360 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 245174272 /mnt/scratch
inode 305 offset 1703936 root 258
inode 305 offset 1703936 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 280780800 /mnt/scratch
inode 305 offset 1822720 root 258
inode 305 offset 1822720 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 280788992 /mnt/scratch
inode 305 offset 1830912 root 258
inode 305 offset 1830912 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 280858624 /mnt/scratch
inode 305 offset 1900544 root 258
inode 305 offset 1900544 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1511952790
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 239894528 /mnt/scratch
inode 305 offset 2035712 root 258
inode 305 offset 2035712 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 17674240 /mnt/scratch
inode 305 offset 2093056 root 258
inode 305 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 257318912 /mnt/scratch
inode 305 offset 2592768 root 258
inode 305 offset 2592768 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 253235200 /mnt/scratch
inode 305 offset 2985984 root 258
inode 305 offset 2985984 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 248492032 /mnt/scratch
inode 305 offset 3010560 root 258
inode 305 offset 3010560 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# stat -c %i /mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
305
# /bin/btrfs inspect-internal logical-resolve -P 257712128 /mnt/scratch
inode 305 offset 3014656 root 258
inode 305 offset 3014656 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d53/d1b2/d1a6/d168/f1fc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/f1a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/f1a is 632211 (155 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       35..      38:      59821..     59824:      4:         35: shared
   1:       39..      45:      60168..     60174:      7:      59825: shared
   2:       46..      57:      59832..     59843:     12:      60175: shared
   3:       72..      83:      58931..     58942:     12:      59858: shared
   4:       84..      95:       4695..      4706:     12:      58943: shared
   5:       96..      97:      66922..     66923:      2:       4707: shared
   6:       98..     103:      62129..     62134:      6:      66924: shared
   7:      104..     117:      66930..     66943:     14:      62135: shared
   8:      118..     143:      67698..     67723:     26:      66944: shared
   9:      144..     148:      58956..     58960:      5:      67724: shared
  10:      149..     154:      60158..     60163:      6:      58961: last,shared,eof
/mnt/scratch/snap1/p0/d5/f1a: 11 extents found
after filter: 245026816#16384#143360#shared 246448128#28672#159744#shared 245071872#49152#188416#shared 241381376#49152#294912#shared 19230720#49152#344064#shared 274112512#8192#393216#shared 254480384#24576#401408#shared 274145280#57344#425984#shared 277291008#106496#483328#shared 241483776#20480#589824#shared 246407168#24576#610304#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 245026816 /mnt/scratch
inode 280 offset 143360 root 258
inode 280 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 246448128 /mnt/scratch
inode 280 offset 159744 root 258
inode 280 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 245071872 /mnt/scratch
inode 280 offset 188416 root 258
inode 280 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 241381376 /mnt/scratch
inode 280 offset 294912 root 258
inode 280 offset 294912 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 19230720 /mnt/scratch
inode 280 offset 344064 root 258
inode 280 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 274112512 /mnt/scratch
inode 280 offset 393216 root 258
inode 280 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 254480384 /mnt/scratch
inode 280 offset 401408 root 258
inode 280 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 274145280 /mnt/scratch
inode 280 offset 425984 root 258
inode 280 offset 425984 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 277291008 /mnt/scratch
inode 280 offset 483328 root 258
inode 280 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 241483776 /mnt/scratch
inode 280 offset 589824 root 258
inode 280 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
# stat -c %i /mnt/scratch/snap1/p0/d5/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 246407168 /mnt/scratch
inode 280 offset 610304 root 258
inode 280 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1a
background rm
