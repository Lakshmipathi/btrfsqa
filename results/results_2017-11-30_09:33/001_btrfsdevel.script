Script started on Thu 30 Nov 2017 07:14:11 AM UTC
+ echo 'Installing dependencies..'
Installing dependencies..
+ sudo yum install -q -y unzip wget openssl-devel gcc make libtool automake bc
+ echo 'Installing dependencies..done'
Installing dependencies..done
+ sudo modprobe btrfs
+ wget https://github.com/kdave/btrfs-devel/archive/misc-next.zip
--2017-11-30 07:14:48--  https://github.com/kdave/btrfs-devel/archive/misc-next.zip
Resolving github.com (github.com)... 192.30.255.113, 192.30.255.112
Connecting to github.com (github.com)|192.30.255.113|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://codeload.github.com/kdave/btrfs-devel/zip/misc-next [following]
--2017-11-30 07:14:48--  https://codeload.github.com/kdave/btrfs-devel/zip/misc-next
Resolving codeload.github.com (codeload.github.com)... 192.30.255.121, 192.30.255.120
Connecting to codeload.github.com (codeload.github.com)|192.30.255.121|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/zip]
Saving to: ‘misc-next.zip’

misc-next.zip                           [<=>                                                                ]       0  --.-KB/s               misc-next.zip                           [ <=>                                                               ]   2.00M  8.23MB/s               misc-next.zip                           [  <=>                                                              ]   4.00M  8.28MB/s               misc-next.zip                           [   <=>                                                             ]   6.00M  8.37MB/s               misc-next.zip                           [    <=>                                                            ]   8.00M  8.46MB/s               misc-next.zip                           [     <=>                                                           ]  10.00M  8.45MB/s               misc-next.zip                           [      <=>                                                          ]  12.00M  8.50MB/s               misc-next.zip                           [       <=>                                                         ]  14.00M  8.55MB/s               misc-next.zip                           [        <=>                                                        ]  16.00M  8.57MB/s               misc-next.zip                           [         <=>                                                       ]  18.00M  8.48MB/s               misc-next.zip                           [          <=>                                                      ]  20.00M  8.41MB/s               misc-next.zip                           [           <=>                                                     ]  22.00M  8.41MB/s               misc-next.zip                           [            <=>                                                    ]  24.00M  8.43MB/s               misc-next.zip                           [             <=>                                                   ]  26.00M  8.48MB/s               misc-next.zip                           [              <=>                                                  ]  28.00M  8.49MB/s               misc-next.zip                           [               <=>                                                 ]  30.00M  8.49MB/s               misc-next.zip                           [                <=>                                                ]  32.00M  8.50MB/s               misc-next.zip                           [                 <=>                                               ]  34.00M  8.50MB/s               misc-next.zip                           [                  <=>                                              ]  36.00M  8.48MB/s               misc-next.zip                           [                   <=>                                             ]  38.00M  8.40MB/s               misc-next.zip                           [                    <=>                                            ]  40.00M  8.36MB/s               misc-next.zip                           [                     <=>                                           ]  42.00M  8.34MB/s               misc-next.zip                           [                      <=>                                          ]  44.00M  8.32MB/s               misc-next.zip                           [                       <=>                                         ]  46.00M  8.29MB/s               misc-next.zip                           [                        <=>                                        ]  48.00M  8.22MB/s               misc-next.zip                           [                         <=>                                       ]  50.00M  7.88MB/s               misc-next.zip                           [                          <=>                                      ]  52.00M  7.43MB/s               misc-next.zip                           [                           <=>                                     ]  54.00M  6.96MB/s               misc-next.zip                           [                            <=>                                    ]  56.00M  6.97MB/s               misc-next.zip                           [                             <=>                                   ]  58.00M  6.97MB/s               misc-next.zip                           [                              <=>                                  ]  60.00M  6.99MB/s               misc-next.zip                           [                               <=>                                 ]  62.00M  6.96MB/s               misc-next.zip                           [                                <=>                                ]  62.00M  6.25MB/s               misc-next.zip                           [                                 <=>                               ]  69.58M  7.18MB/s               misc-next.zip                           [                                  <=>                              ]  70.00M  6.95MB/s               misc-next.zip                           [                                   <=>                             ]  72.00M  6.95MB/s               misc-next.zip                           [                                    <=>                            ]  74.00M  6.93MB/s               misc-next.zip                           [                                     <=>                           ]  76.00M  6.87MB/s               misc-next.zip                           [                                      <=>                          ]  78.00M  6.87MB/s               misc-next.zip                           [                                       <=>                         ]  80.00M  6.90MB/s               misc-next.zip                           [                                        <=>                        ]  82.00M  6.91MB/s               misc-next.zip                           [                                         <=>                       ]  84.00M  6.91MB/s               misc-next.zip                           [                                          <=>                      ]  86.00M  6.92MB/s               misc-next.zip                           [                                           <=>                     ]  88.00M  6.93MB/s               misc-next.zip                           [                                            <=>                    ]  90.00M  6.89MB/s               misc-next.zip                           [                                             <=>                   ]  92.00M  7.10MB/s               misc-next.zip                           [                                              <=>                  ]  94.00M  7.42MB/s               misc-next.zip                           [                                               <=>                 ]  96.00M  7.87MB/s               misc-next.zip                           [                                                <=>                ]  98.00M  7.78MB/s               misc-next.zip                           [                                                 <=>               ] 100.00M  7.79MB/s               misc-next.zip                           [                                                  <=>              ] 102.00M  7.72MB/s               misc-next.zip                           [                                                   <=>             ] 104.00M  7.70MB/s               misc-next.zip                           [                                                    <=>            ] 106.00M  8.54MB/s               misc-next.zip                           [                                                     <=>           ] 108.00M  7.63MB/s               misc-next.zip                           [                                                      <=>          ] 110.00M  7.63MB/s               misc-next.zip                           [                                                       <=>         ] 112.00M  7.57MB/s               misc-next.zip                           [                                                        <=>        ] 114.00M  7.58MB/s               misc-next.zip                           [                                                         <=>       ] 116.00M  7.59MB/s               misc-next.zip                           [                                                          <=>      ] 118.00M  7.51MB/s               misc-next.zip                           [                                                           <=>     ] 120.00M  7.45MB/s               misc-next.zip                           [                                                            <=>    ] 122.00M  7.46MB/s               misc-next.zip                           [                                                             <=>   ] 124.00M  7.46MB/s               misc-next.zip                           [                                                              <=>  ] 126.00M  7.45MB/s               misc-next.zip                           [                                                               <=> ] 128.00M  7.44MB/s               misc-next.zip                           [                                                                <=>] 130.00M  7.47MB/s               misc-next.zip                           [                                                               <=> ] 132.00M  7.48MB/s               misc-next.zip                           [                                                              <=>  ] 134.00M  7.50MB/s               misc-next.zip                           [                                                             <=>   ] 136.00M  7.52MB/s               misc-next.zip                           [                                                            <=>    ] 138.00M  7.57MB/s               misc-next.zip                           [                                                           <=>     ] 140.00M  7.58MB/s               misc-next.zip                           [                                                          <=>      ] 142.00M  7.57MB/s               misc-next.zip                           [                                                         <=>       ] 144.00M  7.56MB/s               misc-next.zip                           [                                                        <=>        ] 146.00M  7.46MB/s               misc-next.zip                           [                                                       <=>         ] 148.00M  7.44MB/s               misc-next.zip                           [                                                      <=>          ] 150.00M  7.44MB/s               misc-next.zip                           [                                                     <=>           ] 152.00M  7.48MB/s               misc-next.zip                           [                                                    <=>            ] 154.00M  7.48MB/s               misc-next.zip                           [                                                   <=>             ] 156.00M  7.55MB/s               misc-next.zip                           [                                                  <=>              ] 158.00M  7.61MB/s               misc-next.zip                           [                                                 <=>               ] 160.00M  7.63MB/s               misc-next.zip                           [                                                <=>                ] 162.00M  7.58MB/s               misc-next.zip                           [                                               <=>                 ] 164.00M  7.54MB/s               misc-next.zip                           [                                              <=>                  ] 166.00M  7.54MB/s               misc-next.zip                           [                                             <=>                   ] 168.00M  7.52MB/s               misc-next.zip                           [                                            <=>                    ] 170.00M  7.55MB/s               misc-next.zip                           [                                           <=>                     ] 172.00M  7.55MB/s               misc-next.zip                           [                                          <=>                      ] 174.00M  7.54MB/s               misc-next.zip                           [                                         <=>                       ] 176.00M  7.53MB/s               misc-next.zip                           [                                        <=>                        ] 178.00M  7.49MB/s               misc-next.zip                           [                                       <=>                         ] 180.00M  7.50MB/s               misc-next.zip                           [                                      <=>                          ] 188.00M  8.15MB/s               misc-next.zip                           [                                     <=>                           ] 188.92M  8.28MB/s    in 25s     

2017-11-30 07:15:13 (7.70 MB/s) - ‘misc-next.zip’ saved [198096648]

+ unzip -qq misc-next.zip
+ cd /home/fedora/btrfs-devel-misc-next/
+ wget https://patchwork.kernel.org/patch/10076951/raw/
--2017-11-30 07:15:44--  https://patchwork.kernel.org/patch/10076951/raw/
Resolving patchwork.kernel.org (patchwork.kernel.org)... 198.145.29.83
Connecting to patchwork.kernel.org (patchwork.kernel.org)|198.145.29.83|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [text/x-patch]
Saving to: ‘index.html’

index.html                              [<=>                                                                ]       0  --.-KB/s               index.html                              [ <=>                                                               ]     525  --.-KB/s    in 0s      

2017-11-30 07:15:44 (11.6 MB/s) - ‘index.html’ saved [525]

+ mv index.html /tmp/sanity.diff
+ sleep 2
+ sudo yum install patch -y
Last metadata expiration check: 0:04:19 ago on Thu 30 Nov 2017 07:11:29 AM UTC.
Dependencies resolved.
===============================================================================================================================================
 Package                        Arch                            Version                                  Repository                       Size
===============================================================================================================================================
Installing:
 patch                          x86_64                          2.7.5-4.fc26                             fedora                          122 k

Transaction Summary
===============================================================================================================================================
Install  1 Package

Total download size: 122 k
Installed size: 227 k
Downloading Packages:
patch-2.7.5-4.fc26.x86_64.rpm                         0% [                                                   ] ---  B/s |   0  B     --:-- ETApatch-2.7.5-4.fc26.x86_64.rpm                                                                                  242 kB/s | 122 kB     00:00    
-----------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                          105 kB/s | 122 kB     00:01     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                                                       1/1 
  Installing       : patch-2.7.5-4.fc26.x86_64 [                                                                                         ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [============                                                                             ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [========================                                                                 ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [=====================================                                                    ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [=================================================                                        ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [==============================================================                           ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [===============================================================                          ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [=====================================================================                    ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [======================================================================                   ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [==================================================================================       ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [===================================================================================      ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64 [======================================================================================== ] 1/1  Installing       : patch-2.7.5-4.fc26.x86_64                                                                                             1/1 
  Running scriptlet: patch-2.7.5-4.fc26.x86_64                                                                                             1/1 
  Verifying        : patch-2.7.5-4.fc26.x86_64                                                                                             1/1 

Installed:
  patch.x86_64 2.7.5-4.fc26                                                                                                                    

Complete!
+ patch -p1
patching file fs/btrfs/volumes.c
Hunk #1 succeeded at 1085 (offset 38 lines).
+ cp -v /home/fedora/btrfsqe/kernel.config /home/fedora/btrfs-devel-misc-next/.config
'/home/fedora/btrfsqe/kernel.config' -> '/home/fedora/btrfs-devel-misc-next/.config'
+ cd /home/fedora/btrfs-devel-misc-next/
+ make -s -j8
*
* Restart config...
*
*
* Kernel hacking
*
Magic SysRq key (MAGIC_SYSRQ) [Y/?] y
  Enable magic SysRq key functions by default (MAGIC_SYSRQ_DEFAULT_ENABLE) [0x0] 0x0
  Enable magic SysRq key over serial (MAGIC_SYSRQ_SERIAL) [Y/n/?] y
Kernel debugging (DEBUG_KERNEL) [Y/n/?] y
Code coverage for fuzzing (KCOV) [N/y/?] n
Debug shared IRQ handlers (DEBUG_SHIRQ) [Y/n/?] y
Panic on Oops (PANIC_ON_OOPS) [N/y/?] n
panic timeout (PANIC_TIMEOUT) [0] 0
Collect scheduler debugging info (SCHED_DEBUG) [Y/?] y
Collect scheduler statistics (SCHEDSTATS) [Y/?] y
Detect stack corruption on calls to schedule() (SCHED_STACK_END_CHECK) [N/y/?] n
Enable extra timekeeping sanity checking (DEBUG_TIMEKEEPING) [N/y/?] n
Stack backtrace support (STACKTRACE) [Y/?] y
Warn for all uses of unseeded randomness (WARN_ALL_UNSEEDED_RANDOM) [N/y/?] n
kobject debugging (DEBUG_KOBJECT) [N/y/?] n
Debug linked list manipulation (DEBUG_LIST) [Y/?] y
Debug priority linked list manipulation (DEBUG_PI_LIST) [N/y/?] n
Debug SG table operations (DEBUG_SG) [N/y/?] n
Debug notifier call chains (DEBUG_NOTIFIERS) [N/y/?] n
Debug credential management (DEBUG_CREDENTIALS) [N/y/?] n
Force round-robin CPU selection for unbound work items (DEBUG_WQ_FORCE_RR_CPU) [N/y/?] n
Force extended block device numbers and spread them (DEBUG_BLOCK_EXT_DEVT) [N/y/?] n
Enable CPU hotplug state control (CPU_HOTPLUG_STATE_CONTROL) [N/y/?] n
Notifier error injection (NOTIFIER_ERROR_INJECTION) [N/m/y/?] n
Fault-injection framework (FAULT_INJECTION) [Y/n/?] y
  Fault-injection capability for kmalloc (FAILSLAB) [N/y/?] (NEW) 
  Fault-injection capabilitiy for alloc_pages() (FAIL_PAGE_ALLOC) [N/y/?] (NEW) 
  Fault-injection capability for disk IO (FAIL_MAKE_REQUEST) [N/y/?] (NEW) 
  Fault-injection capability for faking disk interrupts (FAIL_IO_TIMEOUT) [N/y/?] (NEW) 
Fault-injection capability for futexes (FAIL_FUTEX) [N/y/?] (NEW) 
Debugfs entries for fault-injection capabilities (FAULT_INJECTION_DEBUG_FS) [N/y/?] (NEW) 
Latency measuring infrastructure (LATENCYTOP) [Y/n/?] y
Remote debugging over FireWire early on boot (PROVIDE_OHCI1394_DMA_INIT) [Y/n/?] y
Enable debugging of DMA-API usage (DMA_API_DEBUG) [N/y/?] n
Memtest (MEMTEST) [N/y/?] n
Trigger a BUG when data corruption is detected (BUG_ON_DATA_CORRUPTION) [Y/n/?] y
Undefined behaviour sanity checker (UBSAN) [N/y/?] n
Filter access to /dev/mem (STRICT_DEVMEM) [Y/n/?] y
  Filter I/O access to /dev/mem (IO_STRICT_DEVMEM) [Y/n/?] y
Enable verbose x86 bootup info messages (X86_VERBOSE_BOOTUP) [N/y/?] n
Early printk (EARLY_PRINTK) [Y/?] y
  Early printk via EHCI debug port (EARLY_PRINTK_DBGP) [Y/n/?] y
  Early printk via the EFI framebuffer (EARLY_PRINTK_EFI) [Y/n/?] y
  Early printk via the xHCI debug port (EARLY_PRINTK_USB_XDBC) [N/y/?] n
Export kernel pagetable layout to userspace via debugfs (X86_PTDUMP) [N/m/y/?] n
Dump the EFI pagetable (EFI_PGT_DUMP) [N/y/?] n
Warn on W+X mappings at boot (DEBUG_WX) [Y/n/?] y
Set upper limit of TLB entries to flush one-by-one (DEBUG_TLBFLUSH) [N/y/?] n
Enable IOMMU stress-test mode (IOMMU_STRESS) [N/y/?] n
x86 instruction decoder selftest (X86_DECODER_SELFTEST) [Y/n/?] y
IO delay type
> 1. port 0x80 based port-IO delay [recommended] (IO_DELAY_0X80)
  2. port 0xed based port-IO delay (IO_DELAY_0XED)
  3. udelay based port-IO delay (IO_DELAY_UDELAY)
  4. no port-IO delay (IO_DELAY_NONE)
choice[1-4]: 1
Debug boot parameters (DEBUG_BOOT_PARAMS) [Y/n/?] y
CPA self-test code (CPA_DEBUG) [N/y/?] n
Allow gcc to uninline functions marked 'inline' (OPTIMIZE_INLINING) [Y/n/?] y
Debug low-level entry code (DEBUG_ENTRY) [N/y/?] n
NMI Selftest (DEBUG_NMI_SELFTEST) [N/y/?] n
Debug the x86 FPU code (X86_DEBUG_FPU) [N/y/?] n
ATOM Punit debug driver (PUNIT_ATOM_DEBUG) [N/m/y/?] n
Choose kernel unwinder
> 1. Frame pointer unwinder (FRAME_POINTER_UNWINDER)
  2. ORC unwinder (ORC_UNWINDER)
choice[1-2?]: 1






Makefile:939: "Cannot use CONFIG_STACK_VALIDATION=y, please install libelf-dev, libelf-devel or elfutils-libelf-devel"










Success: decoded and checked 2610901 instructions
arch/x86/tools/insn_sanity: Success: decoded and checked 1000000 random instructions with 0 errors (seed:0xfd08db5b)
+ sudo make modules_install
Makefile:939: "Cannot use CONFIG_STACK_VALIDATION=y, please install libelf-dev, libelf-devel or elfutils-libelf-devel"
  INSTALL arch/x86/crypto/crc32-pclmul.ko
  INSTALL arch/x86/crypto/crc32c-intel.ko
  INSTALL arch/x86/crypto/crct10dif-pclmul.ko
  INSTALL arch/x86/crypto/ghash-clmulni-intel.ko
  INSTALL arch/x86/events/intel/intel-rapl-perf.ko
  INSTALL drivers/ata/ata_generic.ko
  INSTALL drivers/ata/pata_acpi.ko
  INSTALL drivers/block/xen-blkfront.ko
  INSTALL drivers/char/ppdev.ko
  INSTALL drivers/char/tpm/tpm.ko
  INSTALL drivers/char/tpm/tpm_tis.ko
  INSTALL drivers/char/tpm/tpm_tis_core.ko
  INSTALL drivers/edac/sb_edac.ko
  INSTALL drivers/gpu/drm/cirrus/cirrus.ko
  INSTALL drivers/gpu/drm/drm.ko
  INSTALL drivers/gpu/drm/drm_kms_helper.ko
  INSTALL drivers/gpu/drm/ttm/ttm.ko
  INSTALL drivers/i2c/algos/i2c-algo-bit.ko
  INSTALL drivers/i2c/busses/i2c-piix4.ko
  INSTALL drivers/input/serio/serio_raw.ko
  INSTALL drivers/net/xen-netfront.ko
  INSTALL drivers/parport/parport.ko
  INSTALL drivers/parport/parport_pc.ko
  INSTALL drivers/powercap/intel_rapl.ko
  INSTALL drivers/xen/tmem.ko
  INSTALL drivers/xen/xen-privcmd.ko
  INSTALL fs/fat/fat.ko
  INSTALL fs/fat/vfat.ko
  INSTALL fs/fuse/fuse.ko
  INSTALL fs/xfs/xfs.ko
  DEPMOD  4.14.0-rc7
+ sudo make install
Makefile:939: "Cannot use CONFIG_STACK_VALIDATION=y, please install libelf-dev, libelf-devel or elfutils-libelf-devel"
sh ./arch/x86/boot/install.sh 4.14.0-rc7 arch/x86/boot/bzImage \
	System.map "/boot"
+ grub2-editenv list
saved_entry=Fedora (4.11.8-300.fc26.x86_64) 26 (Cloud Edition)
+ grubcfg=/etc/grub2.cfg
+ cut -d \' -f2
+ grep '^menuentry' /etc/grub2.cfg
Fedora (4.14.0-rc7) 26 (Cloud Edition)
Fedora (4.11.8-300.fc26.x86_64) 26 (Cloud Edition)
++ head -n1
++ cut -d \' -f2
++ grep '^menuentry' /etc/grub2.cfg
+ new_kernel='Fedora (4.14.0-rc7) 26 (Cloud Edition)'
+ sudo grub2-set-default 'Fedora (4.14.0-rc7) 26 (Cloud Edition)'
+ sudo grub2-mkconfig -o /etc/grub2.cfg
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-4.14.0-rc7
Found initrd image: /boot/initramfs-4.14.0-rc7.img
Found linux image: /boot/vmlinuz-4.11.8-300.fc26.x86_64
Found initrd image: /boot/initramfs-4.11.8-300.fc26.x86_64.img
done
+ grub2-editenv list
saved_entry=Fedora (4.14.0-rc7) 26 (Cloud Edition)
+ '[' -f /home/fedora/btrfs-devel-misc-next/arch/x86/boot/bzImage ']'
+ touch /home/fedora/btrfsqe/001_btrfsdevel.completed
+ rm -rf /home/fedora/misc-next.zip /home/fedora/btrfs-devel-misc-next

Script done on Thu 30 Nov 2017 08:12:36 AM UTC
