*** mkfs -dsize=2097152000

btrfs-progs v4.14-36-gaf322ba5
See http://btrfs.wiki.kernel.org for more information.

Detected a SSD, turning off metadata duplication.  Mkfs with -m dup if you want to force metadata duplication.
Label:              (null)
UUID:               da104cd1-b18f-466e-b5a4-7213cf7c07c9
Node size:          16384
Sector size:        4096
Filesystem size:    1.95GiB
Block group profiles:
  Data:             single            8.00MiB
  Metadata:         single            8.00MiB
  System:           single            4.00MiB
SSD detected:       yes
Incompat features:  extref, skinny-metadata
Number of devices:  1
Devices:
   ID        SIZE  PATH
    1     1.95GiB  /dev/xvdc

# _scratch_mount
# ./ltp/fsstress -d /mnt/scratch -w -p 1 -n 2000
seed = 1512796365
# /bin/btrfs subvolume snapshot /mnt/scratch /mnt/scratch/snap1
Create a snapshot of '/mnt/scratch' in '/mnt/scratch/snap1'
# _scratch_unmount
# _scratch_mount -o compress=lzo
# ./ltp/fsstress -d /mnt/scratch -p 1 -n 4000 -z -f chown=3 -f link=1 -f mkdir=2 -f mknod=2 -f rename=2 -f setxattr=1 -f symlink=2
seed = 1512353505
# ./ltp/fsstress -d /mnt/scratch/next -w -p 1 -n 2000
seed = 1512288129
# _scratch_unmount
# _scratch_mount -o atime
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
background noise by 32607
seed = 1512316443
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d19c/f175
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d19c/f175 is 985532 (241 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      238..     240:      59779..     59781:      3:        238: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d19c/f175: 1 extent found
after filter: 244854784#12288#974848#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d19c/f175
537
# /bin/btrfs inspect-internal logical-resolve -P 244854784 /mnt/scratch
inode 537 offset 974848 root 258
inode 537 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 537 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d19c/f175
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d12f/f158
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d12f/f158 is 598292 (147 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      30:      63454..     63467:     14:         17: shared
   1:       97..     115:      70676..     70694:     19:      63534: shared
   2:      121..     146:      61202..     61227:     26:      70700: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d12f/f158: 3 extents found
after filter: 259907584#57344#69632#shared 289488896#77824#397312#shared 250683392#106496#495616#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d12f/f158
514
# /bin/btrfs inspect-internal logical-resolve -P 259907584 /mnt/scratch
inode 514 offset 69632 root 258
inode 514 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d12f/f158
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d12f/f158
514
# /bin/btrfs inspect-internal logical-resolve -P 289488896 /mnt/scratch
inode 514 offset 397312 root 258
inode 514 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d12f/f158
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d12f/f158
514
# /bin/btrfs inspect-internal logical-resolve -P 250683392 /mnt/scratch
inode 514 offset 495616 root 258
inode 514 offset 495616 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d12f/f158
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/daa/f13e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/daa/f13e is 838638 (205 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       55..      84:      70743..     70772:     30:         55: shared
   1:       85..     112:      66405..     66432:     28:      70773: shared
   2:      176..     204:      68325..     68353:     29:      66496: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/daa/f13e: 3 extents found
after filter: 289763328#122880#225280#shared 271994880#114688#348160#shared 279859200#118784#720896#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/f13e
497
# /bin/btrfs inspect-internal logical-resolve -P 289763328 /mnt/scratch
inode 497 offset 225280 root 258
inode 497 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 497 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/f13e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/f13e
497
# /bin/btrfs inspect-internal logical-resolve -P 271994880 /mnt/scratch
inode 497 offset 348160 root 258
inode 497 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 497 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/f13e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/f13e
497
# /bin/btrfs inspect-internal logical-resolve -P 279859200 /mnt/scratch
inode 497 offset 720896 root 258
inode 497 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 497 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/f13e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7 is 4046025 (988 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      44:      59372..     59402:     31:         14: shared
   1:      214..     218:      58763..     58767:      5:      59572: shared
   2:      219..     227:      65756..     65764:      9:      58768: shared
   3:      228..     233:       3232..      3237:      6:      65765: shared
   4:      234..     238:       4295..      4299:      5:       3238: shared
   5:      239..     268:      70465..     70494:     30:       4300: shared
   6:      269..     270:       3273..      3274:      2:      70495: unwritten,shared
   7:      271..     286:       3275..      3290:     16:             shared
   8:      287..     297:       3291..      3301:     11:             unwritten,shared
   9:      298..     311:       3302..      3315:     14:             shared
  10:      312..     330:      66791..     66809:     19:       3316: shared
  11:      331..     341:      61093..     61103:     11:      66810: shared
  12:      412..     421:      59567..     59576:     10:      61174: shared
  13:      478..     480:       3490..      3492:      3:      59633: shared
  14:      499..     517:       3493..      3511:     19:             shared
  15:      565..     584:      59291..     59310:     20:       3559: shared
  16:      585..     609:      68036..     68060:     25:      59311: shared
  17:      610..     629:      67387..     67406:     20:      68061: shared
  18:      648..     677:       4250..      4279:     30:      67425: shared
  19:      678..     678:       3538..      3538:      1:       4280: shared
  20:      688..     708:      69902..     69922:     21:       3548: shared
  21:      709..     710:       4825..      4826:      2:      69923: shared
  22:      711..     721:       4703..      4713:     11:       4827: shared
  23:      784..     811:       4631..      4658:     28:       4776: shared
  24:      860..     870:      67459..     67469:     11:       4707: shared
  25:      885..     906:       4600..      4621:     22:      67484: shared
  26:      907..     915:       3734..      3742:      9:       4622: shared
  27:      916..     924:      64873..     64881:      9:       3743: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7: 24 extents found
after filter: 243187712#126976#57344#shared 240693248#20480#876544#shared 269336576#36864#897024#shared 13238272#24576#933888#shared 17592320#20480#958464#shared 288624640#122880#978944#shared 13406208#8192#1101824#unwritten,shared 13414400#65536#1110016#shared 13479936#45056#1175552#unwritten,shared 13524992#57344#1220608#shared 273575936#77824#1277952#shared 250236928#45056#1355776#shared 243986432#40960#1687552#shared 14295040#12288#1957888#shared 14307328#77824#2043904#shared 242855936#81920#2314240#shared 278675456#102400#2396160#shared 276017152#81920#2498560#shared 17408000#122880#2654208#shared 14491648#4096#2777088#shared 286318592#86016#2818048#shared 19763200#8192#2904064#shared 19263488#45056#2912256#shared 18968576#114688#3211264#shared 276312064#45056#3522560#shared 18841600#90112#3624960#shared 15294464#36864#3715072#shared 265719808#36864#3751936#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 243187712 /mnt/scratch
inode 285 offset 57344 root 258
inode 285 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 240693248 /mnt/scratch
inode 285 offset 876544 root 258
inode 285 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 269336576 /mnt/scratch
inode 285 offset 897024 root 258
inode 285 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 13238272 /mnt/scratch
inode 285 offset 933888 root 258
inode 285 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 17592320 /mnt/scratch
inode 285 offset 958464 root 258
inode 285 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 288624640 /mnt/scratch
inode 285 offset 978944 root 258
inode 285 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 13406208 /mnt/scratch
inode 285 offset 1101824 root 258
inode 285 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 13414400 /mnt/scratch
inode 285 offset 1110016 root 258
inode 285 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 13479936 /mnt/scratch
inode 285 offset 1175552 root 258
inode 285 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 13524992 /mnt/scratch
inode 285 offset 1220608 root 258
inode 285 offset 1220608 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 273575936 /mnt/scratch
inode 285 offset 1277952 root 258
inode 285 offset 1277952 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 250236928 /mnt/scratch
inode 285 offset 1355776 root 258
inode 285 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 243986432 /mnt/scratch
inode 285 offset 1687552 root 258
inode 285 offset 1687552 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 14295040 /mnt/scratch
inode 285 offset 1957888 root 258
inode 285 offset 1957888 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 14307328 /mnt/scratch
inode 285 offset 2043904 root 258
inode 285 offset 2043904 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 242855936 /mnt/scratch
inode 285 offset 2314240 root 258
inode 285 offset 2314240 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 278675456 /mnt/scratch
inode 285 offset 2396160 root 258
inode 285 offset 2396160 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 276017152 /mnt/scratch
inode 285 offset 2498560 root 258
inode 285 offset 2498560 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 17408000 /mnt/scratch
inode 285 offset 2654208 root 258
inode 285 offset 2654208 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512431647
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 14491648 /mnt/scratch
inode 285 offset 2777088 root 258
inode 285 offset 2777088 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 286318592 /mnt/scratch
inode 285 offset 2818048 root 258
inode 285 offset 2818048 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 19763200 /mnt/scratch
inode 285 offset 2904064 root 258
inode 285 offset 2904064 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 19263488 /mnt/scratch
inode 285 offset 2912256 root 258
inode 285 offset 2912256 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 18968576 /mnt/scratch
inode 285 offset 3211264 root 258
inode 285 offset 3211264 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 276312064 /mnt/scratch
inode 285 offset 3522560 root 258
inode 285 offset 3522560 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 18841600 /mnt/scratch
inode 285 offset 3624960 root 258
inode 285 offset 3624960 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 15294464 /mnt/scratch
inode 285 offset 3715072 root 258
inode 285 offset 3715072 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
285
# /bin/btrfs inspect-internal logical-resolve -P 265719808 /mnt/scratch
inode 285 offset 3751936 root 258
inode 285 offset 3751936 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d77/f87
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d77/f87 is 357155 (88 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      63:      67472..     67517:     46:         18: unwritten,shared
   1:       64..      64:       3091..      3091:      1:      67518: shared
   2:       65..      87:      67518..     67540:     23:       3092: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87: 3 extents found
after filter: 276365312#188416#73728#unwritten,shared 12660736#4096#262144#shared 276553728#94208#266240#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/f87
317
# /bin/btrfs inspect-internal logical-resolve -P 276365312 /mnt/scratch
inode 317 offset 73728 root 258
inode 317 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/f87
317
# /bin/btrfs inspect-internal logical-resolve -P 12660736 /mnt/scratch
inode 317 offset 262144 root 258
inode 317 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/f87
317
# /bin/btrfs inspect-internal logical-resolve -P 276553728 /mnt/scratch
inode 317 offset 266240 root 258
inode 317 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146 is 357155 (88 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      63:      67472..     67517:     46:         18: unwritten,shared
   1:       64..      64:       3091..      3091:      1:      67518: shared
   2:       65..      87:      67518..     67540:     23:       3092: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146: 3 extents found
after filter: 276365312#188416#73728#unwritten,shared 12660736#4096#262144#shared 276553728#94208#266240#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
317
# /bin/btrfs inspect-internal logical-resolve -P 276365312 /mnt/scratch
inode 317 offset 73728 root 258
inode 317 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
317
# /bin/btrfs inspect-internal logical-resolve -P 12660736 /mnt/scratch
inode 317 offset 262144 root 258
inode 317 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
317
# /bin/btrfs inspect-internal logical-resolve -P 276553728 /mnt/scratch
inode 317 offset 266240 root 258
inode 317 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/f2c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/f2c is 1384448 (338 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       53..      53:       3435..      3435:      1:         53: shared
   1:       54..      54:       3072..      3072:      1:       3436: shared
   2:      231..     244:      59254..     59267:     14:       3249: shared
   3:      248..     268:      62906..     62926:     21:      59271: shared
   4:      310..     310:       3080..      3080:      1:      62968: shared
   5:      330..     337:      61334..     61341:      8:       3100: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/f2c: 6 extents found
after filter: 14069760#4096#217088#shared 12582912#4096#221184#shared 242704384#57344#946176#shared 257662976#86016#1015808#shared 12615680#4096#1269760#shared 251224064#32768#1351680#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f2c
294
# /bin/btrfs inspect-internal logical-resolve -P 14069760 /mnt/scratch
inode 294 offset 217088 root 258
inode 294 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f2c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f2c
294
# /bin/btrfs inspect-internal logical-resolve -P 12582912 /mnt/scratch
inode 294 offset 221184 root 258
inode 294 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f2c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f2c
294
# /bin/btrfs inspect-internal logical-resolve -P 242704384 /mnt/scratch
inode 294 offset 946176 root 258
inode 294 offset 946176 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f2c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f2c
294
# /bin/btrfs inspect-internal logical-resolve -P 257662976 /mnt/scratch
inode 294 offset 1015808 root 258
inode 294 offset 1015808 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f2c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f2c
294
# /bin/btrfs inspect-internal logical-resolve -P 12615680 /mnt/scratch
inode 294 offset 1269760 root 258
inode 294 offset 1269760 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f2c
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512338900
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f2c
294
# /bin/btrfs inspect-internal logical-resolve -P 251224064 /mnt/scratch
inode 294 offset 1351680 root 258
inode 294 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f2c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f1e3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f1e3 is 356352 (87 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       68..      86:      70268..     70286:     19:         68: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f1e3: 1 extent found
after filter: 287817728#77824#278528#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f1e3
625
# /bin/btrfs inspect-internal logical-resolve -P 287817728 /mnt/scratch
inode 625 offset 278528 root 258
inode 625 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 625 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f1e3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4 is 3243715 (792 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      126..     212:      61965..     62051:     87:        126: unwritten,shared
   1:      213..     228:      62052..     62067:     16:             shared
   2:      229..     281:      62068..     62120:     53:             unwritten,shared
   3:      282..     286:      62121..     62125:      5:             shared
   4:      287..     379:      62126..     62218:     93:             unwritten,shared
   5:      380..     380:      62219..     62219:      1:             shared
   6:      589..     589:       3596..      3596:      1:      62428: shared
   7:      591..     599:      59268..     59276:      9:       3598: shared
   8:      600..     600:      60760..     60760:      1:      59277: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4: 4 extents found
after filter: 253808640#356352#516096#unwritten,shared 254164992#65536#872448#shared 254230528#217088#937984#unwritten,shared 254447616#20480#1155072#shared 254468096#380928#1175552#unwritten,shared 254849024#4096#1556480#shared 14729216#4096#2412544#shared 242761728#36864#2420736#shared 248872960#4096#2457600#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
405
# /bin/btrfs inspect-internal logical-resolve -P 253808640 /mnt/scratch
inode 405 offset 516096 root 258
inode 405 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
405
# /bin/btrfs inspect-internal logical-resolve -P 254164992 /mnt/scratch
inode 405 offset 872448 root 258
inode 405 offset 872448 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
405
# /bin/btrfs inspect-internal logical-resolve -P 254230528 /mnt/scratch
inode 405 offset 937984 root 258
inode 405 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
405
# /bin/btrfs inspect-internal logical-resolve -P 254447616 /mnt/scratch
inode 405 offset 1155072 root 258
inode 405 offset 1155072 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
405
# /bin/btrfs inspect-internal logical-resolve -P 254468096 /mnt/scratch
inode 405 offset 1175552 root 258
inode 405 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
405
# /bin/btrfs inspect-internal logical-resolve -P 254849024 /mnt/scratch
inode 405 offset 1556480 root 258
inode 405 offset 1556480 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
405
# /bin/btrfs inspect-internal logical-resolve -P 14729216 /mnt/scratch
inode 405 offset 2412544 root 258
inode 405 offset 2412544 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
405
# /bin/btrfs inspect-internal logical-resolve -P 242761728 /mnt/scratch
inode 405 offset 2420736 root 258
inode 405 offset 2420736 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
405
# /bin/btrfs inspect-internal logical-resolve -P 248872960 /mnt/scratch
inode 405 offset 2457600 root 258
inode 405 offset 2457600 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/fc4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/dd6/f1a0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/dd6/f1a0 is 61440 (15 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      14:       3748..      3753:      6:          9: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/dd6/f1a0: 1 extent found
after filter: 15351808#24576#36864#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/dd6/f1a0
573
# /bin/btrfs inspect-internal logical-resolve -P 15351808 /mnt/scratch
inode 573 offset 36864 root 258
inode 573 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 573 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/dd6/f1a0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fbe
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fbe is 1347584 (329 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      111..     111:       3328..      3328:      1:        111: shared
   1:      328..     328:       3597..      3597:      1:       3545: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fbe: 2 extents found
after filter: 13631488#4096#454656#shared 14733312#4096#1343488#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fbe
400
# /bin/btrfs inspect-internal logical-resolve -P 13631488 /mnt/scratch
inode 400 offset 454656 root 258
inode 400 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fbe
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fbe
400
# /bin/btrfs inspect-internal logical-resolve -P 14733312 /mnt/scratch
inode 400 offset 1343488 root 258
inode 400 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fbe
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/f11
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/f11 is 2002944 (489 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..      19:       3104..      3122:     19:          1: shared
   1:       20..      20:       3228..      3228:      1:       3123: shared
   2:       24..      66:       4134..      4176:     43:       3232: unwritten,shared
   3:       67..      76:       4177..      4186:     10:             shared
   4:       77..      77:       3598..      3598:      1:       4187: shared
   5:       78..      84:       4188..      4194:      7:       3599: unwritten,shared
   6:       85..      99:       4195..      4209:     15:             shared
   7:      100..     139:       4210..      4249:     40:             unwritten,shared
   8:      140..     239:      58822..     58921:    100:       4250: unwritten,shared
   9:      240..     245:       5061..      5066:      6:      58922: unwritten,shared
  10:      246..     257:       5067..      5078:     12:             shared
  11:      258..     283:       5079..      5104:     26:             unwritten,shared
  12:      284..     301:      58922..     58939:     18:       5105: unwritten,shared
  13:      319..     324:      66268..     66273:      6:      58957: shared
  14:      381..     381:       3327..      3327:      1:      66330: shared
  15:      476..     477:       4310..      4311:      2:       3422: shared
  16:      478..     488:      62296..     62306:     11:       4312: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/f11: 12 extents found
after filter: 12713984#77824#4096#shared 13221888#4096#81920#shared 16932864#176128#98304#unwritten,shared 17108992#40960#274432#shared 14737408#4096#315392#shared 17154048#28672#319488#unwritten,shared 17182720#61440#348160#shared 17244160#163840#409600#unwritten,shared 240934912#409600#573440#unwritten,shared 20729856#24576#983040#unwritten,shared 20754432#49152#1007616#shared 20803584#106496#1056768#unwritten,shared 241344512#73728#1163264#unwritten,shared 271433728#24576#1306624#shared 13627392#4096#1560576#shared 17653760#8192#1949696#shared 255164416#45056#1957888#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 12713984 /mnt/scratch
inode 273 offset 4096 root 258
inode 273 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 13221888 /mnt/scratch
inode 273 offset 81920 root 258
inode 273 offset 81920 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 16932864 /mnt/scratch
inode 273 offset 98304 root 258
inode 273 offset 98304 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 17108992 /mnt/scratch
inode 273 offset 274432 root 258
inode 273 offset 274432 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 14737408 /mnt/scratch
inode 273 offset 315392 root 258
inode 273 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 17154048 /mnt/scratch
inode 273 offset 319488 root 258
inode 273 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512783596
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 17182720 /mnt/scratch
inode 273 offset 348160 root 258
inode 273 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 17244160 /mnt/scratch
inode 273 offset 409600 root 258
inode 273 offset 409600 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 240934912 /mnt/scratch
inode 273 offset 573440 root 258
inode 273 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 20729856 /mnt/scratch
inode 273 offset 983040 root 258
inode 273 offset 983040 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 20754432 /mnt/scratch
inode 273 offset 1007616 root 258
inode 273 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 20803584 /mnt/scratch
inode 273 offset 1056768 root 258
inode 273 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 241344512 /mnt/scratch
inode 273 offset 1163264 root 258
inode 273 offset 1163264 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 271433728 /mnt/scratch
inode 273 offset 1306624 root 258
inode 273 offset 1306624 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 13627392 /mnt/scratch
inode 273 offset 1560576 root 258
inode 273 offset 1560576 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 17653760 /mnt/scratch
inode 273 offset 1949696 root 258
inode 273 offset 1949696 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f11
273
# /bin/btrfs inspect-internal logical-resolve -P 255164416 /mnt/scratch
inode 273 offset 1957888 root 258
inode 273 offset 1957888 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f11
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f153
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f153 is 223072 (55 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      53:      68521..     68549:     29:         25: shared
   1:       54..      54:      62850..     62850:      1:      68550: shared,eof
   2:      309..     454:      70319..     70464:    146:      63105: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f153: 3 extents found
after filter: 280662016#118784#102400#shared 257433600#4096#221184#shared,eof 288026624#598016#1265664#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f153
509
# /bin/btrfs inspect-internal logical-resolve -P 280662016 /mnt/scratch
inode 509 offset 102400 root 258
inode 509 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f153
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f153
509
# /bin/btrfs inspect-internal logical-resolve -P 257433600 /mnt/scratch
inode 509 offset 221184 root 258
inode 509 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f153
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f153
509
# /bin/btrfs inspect-internal logical-resolve -P 288026624 /mnt/scratch
inode 509 offset 1265664 root 258
inode 509 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f153
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/f29
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/f29 is 1576960 (385 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       59..      65:       3779..      3785:      7:         59: shared
   1:      128..     130:       3336..      3338:      3:       3848: shared
   2:      167..     173:      59586..     59592:      7:       3375: shared
   3:      174..     179:       3144..      3149:      6:      59593: shared
   4:      235..     238:       4521..      4524:      4:       3205: shared
   5:      355..     384:      66674..     66703:     30:       4641: last,shared,eof
/mnt/scratch/snap1/p0/d4/f29: 6 extents found
after filter: 15478784#28672#241664#shared 13664256#12288#524288#shared 244064256#28672#684032#shared 12877824#24576#712704#shared 18518016#16384#962560#shared 273096704#122880#1454080#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/f29
292
# /bin/btrfs inspect-internal logical-resolve -P 15478784 /mnt/scratch
inode 292 offset 241664 root 258
inode 292 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f29
# stat -c %i /mnt/scratch/snap1/p0/d4/f29
292
# /bin/btrfs inspect-internal logical-resolve -P 13664256 /mnt/scratch
inode 292 offset 524288 root 258
inode 292 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f29
# stat -c %i /mnt/scratch/snap1/p0/d4/f29
292
# /bin/btrfs inspect-internal logical-resolve -P 244064256 /mnt/scratch
inode 292 offset 684032 root 258
inode 292 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f29
# stat -c %i /mnt/scratch/snap1/p0/d4/f29
292
# /bin/btrfs inspect-internal logical-resolve -P 12877824 /mnt/scratch
inode 292 offset 712704 root 258
inode 292 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f29
# stat -c %i /mnt/scratch/snap1/p0/d4/f29
292
# /bin/btrfs inspect-internal logical-resolve -P 18518016 /mnt/scratch
inode 292 offset 962560 root 258
inode 292 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f29
# stat -c %i /mnt/scratch/snap1/p0/d4/f29
292
# /bin/btrfs inspect-internal logical-resolve -P 273096704 /mnt/scratch
inode 292 offset 1454080 root 258
inode 292 offset 1454080 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f29
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4 is 2553793 (624 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       20..      20:       3079..      3079:      1:         20: shared
   1:       73..      73:      60180..     60180:      1:       3132: unwritten,shared
   2:       74..      97:      60181..     60204:     24:             shared
   3:       98..     165:      60205..     60272:     68:             unwritten,shared
   4:      166..     174:      60273..     60281:      9:             shared
   5:      175..     295:      60282..     60402:    121:             unwritten,shared
   6:      296..     302:      60403..     60409:      7:             shared
   7:      303..     310:       3193..      3200:      8:      60410: shared
   8:      311..     311:       3472..      3472:      1:       3201: shared
   9:      355..     357:      63525..     63527:      3:       3516: shared
  10:      358..     375:      68468..     68485:     18:      63528: shared
  11:      376..     385:      63546..     63555:     10:      68486: shared
  12:      386..     395:      59893..     59902:     10:      63556: unwritten,shared
  13:      396..     418:      62271..     62293:     23:      59903: shared
  14:      419..     419:      58566..     58566:      1:      62294: shared
  15:      420..     523:      62311..     62414:    104:      58567: unwritten,shared
  16:      524..     524:      62415..     62415:      1:             shared
  17:      621..     623:       3886..      3888:      3:      62512: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4: 12 extents found
after filter: 12611584#4096#81920#shared 246497280#4096#299008#unwritten,shared 246501376#98304#303104#shared 246599680#278528#401408#unwritten,shared 246878208#36864#679936#shared 246915072#495616#716800#unwritten,shared 247410688#28672#1212416#shared 13078528#32768#1241088#shared 14221312#4096#1273856#shared 260198400#12288#1454080#shared 280444928#73728#1466368#shared 260284416#40960#1540096#shared 245321728#40960#1581056#unwritten,shared 255062016#94208#1622016#shared 239886336#4096#1716224#shared 255225856#425984#1720320#unwritten,shared 255651840#4096#2146304#shared 15917056#12288#2543616#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 12611584 /mnt/scratch
inode 369 offset 81920 root 258
inode 369 offset 81920 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 246497280 /mnt/scratch
inode 369 offset 299008 root 258
inode 369 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 246501376 /mnt/scratch
inode 369 offset 303104 root 258
inode 369 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
seed = 1512541392
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 246599680 /mnt/scratch
inode 369 offset 401408 root 258
inode 369 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 246878208 /mnt/scratch
inode 369 offset 679936 root 258
inode 369 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 246915072 /mnt/scratch
inode 369 offset 716800 root 258
inode 369 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 247410688 /mnt/scratch
inode 369 offset 1212416 root 258
inode 369 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 13078528 /mnt/scratch
inode 369 offset 1241088 root 258
inode 369 offset 1241088 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 14221312 /mnt/scratch
inode 369 offset 1273856 root 258
inode 369 offset 1273856 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 260198400 /mnt/scratch
inode 369 offset 1454080 root 258
inode 369 offset 1454080 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 280444928 /mnt/scratch
inode 369 offset 1466368 root 258
inode 369 offset 1466368 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 260284416 /mnt/scratch
inode 369 offset 1540096 root 258
inode 369 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 245321728 /mnt/scratch
inode 369 offset 1581056 root 258
inode 369 offset 1581056 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 255062016 /mnt/scratch
inode 369 offset 1622016 root 258
inode 369 offset 1622016 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 239886336 /mnt/scratch
inode 369 offset 1716224 root 258
inode 369 offset 1716224 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 255225856 /mnt/scratch
inode 369 offset 1720320 root 258
inode 369 offset 1720320 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 255651840 /mnt/scratch
inode 369 offset 2146304 root 258
inode 369 offset 2146304 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
369
# /bin/btrfs inspect-internal logical-resolve -P 15917056 /mnt/scratch
inode 369 offset 2543616 root 258
inode 369 offset 2543616 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/f1cb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/f1cb is 577536 (141 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      127..     140:      65742..     65755:     14:        127: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/f1cb: 1 extent found
after filter: 269279232#57344#520192#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/f1cb
604
# /bin/btrfs inspect-internal logical-resolve -P 269279232 /mnt/scratch
inode 604 offset 520192 root 258
inode 604 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 604 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/f1cb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac is 357155 (88 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      63:      67472..     67517:     46:         18: unwritten,shared
   1:       64..      64:       3091..      3091:      1:      67518: shared
   2:       65..      87:      67518..     67540:     23:       3092: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac: 3 extents found
after filter: 276365312#188416#73728#unwritten,shared 12660736#4096#262144#shared 276553728#94208#266240#last,unwritten,shared,eof 
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
317
# /bin/btrfs inspect-internal logical-resolve -P 276365312 /mnt/scratch
inode 317 offset 73728 root 258
inode 317 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
317
# /bin/btrfs inspect-internal logical-resolve -P 12660736 /mnt/scratch
inode 317 offset 262144 root 258
inode 317 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512960718
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
317
# /bin/btrfs inspect-internal logical-resolve -P 276553728 /mnt/scratch
inode 317 offset 266240 root 258
inode 317 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f87
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/fac
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f146
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a is 1521803 (372 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      33:      62416..     62427:     12:         22: shared
   1:       56..      84:      58790..     58818:     29:      62450: shared
   2:       99..     114:      62767..     62782:     16:      58833: shared
   3:      127..     127:       5116..      5116:      1:      62795: shared
   4:      128..     149:      66338..     66359:     22:       5117: shared
   5:      261..     274:      59135..     59148:     14:      66471: shared
   6:      343..     343:       3074..      3074:      1:      59217: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a: 7 extents found
after filter: 255655936#49152#90112#shared 240803840#118784#229376#shared 257093632#65536#405504#shared 20955136#4096#520192#shared 271720448#90112#524288#shared 242216960#57344#1069056#shared 12591104#4096#1404928#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
324
# /bin/btrfs inspect-internal logical-resolve -P 255655936 /mnt/scratch
inode 324 offset 90112 root 258
inode 324 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
324
# /bin/btrfs inspect-internal logical-resolve -P 240803840 /mnt/scratch
inode 324 offset 229376 root 258
inode 324 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
324
# /bin/btrfs inspect-internal logical-resolve -P 257093632 /mnt/scratch
inode 324 offset 405504 root 258
inode 324 offset 405504 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
324
# /bin/btrfs inspect-internal logical-resolve -P 20955136 /mnt/scratch
inode 324 offset 520192 root 258
inode 324 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
324
# /bin/btrfs inspect-internal logical-resolve -P 271720448 /mnt/scratch
inode 324 offset 524288 root 258
inode 324 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
324
# /bin/btrfs inspect-internal logical-resolve -P 242216960 /mnt/scratch
inode 324 offset 1069056 root 258
inode 324 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
324
# /bin/btrfs inspect-internal logical-resolve -P 12591104 /mnt/scratch
inode 324 offset 1404928 root 258
inode 324 offset 1404928 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f13a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd is 1724236 (421 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      17:      65379..     65387:      9:          9: shared
   1:      107..     112:      66664..     66669:      6:      65477: shared
   2:      178..     202:      68108..     68132:     25:      66735: shared
   3:      208..     226:      64066..     64084:     19:      68138: shared
   4:      255..     256:      61229..     61230:      2:      64113: shared
   5:      291..     291:       4550..      4550:      1:      61265: shared
   6:      415..     420:      68241..     68246:      6:       4674: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd: 7 extents found
after filter: 267792384#36864#36864#shared 273055744#24576#438272#shared 278970368#102400#729088#shared 262414336#77824#851968#shared 250793984#8192#1044480#shared 18636800#4096#1191936#shared 279515136#24576#1699840#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
399
# /bin/btrfs inspect-internal logical-resolve -P 267792384 /mnt/scratch
inode 399 offset 36864 root 258
inode 399 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
399
# /bin/btrfs inspect-internal logical-resolve -P 273055744 /mnt/scratch
inode 399 offset 438272 root 258
inode 399 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
399
# /bin/btrfs inspect-internal logical-resolve -P 278970368 /mnt/scratch
inode 399 offset 729088 root 258
inode 399 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
399
# /bin/btrfs inspect-internal logical-resolve -P 262414336 /mnt/scratch
inode 399 offset 851968 root 258
inode 399 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
399
# /bin/btrfs inspect-internal logical-resolve -P 250793984 /mnt/scratch
inode 399 offset 1044480 root 258
inode 399 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
399
# /bin/btrfs inspect-internal logical-resolve -P 18636800 /mnt/scratch
inode 399 offset 1191936 root 258
inode 399 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
399
# /bin/btrfs inspect-internal logical-resolve -P 279515136 /mnt/scratch
inode 399 offset 1699840 root 258
inode 399 offset 1699840 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d7f/fd7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d7f/fd7 is 1698343 (415 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      41:      62243..     62244:      2:         40: shared
   1:       42..      55:      61379..     61392:     14:      62245: shared
   2:       56..      57:      62259..     62260:      2:      61393: shared
   3:       58..      71:      59403..     59416:     14:      62261: shared
   4:      131..     148:      63366..     63383:     18:      59476: shared
   5:      273..     291:      63041..     63059:     19:      63508: shared
   6:      292..     292:      62849..     62849:      1:      63060: shared
   7:      398..     414:      70773..     70789:     17:      62955: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d7f/fd7: 8 extents found
after filter: 254947328#8192#163840#shared 251408384#57344#172032#shared 255012864#8192#229376#shared 243314688#57344#237568#shared 259547136#73728#536576#shared 258215936#77824#1118208#shared 257429504#4096#1196032#shared 289886208#69632#1630208#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/fd7
406
# /bin/btrfs inspect-internal logical-resolve -P 254947328 /mnt/scratch
inode 406 offset 163840 root 258
inode 406 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/fd7
406
# /bin/btrfs inspect-internal logical-resolve -P 251408384 /mnt/scratch
inode 406 offset 172032 root 258
inode 406 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/fd7
406
# /bin/btrfs inspect-internal logical-resolve -P 255012864 /mnt/scratch
inode 406 offset 229376 root 258
inode 406 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/fd7
406
# /bin/btrfs inspect-internal logical-resolve -P 243314688 /mnt/scratch
inode 406 offset 237568 root 258
inode 406 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/fd7
406
# /bin/btrfs inspect-internal logical-resolve -P 259547136 /mnt/scratch
inode 406 offset 536576 root 258
inode 406 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/fd7
406
# /bin/btrfs inspect-internal logical-resolve -P 258215936 /mnt/scratch
inode 406 offset 1118208 root 258
inode 406 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/fd7
406
# /bin/btrfs inspect-internal logical-resolve -P 257429504 /mnt/scratch
inode 406 offset 1196032 root 258
inode 406 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/fd7
406
# /bin/btrfs inspect-internal logical-resolve -P 289886208 /mnt/scratch
inode 406 offset 1630208 root 258
inode 406 offset 1630208 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f11a
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f11a is 794624 (194 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      177..     193:      69871..     69887:     17:        177: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f11a: 1 extent found
after filter: 286191616#69632#724992#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f11a
472
# /bin/btrfs inspect-internal logical-resolve -P 286191616 /mnt/scratch
inode 472 offset 724992 root 258
inode 472 offset 724992 root 5
# /bin/btrfs inspect-internal inode-resolve 472 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f11a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea is 1159135 (283 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       89..      90:      61342..     61343:      2:         89: shared
   1:      101..     124:      62964..     62987:     24:      61354: shared
   2:      125..     125:      59783..     59783:      1:      62988: shared
   3:      145..     145:       3083..      3083:      1:      59803: shared
   4:      210..     221:      66360..     66371:     12:       3148: shared
   5:      260..     282:      66061..     66083:     23:      66410: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea: 6 extents found
after filter: 251256832#8192#364544#shared 257900544#98304#413696#shared 244871168#4096#512000#shared 12627968#4096#593920#shared 271810560#49152#860160#shared 270585856#94208#1064960#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
431
# /bin/btrfs inspect-internal logical-resolve -P 251256832 /mnt/scratch
seed = 1512264494
inode 431 offset 364544 root 258
inode 431 offset 364544 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
431
# /bin/btrfs inspect-internal logical-resolve -P 257900544 /mnt/scratch
inode 431 offset 413696 root 258
inode 431 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
431
# /bin/btrfs inspect-internal logical-resolve -P 244871168 /mnt/scratch
inode 431 offset 512000 root 258
inode 431 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
431
# /bin/btrfs inspect-internal logical-resolve -P 12627968 /mnt/scratch
inode 431 offset 593920 root 258
inode 431 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
431
# /bin/btrfs inspect-internal logical-resolve -P 271810560 /mnt/scratch
inode 431 offset 860160 root 258
inode 431 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
431
# /bin/btrfs inspect-internal logical-resolve -P 270585856 /mnt/scratch
inode 431 offset 1064960 root 258
inode 431 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/fea
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/fe6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/fe6 is 1180764 (289 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       0:      64638..     64638:      1:             shared
   1:        1..       5:      67187..     67191:      5:      64639: shared
   2:        6..      11:      64644..     64649:      6:      67192: shared
   3:       46..      58:      62835..     62847:     13:      64684: shared
   4:       59..     117:      59037..     59095:     59:      62848: unwritten,shared
   5:      268..     288:      64979..     64999:     21:      59246: last,shared,eof
/mnt/scratch/snap1/p0/d4/fe6: 6 extents found
after filter: 264757248#4096#0#shared 275197952#20480#4096#shared 264781824#24576#24576#shared 257372160#53248#188416#shared 241815552#241664#241664#unwritten,shared 266153984#86016#1097728#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/fe6
429
# /bin/btrfs inspect-internal logical-resolve -P 264757248 /mnt/scratch
inode 429 offset 0 root 258
inode 429 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe6
# stat -c %i /mnt/scratch/snap1/p0/d4/fe6
429
# /bin/btrfs inspect-internal logical-resolve -P 275197952 /mnt/scratch
inode 429 offset 4096 root 258
inode 429 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe6
# stat -c %i /mnt/scratch/snap1/p0/d4/fe6
429
# /bin/btrfs inspect-internal logical-resolve -P 264781824 /mnt/scratch
inode 429 offset 24576 root 258
inode 429 offset 24576 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe6
# stat -c %i /mnt/scratch/snap1/p0/d4/fe6
429
# /bin/btrfs inspect-internal logical-resolve -P 257372160 /mnt/scratch
inode 429 offset 188416 root 258
inode 429 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe6
# stat -c %i /mnt/scratch/snap1/p0/d4/fe6
429
# /bin/btrfs inspect-internal logical-resolve -P 241815552 /mnt/scratch
inode 429 offset 241664 root 258
inode 429 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe6
# stat -c %i /mnt/scratch/snap1/p0/d4/fe6
429
# /bin/btrfs inspect-internal logical-resolve -P 266153984 /mnt/scratch
inode 429 offset 1097728 root 258
inode 429 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed is 1276966 (312 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      17:      63390..     63393:      4:         14: shared
   1:       18..      18:      60743..     60743:      1:      63394: shared
   2:      131..     135:       4763..      4767:      5:      60856: shared
   3:      190..     193:      63089..     63092:      4:       4822: unwritten,shared
   4:      194..     212:      63093..     63111:     19:             shared
   5:      213..     253:      63112..     63152:     41:             unwritten,shared
   6:      302..     311:      66704..     66713:     10:      63201: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed: 5 extents found
after filter: 259645440#16384#57344#shared 248803328#4096#73728#shared 19509248#20480#536576#shared 258412544#16384#778240#unwritten,shared 258428928#77824#794624#shared 258506752#167936#872448#unwritten,shared 273219584#40960#1236992#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
434
# /bin/btrfs inspect-internal logical-resolve -P 259645440 /mnt/scratch
inode 434 offset 57344 root 258
inode 434 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
434
# /bin/btrfs inspect-internal logical-resolve -P 248803328 /mnt/scratch
inode 434 offset 73728 root 258
inode 434 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
434
# /bin/btrfs inspect-internal logical-resolve -P 19509248 /mnt/scratch
inode 434 offset 536576 root 258
inode 434 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
434
# /bin/btrfs inspect-internal logical-resolve -P 258412544 /mnt/scratch
inode 434 offset 778240 root 258
inode 434 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
434
# /bin/btrfs inspect-internal logical-resolve -P 258428928 /mnt/scratch
inode 434 offset 794624 root 258
inode 434 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
434
# /bin/btrfs inspect-internal logical-resolve -P 258506752 /mnt/scratch
inode 434 offset 872448 root 258
inode 434 offset 872448 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
434
# /bin/btrfs inspect-internal logical-resolve -P 273219584 /mnt/scratch
inode 434 offset 1236992 root 258
inode 434 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fed
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f131
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f131 is 744535 (182 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       80..      80:       4549..      4549:      1:         80: shared
   1:      181..     181:       3471..      3471:      1:       4650: shared,eof
   2:      294..     504:      69154..     69364:    211:       3584: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f131: 3 extents found
after filter: 18632704#4096#327680#shared 14217216#4096#741376#shared,eof 283254784#864256#1204224#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f131
437
# /bin/btrfs inspect-internal logical-resolve -P 18632704 /mnt/scratch
inode 437 offset 327680 root 258
inode 437 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f131
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f131
437
# /bin/btrfs inspect-internal logical-resolve -P 14217216 /mnt/scratch
inode 437 offset 741376 root 258
inode 437 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f131
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512254461
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f131
437
# /bin/btrfs inspect-internal logical-resolve -P 283254784 /mnt/scratch
inode 437 offset 1204224 root 258
inode 437 offset 1204224 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f131
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f17c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f17c is 1430443 (350 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      49:       3150..      3172:     23:         27: shared
   1:       86..     109:      63280..     63303:     24:       3209: shared
   2:      220..     239:      66433..     66452:     20:      63414: last,unwritten,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f17c: 3 extents found
after filter: 12902400#94208#110592#shared 259194880#98304#352256#shared 272109568#81920#901120#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f17c
365
# /bin/btrfs inspect-internal logical-resolve -P 12902400 /mnt/scratch
inode 365 offset 110592 root 258
inode 365 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f17c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f17c
365
# /bin/btrfs inspect-internal logical-resolve -P 259194880 /mnt/scratch
inode 365 offset 352256 root 258
inode 365 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f17c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f17c
365
# /bin/btrfs inspect-internal logical-resolve -P 272109568 /mnt/scratch
inode 365 offset 901120 root 258
inode 365 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f17c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f35
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f35 is 128201 (32 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f35: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1c6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1c6 is 966199 (236 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      210..     235:      70809..     70834:     26:        210: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1c6: 1 extent found
after filter: 290033664#106496#860160#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1c6
600
# /bin/btrfs inspect-internal logical-resolve -P 290033664 /mnt/scratch
inode 600 offset 860160 root 258
inode 600 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 600 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1c6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab is 1942225 (475 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       37..      48:      69633..     69644:     12:         37: shared
   1:       52..      52:       3747..      3747:      1:      69648: shared
   2:       70..      71:       3081..      3082:      2:       3765: shared
   3:      131..     205:      58368..     58442:     75:       3142: unwritten,shared
   4:      206..     206:      58443..     58443:      1:             shared
   5:      229..     246:      66250..     66267:     18:      58466: shared
   6:      443..     474:      62874..     62905:     32:      66464: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab: 6 extents found
after filter: 285216768#49152#151552#shared 15347712#4096#212992#shared 12619776#8192#286720#shared 239075328#307200#536576#unwritten,shared 239382528#4096#843776#shared 271360000#73728#937984#shared 257531904#131072#1814528#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
310
# /bin/btrfs inspect-internal logical-resolve -P 285216768 /mnt/scratch
inode 310 offset 151552 root 258
inode 310 offset 151552 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
310
# /bin/btrfs inspect-internal logical-resolve -P 15347712 /mnt/scratch
inode 310 offset 212992 root 258
inode 310 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
310
# /bin/btrfs inspect-internal logical-resolve -P 12619776 /mnt/scratch
inode 310 offset 286720 root 258
inode 310 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
310
# /bin/btrfs inspect-internal logical-resolve -P 239075328 /mnt/scratch
inode 310 offset 536576 root 258
inode 310 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
310
# /bin/btrfs inspect-internal logical-resolve -P 239382528 /mnt/scratch
inode 310 offset 843776 root 258
inode 310 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
310
# /bin/btrfs inspect-internal logical-resolve -P 271360000 /mnt/scratch
inode 310 offset 937984 root 258
inode 310 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
310
# /bin/btrfs inspect-internal logical-resolve -P 257531904 /mnt/scratch
inode 310 offset 1814528 root 258
inode 310 offset 1814528 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/fab
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f18f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f18f is 651264 (159 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      27:      70588..     70610:     23:          5: shared
   1:      157..     158:       5111..      5112:      2:      70740: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f18f: 2 extents found
after filter: 289128448#94208#20480#shared 20934656#8192#643072#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f18f
558
# /bin/btrfs inspect-internal logical-resolve -P 289128448 /mnt/scratch
inode 558 offset 20480 root 258
inode 558 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 558 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f18f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f18f
558
# /bin/btrfs inspect-internal logical-resolve -P 20934656 /mnt/scratch
inode 558 offset 643072 root 258
inode 558 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 558 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f18f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/f18c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/f18c is 827392 (202 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       56..      85:      62989..     63018:     30:         56: shared
   1:      107..     115:      70259..     70267:      9:      63040: shared
   2:      147..     173:      66763..     66789:     27:      70299: shared
   3:      174..     174:      59778..     59778:      1:      66790: shared
   4:      199..     201:      59334..     59336:      3:      59803: last,shared,eof
/mnt/scratch/snap1/p0/d4/f18c: 5 extents found
after filter: 258002944#122880#229376#shared 287780864#36864#438272#shared 273461248#110592#602112#shared 244850688#4096#712704#shared 243032064#12288#815104#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/f18c
340
# /bin/btrfs inspect-internal logical-resolve -P 258002944 /mnt/scratch
inode 340 offset 229376 root 258
inode 340 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# stat -c %i /mnt/scratch/snap1/p0/d4/f18c
340
# /bin/btrfs inspect-internal logical-resolve -P 287780864 /mnt/scratch
inode 340 offset 438272 root 258
inode 340 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# stat -c %i /mnt/scratch/snap1/p0/d4/f18c
340
# /bin/btrfs inspect-internal logical-resolve -P 273461248 /mnt/scratch
background rm
inode 340 offset 602112 root 258
inode 340 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# stat -c %i /mnt/scratch/snap1/p0/d4/f18c
340
# /bin/btrfs inspect-internal logical-resolve -P 244850688 /mnt/scratch
inode 340 offset 712704 root 258
inode 340 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# stat -c %i /mnt/scratch/snap1/p0/d4/f18c
340
# /bin/btrfs inspect-internal logical-resolve -P 243032064 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 340 offset 815104 root 258
inode 340 offset 815104 root 5
seed = 1513073232
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb is 3403716 (831 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      35:       3843..      3850:      8:         28: shared
   1:      123..     133:      59621..     59631:     11:       3938: shared
   2:      188..     198:       5005..      5015:     11:      59686: shared
   3:      268..     269:       4304..      4305:      2:       5085: shared
   4:      365..     390:      59807..     59832:     26:       4401: shared
   5:      391..     391:      58579..     58579:      1:      59833: shared
   6:      538..     566:      66722..     66750:     29:      58726: shared
   7:      587..     616:      59719..     59748:     30:      66771: shared
   8:      624..     639:      62432..     62447:     16:      59756: unwritten,shared
   9:      640..     644:      63335..     63339:      5:      62448: shared
  10:      645..     686:      62453..     62494:     42:      63340: unwritten,shared
  11:      705..     705:       3566..      3566:      1:      62513: shared
  12:      730..     733:      59956..     59959:      4:       3591: shared
  13:      734..     763:      62540..     62569:     30:      59960: shared
  14:      804..     830:      70520..     70546:     27:      62610: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb: 15 extents found
after filter: 15740928#32768#114688#shared 244207616#45056#503808#shared 20500480#45056#770048#shared 17629184#8192#1097728#shared 244969472#106496#1495040#shared 239939584#4096#1601536#shared 273293312#118784#2203648#shared 244609024#122880#2404352#shared 255721472#65536#2555904#unwritten,shared 259420160#20480#2621440#shared 255807488#172032#2641920#unwritten,shared 14606336#4096#2887680#shared 245579776#16384#2990080#shared 256163840#122880#3006464#shared 288849920#110592#3293184#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 15740928 /mnt/scratch
inode 311 offset 114688 root 258
inode 311 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 244207616 /mnt/scratch
inode 311 offset 503808 root 258
inode 311 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 20500480 /mnt/scratch
inode 311 offset 770048 root 258
inode 311 offset 770048 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 17629184 /mnt/scratch
inode 311 offset 1097728 root 258
inode 311 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 244969472 /mnt/scratch
inode 311 offset 1495040 root 258
inode 311 offset 1495040 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 239939584 /mnt/scratch
inode 311 offset 1601536 root 258
inode 311 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 273293312 /mnt/scratch
inode 311 offset 2203648 root 258
inode 311 offset 2203648 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 244609024 /mnt/scratch
inode 311 offset 2404352 root 258
inode 311 offset 2404352 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 255721472 /mnt/scratch
inode 311 offset 2555904 root 258
inode 311 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 259420160 /mnt/scratch
inode 311 offset 2621440 root 258
inode 311 offset 2621440 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 255807488 /mnt/scratch
inode 311 offset 2641920 root 258
inode 311 offset 2641920 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 14606336 /mnt/scratch
inode 311 offset 2887680 root 258
inode 311 offset 2887680 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 245579776 /mnt/scratch
inode 311 offset 2990080 root 258
inode 311 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 256163840 /mnt/scratch
inode 311 offset 3006464 root 258
inode 311 offset 3006464 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
311
# /bin/btrfs inspect-internal logical-resolve -P 288849920 /mnt/scratch
inode 311 offset 3293184 root 258
inode 311 offset 3293184 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143 is 3403716 (831 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      35:       3843..      3850:      8:         28: shared
   1:      123..     133:      59621..     59631:     11:       3938: shared
   2:      188..     198:       5005..      5015:     11:      59686: shared
   3:      268..     269:       4304..      4305:      2:       5085: shared
   4:      365..     390:      59807..     59832:     26:       4401: shared
   5:      391..     391:      58579..     58579:      1:      59833: shared
   6:      538..     566:      66722..     66750:     29:      58726: shared
   7:      587..     616:      59719..     59748:     30:      66771: shared
   8:      624..     639:      62432..     62447:     16:      59756: unwritten,shared
   9:      640..     644:      63335..     63339:      5:      62448: shared
  10:      645..     686:      62453..     62494:     42:      63340: unwritten,shared
  11:      705..     705:       3566..      3566:      1:      62513: shared
  12:      730..     733:      59956..     59959:      4:       3591: shared
  13:      734..     763:      62540..     62569:     30:      59960: shared
  14:      804..     830:      70520..     70546:     27:      62610: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143: 15 extents found
after filter: 15740928#32768#114688#shared 244207616#45056#503808#shared 20500480#45056#770048#shared 17629184#8192#1097728#shared 244969472#106496#1495040#shared 239939584#4096#1601536#shared 273293312#118784#2203648#shared 244609024#122880#2404352#shared 255721472#65536#2555904#unwritten,shared 259420160#20480#2621440#shared 255807488#172032#2641920#unwritten,shared 14606336#4096#2887680#shared 245579776#16384#2990080#shared 256163840#122880#3006464#shared 288849920#110592#3293184#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 15740928 /mnt/scratch
inode 311 offset 114688 root 258
inode 311 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 244207616 /mnt/scratch
inode 311 offset 503808 root 258
inode 311 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 20500480 /mnt/scratch
inode 311 offset 770048 root 258
inode 311 offset 770048 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 17629184 /mnt/scratch
inode 311 offset 1097728 root 258
inode 311 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 244969472 /mnt/scratch
inode 311 offset 1495040 root 258
inode 311 offset 1495040 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 239939584 /mnt/scratch
inode 311 offset 1601536 root 258
inode 311 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 273293312 /mnt/scratch
inode 311 offset 2203648 root 258
inode 311 offset 2203648 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 244609024 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 311 offset 2404352 root 258
inode 311 offset 2404352 root 5
seed = 1512505299
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 255721472 /mnt/scratch
inode 311 offset 2555904 root 258
inode 311 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 259420160 /mnt/scratch
inode 311 offset 2621440 root 258
inode 311 offset 2621440 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 255807488 /mnt/scratch
inode 311 offset 2641920 root 258
inode 311 offset 2641920 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 14606336 /mnt/scratch
inode 311 offset 2887680 root 258
inode 311 offset 2887680 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 245579776 /mnt/scratch
inode 311 offset 2990080 root 258
inode 311 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 256163840 /mnt/scratch
inode 311 offset 3006464 root 258
inode 311 offset 3006464 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
311
# /bin/btrfs inspect-internal logical-resolve -P 288849920 /mnt/scratch
inode 311 offset 3293184 root 258
inode 311 offset 3293184 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/f183
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/f183 is 196608 (48 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       33..      47:      67734..     67748:     15:         33: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/f183: 1 extent found
after filter: 277438464#61440#135168#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f183
548
# /bin/btrfs inspect-internal logical-resolve -P 277438464 /mnt/scratch
inode 548 offset 135168 root 258
inode 548 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 548 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/f183
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa is 1642496 (401 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      176..     260:      65388..     65472:     85:        176: unwritten,shared
   1:      261..     270:      65473..     65482:     10:             shared
   2:      271..     285:      63320..     63334:     15:      65483: shared
   3:      286..     286:      65498..     65498:      1:      63335: shared
   4:      287..     317:      65499..     65529:     31:             unwritten,shared
   5:      318..     318:      59337..     59337:      1:      65530: shared
   6:      319..     372:      68673..     68726:     54:      59338: unwritten,shared
   7:      373..     400:      68727..     68754:     28:             shared,eof
   8:      401..     503:      68755..     68857:    103:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa: 5 extents found
after filter: 267829248#348160#720896#unwritten,shared 268177408#40960#1069056#shared 259358720#61440#1110016#shared 268279808#4096#1171456#shared 268283904#126976#1175552#unwritten,shared 243044352#4096#1302528#shared 281284608#221184#1306624#unwritten,shared 281505792#114688#1527808#shared,eof 281620480#421888#1642496#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
444
# /bin/btrfs inspect-internal logical-resolve -P 267829248 /mnt/scratch
inode 444 offset 720896 root 258
inode 444 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
444
# /bin/btrfs inspect-internal logical-resolve -P 268177408 /mnt/scratch
inode 444 offset 1069056 root 258
inode 444 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
444
# /bin/btrfs inspect-internal logical-resolve -P 259358720 /mnt/scratch
inode 444 offset 1110016 root 258
inode 444 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
444
# /bin/btrfs inspect-internal logical-resolve -P 268279808 /mnt/scratch
inode 444 offset 1171456 root 258
inode 444 offset 1171456 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
444
# /bin/btrfs inspect-internal logical-resolve -P 268283904 /mnt/scratch
inode 444 offset 1175552 root 258
inode 444 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
444
# /bin/btrfs inspect-internal logical-resolve -P 243044352 /mnt/scratch
inode 444 offset 1302528 root 258
inode 444 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
444
# /bin/btrfs inspect-internal logical-resolve -P 281284608 /mnt/scratch
inode 444 offset 1306624 root 258
inode 444 offset 1306624 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
444
# /bin/btrfs inspect-internal logical-resolve -P 281505792 /mnt/scratch
inode 444 offset 1527808 root 258
inode 444 offset 1527808 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
444
# /bin/btrfs inspect-internal logical-resolve -P 281620480 /mnt/scratch
inode 444 offset 1642496 root 258
inode 444 offset 1642496 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/ffa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/ffc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/ffc is 965842 (236 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      160..     169:      59279..     59288:     10:        160: shared
   1:      189..     219:      65783..     65813:     31:      59308: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/ffc: 2 extents found
after filter: 242806784#40960#655360#shared 269447168#126976#774144#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/ffc
445
# /bin/btrfs inspect-internal logical-resolve -P 242806784 /mnt/scratch
inode 445 offset 655360 root 258
inode 445 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 445 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/ffc
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/ffc
445
# /bin/btrfs inspect-internal logical-resolve -P 269447168 /mnt/scratch
inode 445 offset 774144 root 258
inode 445 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 445 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/ffc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46 is 2761018 (675 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      140..     168:       4673..      4701:     29:        140: shared
   1:      169..     173:      62810..     62814:      5:       4702: shared
   2:      247..     247:       3599..      3599:      1:      62888: shared
   3:      249..     276:      59344..     59371:     28:       3601: shared
   4:      277..     280:      59222..     59225:      4:      59372: shared
   5:      281..     281:      58576..     58576:      1:      59226: shared
   6:      290..     321:      65141..     65172:     32:      58585: unwritten,shared
   7:      322..     324:       4729..      4731:      3:      65173: shared
   8:      325..     410:      65173..     65258:     86:       4732: unwritten,shared
   9:      411..     425:      58745..     58759:     15:      65259: shared
  10:      426..     426:      59417..     59417:      1:      58760: shared
  11:      427..     482:      65259..     65314:     56:      59418: unwritten,shared
  12:      483..     483:      65315..     65315:      1:             shared
  13:      671..     674:      59418..     59421:      4:      65503: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46: 13 extents found
after filter: 19140608#118784#573440#shared 257269760#20480#692224#shared 14741504#4096#1011712#shared 243073024#114688#1019904#shared 242573312#16384#1134592#shared 239927296#4096#1150976#shared 266817536#131072#1187840#unwritten,shared 19369984#12288#1318912#shared 266948608#352256#1331200#unwritten,shared 240619520#61440#1683456#shared 243372032#4096#1744896#shared 267300864#229376#1748992#unwritten,shared 267530240#4096#1978368#shared 243376128#16384#2748416#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 19140608 /mnt/scratch
inode 290 offset 573440 root 258
inode 290 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 257269760 /mnt/scratch
inode 290 offset 692224 root 258
inode 290 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 14741504 /mnt/scratch
inode 290 offset 1011712 root 258
inode 290 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512555764
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 243073024 /mnt/scratch
inode 290 offset 1019904 root 258
inode 290 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 242573312 /mnt/scratch
inode 290 offset 1134592 root 258
inode 290 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 239927296 /mnt/scratch
inode 290 offset 1150976 root 258
inode 290 offset 1150976 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 266817536 /mnt/scratch
inode 290 offset 1187840 root 258
inode 290 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 19369984 /mnt/scratch
inode 290 offset 1318912 root 258
inode 290 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 266948608 /mnt/scratch
inode 290 offset 1331200 root 258
inode 290 offset 1331200 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 240619520 /mnt/scratch
inode 290 offset 1683456 root 258
inode 290 offset 1683456 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 243372032 /mnt/scratch
inode 290 offset 1744896 root 258
inode 290 offset 1744896 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 267300864 /mnt/scratch
inode 290 offset 1748992 root 258
inode 290 offset 1748992 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 267530240 /mnt/scratch
inode 290 offset 1978368 root 258
inode 290 offset 1978368 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
290
# /bin/btrfs inspect-internal logical-resolve -P 243376128 /mnt/scratch
inode 290 offset 2748416 root 258
inode 290 offset 2748416 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f46
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d7f/f182
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d7f/f182 is 1109197 (271 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       77..     148:      68964..     69035:     72:         77: unwritten,shared
   1:      253..     270:      68587..     68604:     18:      69140: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d7f/f182: 2 extents found
after filter: 282476544#294912#315392#unwritten,shared 280932352#73728#1036288#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/f182
547
# /bin/btrfs inspect-internal logical-resolve -P 282476544 /mnt/scratch
inode 547 offset 315392 root 258
inode 547 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 547 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d7f/f182
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/f182
547
# /bin/btrfs inspect-internal logical-resolve -P 280932352 /mnt/scratch
inode 547 offset 1036288 root 258
inode 547 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 547 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d7f/f182
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f14d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f14d is 794310 (194 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       48..      56:      63619..     63627:      9:         48: unwritten,shared
   1:      178..     193:      70727..     70742:     16:      63749: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f14d: 2 extents found
after filter: 260583424#36864#196608#unwritten,shared 289697792#65536#729088#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f14d
505
# /bin/btrfs inspect-internal logical-resolve -P 260583424 /mnt/scratch
inode 505 offset 196608 root 258
inode 505 offset 196608 root 5
# /bin/btrfs inspect-internal inode-resolve 505 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f14d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f14d
505
# /bin/btrfs inspect-internal logical-resolve -P 289697792 /mnt/scratch
inode 505 offset 729088 root 258
inode 505 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 505 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f14d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95 is 1012726 (248 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      34:      62815..     62834:     20:         15: shared
   1:       67..      67:       3334..      3334:      1:      62867: shared
   2:      102..     108:      61730..     61736:      7:       3369: unwritten,shared
   3:      109..     135:      61737..     61763:     27:             shared
   4:      136..     136:      61764..     61764:      1:             unwritten,shared
   5:      191..     216:      61281..     61306:     26:      61819: shared
   6:      217..     217:      61002..     61002:      1:      61307: shared
   7:      238..     242:       3426..      3430:      5:      61023: last,unwritten,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95: 6 extents found
after filter: 257290240#81920#61440#shared 13656064#4096#274432#shared 252846080#28672#417792#unwritten,shared 252874752#110592#446464#shared 252985344#4096#557056#unwritten,shared 251006976#106496#782336#shared 249864192#4096#888832#shared 14032896#20480#974848#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
374
# /bin/btrfs inspect-internal logical-resolve -P 257290240 /mnt/scratch
inode 374 offset 61440 root 258
inode 374 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
374
# /bin/btrfs inspect-internal logical-resolve -P 13656064 /mnt/scratch
inode 374 offset 274432 root 258
inode 374 offset 274432 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
374
# /bin/btrfs inspect-internal logical-resolve -P 252846080 /mnt/scratch
inode 374 offset 417792 root 258
inode 374 offset 417792 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
374
# /bin/btrfs inspect-internal logical-resolve -P 252874752 /mnt/scratch
inode 374 offset 446464 root 258
inode 374 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
374
# /bin/btrfs inspect-internal logical-resolve -P 252985344 /mnt/scratch
inode 374 offset 557056 root 258
inode 374 offset 557056 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512472426
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
374
# /bin/btrfs inspect-internal logical-resolve -P 251006976 /mnt/scratch
inode 374 offset 782336 root 258
inode 374 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
374
# /bin/btrfs inspect-internal logical-resolve -P 249864192 /mnt/scratch
inode 374 offset 888832 root 258
inode 374 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
374
# /bin/btrfs inspect-internal logical-resolve -P 14032896 /mnt/scratch
inode 374 offset 974848 root 258
inode 374 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f95
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a is 2299492 (562 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      17:       3851..      3861:     11:          7: shared
   1:       25..      25:       3335..      3335:      1:       3869: shared
   2:      151..     158:       3418..      3425:      8:       3461: shared
   3:      249..     256:       3877..      3884:      8:       3516: shared
   4:      257..     257:       3101..      3101:      1:       3885: shared
   5:      311..     324:       4659..      4672:     14:       3155: shared
   6:      343..     355:       3473..      3485:     13:       4691: shared
   7:      414..     423:       3340..      3349:     10:       3544: shared
   8:      518..     519:       3534..      3535:      2:       3444: shared
   9:      520..     520:       3084..      3084:      1:       3536: shared
  10:      561..     561:       3089..      3089:      1:       3125: shared,eof
  11:      566..     584:       4383..      4401:     19:       3094: unwritten,shared,eof
  12:      800..     877:       4927..      5004:     78:       4617: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a: 13 extents found
after filter: 15773696#45056#28672#shared 13660160#4096#102400#shared 14000128#32768#618496#shared 15880192#32768#1019904#shared 12701696#4096#1052672#shared 19083264#57344#1273856#shared 14225408#53248#1404928#shared 13680640#40960#1695744#shared 14475264#8192#2121728#shared 12632064#4096#2129920#shared 12652544#4096#2297856#shared,eof 17952768#77824#2318336#unwritten,shared,eof 20180992#319488#3276800#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 15773696 /mnt/scratch
inode 280 offset 28672 root 258
inode 280 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 13660160 /mnt/scratch
inode 280 offset 102400 root 258
inode 280 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 14000128 /mnt/scratch
inode 280 offset 618496 root 258
inode 280 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 15880192 /mnt/scratch
inode 280 offset 1019904 root 258
inode 280 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 12701696 /mnt/scratch
inode 280 offset 1052672 root 258
inode 280 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 19083264 /mnt/scratch
inode 280 offset 1273856 root 258
inode 280 offset 1273856 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 14225408 /mnt/scratch
inode 280 offset 1404928 root 258
inode 280 offset 1404928 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 13680640 /mnt/scratch
inode 280 offset 1695744 root 258
inode 280 offset 1695744 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 14475264 /mnt/scratch
inode 280 offset 2121728 root 258
inode 280 offset 2121728 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 12632064 /mnt/scratch
inode 280 offset 2129920 root 258
inode 280 offset 2129920 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 12652544 /mnt/scratch
inode 280 offset 2297856 root 258
inode 280 offset 2297856 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 17952768 /mnt/scratch
inode 280 offset 2318336 root 258
inode 280 offset 2318336 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
280
# /bin/btrfs inspect-internal logical-resolve -P 20180992 /mnt/scratch
inode 280 offset 3276800 root 258
inode 280 offset 3276800 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b is 4046025 (988 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      44:      59372..     59402:     31:         14: shared
   1:      214..     218:      58763..     58767:      5:      59572: shared
   2:      219..     227:      65756..     65764:      9:      58768: shared
   3:      228..     233:       3232..      3237:      6:      65765: shared
   4:      234..     238:       4295..      4299:      5:       3238: shared
   5:      239..     268:      70465..     70494:     30:       4300: shared
   6:      269..     270:       3273..      3274:      2:      70495: unwritten,shared
   7:      271..     286:       3275..      3290:     16:             shared
   8:      287..     297:       3291..      3301:     11:             unwritten,shared
   9:      298..     311:       3302..      3315:     14:             shared
  10:      312..     330:      66791..     66809:     19:       3316: shared
  11:      331..     341:      61093..     61103:     11:      66810: shared
  12:      412..     421:      59567..     59576:     10:      61174: shared
  13:      478..     480:       3490..      3492:      3:      59633: shared
  14:      499..     517:       3493..      3511:     19:             shared
  15:      565..     584:      59291..     59310:     20:       3559: shared
  16:      585..     609:      68036..     68060:     25:      59311: shared
  17:      610..     629:      67387..     67406:     20:      68061: shared
  18:      648..     677:       4250..      4279:     30:      67425: shared
  19:      678..     678:       3538..      3538:      1:       4280: shared
  20:      688..     708:      69902..     69922:     21:       3548: shared
  21:      709..     710:       4825..      4826:      2:      69923: shared
  22:      711..     721:       4703..      4713:     11:       4827: shared
  23:      784..     811:       4631..      4658:     28:       4776: shared
  24:      860..     870:      67459..     67469:     11:       4707: shared
  25:      885..     906:       4600..      4621:     22:      67484: shared
  26:      907..     915:       3734..      3742:      9:       4622: shared
  27:      916..     924:      64873..     64881:      9:       3743: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b: 24 extents found
after filter: 243187712#126976#57344#shared 240693248#20480#876544#shared 269336576#36864#897024#shared 13238272#24576#933888#shared 17592320#20480#958464#shared 288624640#122880#978944#shared 13406208#8192#1101824#unwritten,shared 13414400#65536#1110016#shared 13479936#45056#1175552#unwritten,shared 13524992#57344#1220608#shared 273575936#77824#1277952#shared 250236928#45056#1355776#shared 243986432#40960#1687552#shared 14295040#12288#1957888#shared 14307328#77824#2043904#shared 242855936#81920#2314240#shared 278675456#102400#2396160#shared 276017152#81920#2498560#shared 17408000#122880#2654208#shared 14491648#4096#2777088#shared 286318592#86016#2818048#shared 19763200#8192#2904064#shared 19263488#45056#2912256#shared 18968576#114688#3211264#shared 276312064#45056#3522560#shared 18841600#90112#3624960#shared 15294464#36864#3715072#shared 265719808#36864#3751936#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 243187712 /mnt/scratch
inode 285 offset 57344 root 258
inode 285 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 240693248 /mnt/scratch
inode 285 offset 876544 root 258
inode 285 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 269336576 /mnt/scratch
inode 285 offset 897024 root 258
inode 285 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 13238272 /mnt/scratch
inode 285 offset 933888 root 258
inode 285 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 17592320 /mnt/scratch
inode 285 offset 958464 root 258
inode 285 offset 958464 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 288624640 /mnt/scratch
inode 285 offset 978944 root 258
inode 285 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 13406208 /mnt/scratch
inode 285 offset 1101824 root 258
inode 285 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512088764
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 13414400 /mnt/scratch
inode 285 offset 1110016 root 258
inode 285 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 13479936 /mnt/scratch
inode 285 offset 1175552 root 258
inode 285 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 13524992 /mnt/scratch
inode 285 offset 1220608 root 258
inode 285 offset 1220608 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 273575936 /mnt/scratch
inode 285 offset 1277952 root 258
inode 285 offset 1277952 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 250236928 /mnt/scratch
inode 285 offset 1355776 root 258
inode 285 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 243986432 /mnt/scratch
inode 285 offset 1687552 root 258
inode 285 offset 1687552 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 14295040 /mnt/scratch
inode 285 offset 1957888 root 258
inode 285 offset 1957888 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 14307328 /mnt/scratch
inode 285 offset 2043904 root 258
inode 285 offset 2043904 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 242855936 /mnt/scratch
inode 285 offset 2314240 root 258
inode 285 offset 2314240 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 278675456 /mnt/scratch
inode 285 offset 2396160 root 258
inode 285 offset 2396160 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 276017152 /mnt/scratch
inode 285 offset 2498560 root 258
inode 285 offset 2498560 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 17408000 /mnt/scratch
inode 285 offset 2654208 root 258
inode 285 offset 2654208 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 14491648 /mnt/scratch
inode 285 offset 2777088 root 258
inode 285 offset 2777088 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 286318592 /mnt/scratch
inode 285 offset 2818048 root 258
inode 285 offset 2818048 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 19763200 /mnt/scratch
inode 285 offset 2904064 root 258
inode 285 offset 2904064 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 19263488 /mnt/scratch
inode 285 offset 2912256 root 258
inode 285 offset 2912256 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 18968576 /mnt/scratch
inode 285 offset 3211264 root 258
inode 285 offset 3211264 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 276312064 /mnt/scratch
inode 285 offset 3522560 root 258
inode 285 offset 3522560 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 18841600 /mnt/scratch
inode 285 offset 3624960 root 258
inode 285 offset 3624960 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 15294464 /mnt/scratch
inode 285 offset 3715072 root 258
inode 285 offset 3715072 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
285
# /bin/btrfs inspect-internal logical-resolve -P 265719808 /mnt/scratch
inode 285 offset 3751936 root 258
inode 285 offset 3751936 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e is 2058891 (503 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      30:      62683..     62704:     22:          9: shared
   1:       38..      45:      59988..     59995:      8:      62712: unwritten,shared
   2:       46..      46:      59996..     59996:      1:             shared
   3:       47..      99:      59997..     60049:     53:             unwritten,shared
   4:      100..     102:      59855..     59857:      3:      60050: shared
   5:      103..     110:      59125..     59132:      8:      59858: shared
   6:      111..     114:      59714..     59717:      4:      59133: shared
   7:      115..     129:      59870..     59884:     15:      59718: shared
   8:      130..     130:      58567..     58567:      1:      59885: shared
   9:      131..     182:      60050..     60101:     52:      58568: unwritten,shared
  10:      183..     188:      60102..     60107:      6:             shared
  11:      189..     189:      59289..     59289:      1:      60108: shared
  12:      190..     210:      60109..     60129:     21:      59290: unwritten,shared
  13:      211..     229:      60130..     60148:     19:             shared
  14:      230..     231:      59332..     59333:      2:      60149: shared
  15:      232..     256:      60151..     60175:     25:      59334: shared
  16:      257..     260:      60176..     60179:      4:             unwritten,shared
  17:      283..     293:      61395..     61405:     11:      60202: unwritten,shared
  18:      294..     311:      61406..     61423:     18:             shared
  19:      312..     330:      61424..     61442:     19:             unwritten,shared
  20:      331..     334:      61443..     61446:      4:             shared
  21:      335..     335:      62809..     62809:      1:      61447: shared
  22:      336..     359:      61448..     61471:     24:      62810: unwritten,shared
  23:      360..     375:      58940..     58955:     16:      61472: unwritten,shared
  24:      492..     502:      70637..     70647:     11:      59072: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e: 17 extents found
after filter: 256749568#90112#36864#shared 245710848#32768#155648#unwritten,shared 245743616#4096#188416#shared 245747712#217088#192512#unwritten,shared 245166080#12288#409600#shared 242176000#32768#421888#shared 244588544#16384#454656#shared 245227520#61440#471040#shared 239890432#4096#532480#shared 245964800#212992#536576#unwritten,shared 246177792#24576#749568#shared 242847744#4096#774144#shared 246206464#86016#778240#unwritten,shared 246292480#77824#864256#shared 243023872#8192#942080#shared 246378496#102400#950272#shared 246480896#16384#1052672#unwritten,shared 251473920#45056#1159168#unwritten,shared 251518976#73728#1204224#shared 251592704#77824#1277952#unwritten,shared 251670528#16384#1355776#shared 257265664#4096#1372160#shared 251691008#98304#1376256#unwritten,shared 241418240#65536#1474560#unwritten,shared 289329152#45056#2015232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 256749568 /mnt/scratch
inode 352 offset 36864 root 258
inode 352 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512649743
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 245710848 /mnt/scratch
inode 352 offset 155648 root 258
inode 352 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 245743616 /mnt/scratch
inode 352 offset 188416 root 258
inode 352 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 245747712 /mnt/scratch
inode 352 offset 192512 root 258
inode 352 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 245166080 /mnt/scratch
inode 352 offset 409600 root 258
inode 352 offset 409600 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 242176000 /mnt/scratch
inode 352 offset 421888 root 258
inode 352 offset 421888 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 244588544 /mnt/scratch
inode 352 offset 454656 root 258
inode 352 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 245227520 /mnt/scratch
inode 352 offset 471040 root 258
inode 352 offset 471040 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 239890432 /mnt/scratch
inode 352 offset 532480 root 258
inode 352 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 245964800 /mnt/scratch
inode 352 offset 536576 root 258
inode 352 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 246177792 /mnt/scratch
inode 352 offset 749568 root 258
inode 352 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 242847744 /mnt/scratch
inode 352 offset 774144 root 258
inode 352 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 246206464 /mnt/scratch
inode 352 offset 778240 root 258
inode 352 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 246292480 /mnt/scratch
inode 352 offset 864256 root 258
inode 352 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 243023872 /mnt/scratch
inode 352 offset 942080 root 258
inode 352 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 246378496 /mnt/scratch
inode 352 offset 950272 root 258
inode 352 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 246480896 /mnt/scratch
inode 352 offset 1052672 root 258
inode 352 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 251473920 /mnt/scratch
inode 352 offset 1159168 root 258
inode 352 offset 1159168 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 251518976 /mnt/scratch
inode 352 offset 1204224 root 258
inode 352 offset 1204224 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 251592704 /mnt/scratch
inode 352 offset 1277952 root 258
inode 352 offset 1277952 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 251670528 /mnt/scratch
inode 352 offset 1355776 root 258
inode 352 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 257265664 /mnt/scratch
inode 352 offset 1372160 root 258
inode 352 offset 1372160 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 251691008 /mnt/scratch
inode 352 offset 1376256 root 258
inode 352 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 241418240 /mnt/scratch
inode 352 offset 1474560 root 258
inode 352 offset 1474560 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512970536
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
352
# /bin/btrfs inspect-internal logical-resolve -P 289329152 /mnt/scratch
inode 352 offset 2015232 root 258
inode 352 offset 2015232 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f14e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b is 1724236 (421 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      17:      65379..     65387:      9:          9: shared
   1:      107..     112:      66664..     66669:      6:      65477: shared
   2:      178..     202:      68108..     68132:     25:      66735: shared
   3:      208..     226:      64066..     64084:     19:      68138: shared
   4:      255..     256:      61229..     61230:      2:      64113: shared
   5:      291..     291:       4550..      4550:      1:      61265: shared
   6:      415..     420:      68241..     68246:      6:       4674: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b: 7 extents found
after filter: 267792384#36864#36864#shared 273055744#24576#438272#shared 278970368#102400#729088#shared 262414336#77824#851968#shared 250793984#8192#1044480#shared 18636800#4096#1191936#shared 279515136#24576#1699840#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
399
# /bin/btrfs inspect-internal logical-resolve -P 267792384 /mnt/scratch
inode 399 offset 36864 root 258
inode 399 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
399
# /bin/btrfs inspect-internal logical-resolve -P 273055744 /mnt/scratch
inode 399 offset 438272 root 258
inode 399 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
399
# /bin/btrfs inspect-internal logical-resolve -P 278970368 /mnt/scratch
inode 399 offset 729088 root 258
inode 399 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
399
# /bin/btrfs inspect-internal logical-resolve -P 262414336 /mnt/scratch
inode 399 offset 851968 root 258
inode 399 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
399
# /bin/btrfs inspect-internal logical-resolve -P 250793984 /mnt/scratch
inode 399 offset 1044480 root 258
inode 399 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
399
# /bin/btrfs inspect-internal logical-resolve -P 18636800 /mnt/scratch
inode 399 offset 1191936 root 258
inode 399 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
399
# /bin/btrfs inspect-internal logical-resolve -P 279515136 /mnt/scratch
inode 399 offset 1699840 root 258
inode 399 offset 1699840 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f13b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/fbd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d is 3028286 (740 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       92..     115:      61355..     61378:     24:         92: shared
   1:      144..     159:      64793..     64808:     16:      61407: shared
   2:      229..     254:      59427..     59452:     26:      64878: shared
   3:      275..     392:      61472..     61589:    118:      59473: unwritten,shared
   4:      393..     393:      61590..     61590:      1:             shared
   5:      608..     619:      61166..     61177:     12:      61805: shared
   6:      620..     620:      58574..     58574:      1:      61178: shared
   7:      639..     659:       4742..      4762:     21:      58593: unwritten,shared
   8:      660..     684:      66285..     66309:     25:       4763: shared
   9:      685..     704:      59312..     59331:     20:      66310: last,unwritten,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d: 9 extents found
after filter: 251310080#98304#376832#shared 265392128#65536#589824#shared 243412992#106496#937984#shared 251789312#483328#1126400#unwritten,shared 252272640#4096#1609728#shared 250535936#49152#2490368#shared 239919104#4096#2539520#shared 19423232#86016#2617344#unwritten,shared 271503360#102400#2703360#shared 242941952#81920#2805760#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 251310080 /mnt/scratch
inode 336 offset 376832 root 258
inode 336 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 265392128 /mnt/scratch
inode 336 offset 589824 root 258
inode 336 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 243412992 /mnt/scratch
inode 336 offset 937984 root 258
inode 336 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 251789312 /mnt/scratch
inode 336 offset 1126400 root 258
inode 336 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 252272640 /mnt/scratch
inode 336 offset 1609728 root 258
inode 336 offset 1609728 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 250535936 /mnt/scratch
inode 336 offset 2490368 root 258
inode 336 offset 2490368 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 239919104 /mnt/scratch
inode 336 offset 2539520 root 258
inode 336 offset 2539520 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 19423232 /mnt/scratch
inode 336 offset 2617344 root 258
inode 336 offset 2617344 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 271503360 /mnt/scratch
inode 336 offset 2703360 root 258
inode 336 offset 2703360 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
336
# /bin/btrfs inspect-internal logical-resolve -P 242941952 /mnt/scratch
inode 336 offset 2805760 root 258
inode 336 offset 2805760 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f5d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/fae
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/fae is 128675 (32 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d4/da/d50/fae: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/fec
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/fec is 924855 (226 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      128..     155:      67086..     67113:     28:        128: unwritten,shared
   1:      156..     156:      67114..     67114:      1:             shared
   2:      194..     225:      67588..     67619:     32:      67152: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/fec: 2 extents found
after filter: 274784256#114688#524288#unwritten,shared 274898944#4096#638976#shared 276840448#131072#794624#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/fec
433
# /bin/btrfs inspect-internal logical-resolve -P 274784256 /mnt/scratch
inode 433 offset 524288 root 258
inode 433 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/fec
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/fec
433
# /bin/btrfs inspect-internal logical-resolve -P 274898944 /mnt/scratch
inode 433 offset 638976 root 258
inode 433 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/fec
# stat -c %i /mnt/scratch/snap1/p0/d4/da/fec
433
# /bin/btrfs inspect-internal logical-resolve -P 276840448 /mnt/scratch
inode 433 offset 794624 root 258
inode 433 offset 794624 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512457339
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/fec
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9 is 2387480 (583 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      16:       3578..      3582:      5:         12: shared
   1:       69..      88:      59694..     59713:     20:       3635: shared
   2:      119..     128:       3862..      3871:     10:      59744: shared
   3:      129..     143:      59154..     59168:     15:       3872: shared
   4:      144..     153:       4804..      4813:     10:      59169: shared
   5:      154..     154:       3595..      3595:      1:       4814: shared
   6:      163..     166:      63203..     63206:      4:       3604: shared
   7:      167..     171:      68291..     68295:      5:      63207: shared
   8:      172..     185:      70880..     70893:     14:      68296: shared
   9:      186..     190:      68310..     68314:      5:      70894: shared
  10:      191..     192:      63231..     63232:      2:      68315: shared
  11:      213..     237:      65619..     65643:     25:      63253: shared
  12:      238..     250:       5048..      5060:     13:      65644: shared
  13:      342..     342:       3777..      3777:      1:       5152: shared
  14:      560..     582:      68551..     68573:     23:       3995: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9: 15 extents found
after filter: 14655488#20480#49152#shared 244506624#81920#282624#shared 15818752#40960#487424#shared 242294784#61440#528384#shared 19677184#40960#589824#shared 14725120#4096#630784#shared 258879488#16384#667648#shared 279719936#20480#684032#shared 290324480#57344#704512#shared 279797760#20480#761856#shared 258994176#8192#782336#shared 268775424#102400#872448#shared 20676608#53248#974848#shared 15470592#4096#1400832#shared 280784896#94208#2293760#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 14655488 /mnt/scratch
inode 298 offset 49152 root 258
inode 298 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 244506624 /mnt/scratch
inode 298 offset 282624 root 258
inode 298 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 15818752 /mnt/scratch
inode 298 offset 487424 root 258
inode 298 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 242294784 /mnt/scratch
inode 298 offset 528384 root 258
inode 298 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 19677184 /mnt/scratch
inode 298 offset 589824 root 258
inode 298 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 14725120 /mnt/scratch
inode 298 offset 630784 root 258
inode 298 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 258879488 /mnt/scratch
inode 298 offset 667648 root 258
inode 298 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 279719936 /mnt/scratch
inode 298 offset 684032 root 258
inode 298 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 290324480 /mnt/scratch
inode 298 offset 704512 root 258
inode 298 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 279797760 /mnt/scratch
inode 298 offset 761856 root 258
inode 298 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 258994176 /mnt/scratch
inode 298 offset 782336 root 258
inode 298 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 268775424 /mnt/scratch
inode 298 offset 872448 root 258
inode 298 offset 872448 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 20676608 /mnt/scratch
inode 298 offset 974848 root 258
inode 298 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 15470592 /mnt/scratch
inode 298 offset 1400832 root 258
inode 298 offset 1400832 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
298
# /bin/btrfs inspect-internal logical-resolve -P 280784896 /mnt/scratch
inode 298 offset 2293760 root 258
inode 298 offset 2293760 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/daa/fc3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/daa/fc3 is 2048891 (501 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       41..      68:      63061..     63088:     28:         41: shared
   1:      252..     254:      64882..     64884:      3:      63272: shared
   2:      255..     281:      69365..     69391:     27:      64885: shared
   3:      483..     500:      70502..     70519:     18:      69593: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/daa/fc3: 4 extents found
after filter: 258297856#114688#167936#shared 265756672#12288#1032192#shared 284119040#110592#1044480#shared 288776192#73728#1978368#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/fc3
404
# /bin/btrfs inspect-internal logical-resolve -P 258297856 /mnt/scratch
inode 404 offset 167936 root 258
inode 404 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/fc3
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/fc3
404
# /bin/btrfs inspect-internal logical-resolve -P 265756672 /mnt/scratch
inode 404 offset 1032192 root 258
inode 404 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/fc3
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/fc3
404
# /bin/btrfs inspect-internal logical-resolve -P 284119040 /mnt/scratch
inode 404 offset 1044480 root 258
inode 404 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/fc3
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/fc3
404
# /bin/btrfs inspect-internal logical-resolve -P 288776192 /mnt/scratch
inode 404 offset 1978368 root 258
inode 404 offset 1978368 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/fc3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124 is 2732032 (667 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       63..      68:       4551..      4556:      6:         63: shared
   1:       69..      99:      59657..     59687:     31:       4557: shared
   2:      111..     127:       3630..      3646:     17:      59699: unwritten,shared
   3:      128..     128:       3647..      3647:      1:             shared
   4:      130..     133:       3431..      3434:      4:       3649: shared
   5:      192..     203:      66392..     66403:     12:       3493: shared
   6:      227..     227:       3090..      3090:      1:      66427: shared
   7:      242..     245:       3360..      3363:      4:       3105: shared
   8:      246..     258:      58777..     58789:     13:       3364: shared
   9:      259..     268:       3377..      3386:     10:      58790: shared
  10:      269..     269:       3229..      3229:      1:       3387: shared
  11:      324..     343:      59012..     59031:     20:       3284: shared
  12:      344..     352:       4591..      4599:      9:      59032: shared
  13:      360..     369:       4362..      4371:     10:       4607: shared
  14:      370..     399:      66160..     66189:     30:       4372: shared
  15:      503..     509:       3457..      3463:      7:      66293: shared
  16:      544..     554:      63438..     63448:     11:       3498: shared
  17:      555..     562:      66053..     66060:      8:      63449: shared
  18:      565..     581:      67853..     67869:     17:      66063: shared
  19:      649..     666:      67570..     67587:     18:      67937: shared,eof
  20:      682..     727:      67990..     68035:     46:      67603: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124: 20 extents found
after filter: 18640896#24576#258048#shared 244355072#126976#282624#shared 14868480#69632#454656#unwritten,shared 14938112#4096#524288#shared 14053376#16384#532480#shared 271941632#49152#786432#shared 12656640#4096#929792#shared 13762560#16384#991232#shared 240750592#53248#1007616#shared 13832192#40960#1060864#shared 13225984#4096#1101824#shared 241713152#81920#1327104#shared 18804736#36864#1409024#shared 17866752#40960#1474560#shared 270991360#122880#1515520#shared 14159872#28672#2060288#shared 259842048#45056#2228224#shared 270553088#32768#2273280#shared 277925888#69632#2314240#shared 276766720#73728#2658304#shared,eof 278487040#188416#2793472#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 18640896 /mnt/scratch
inode 270 offset 258048 root 258
inode 270 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 244355072 /mnt/scratch
inode 270 offset 282624 root 258
inode 270 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 14868480 /mnt/scratch
inode 270 offset 454656 root 258
inode 270 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 14938112 /mnt/scratch
inode 270 offset 524288 root 258
inode 270 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512206175
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 14053376 /mnt/scratch
inode 270 offset 532480 root 258
inode 270 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 271941632 /mnt/scratch
inode 270 offset 786432 root 258
inode 270 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 12656640 /mnt/scratch
inode 270 offset 929792 root 258
inode 270 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 13762560 /mnt/scratch
inode 270 offset 991232 root 258
inode 270 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 240750592 /mnt/scratch
inode 270 offset 1007616 root 258
inode 270 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 13832192 /mnt/scratch
inode 270 offset 1060864 root 258
inode 270 offset 1060864 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 13225984 /mnt/scratch
inode 270 offset 1101824 root 258
inode 270 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 241713152 /mnt/scratch
inode 270 offset 1327104 root 258
inode 270 offset 1327104 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 18804736 /mnt/scratch
inode 270 offset 1409024 root 258
inode 270 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 17866752 /mnt/scratch
inode 270 offset 1474560 root 258
inode 270 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 270991360 /mnt/scratch
inode 270 offset 1515520 root 258
inode 270 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 14159872 /mnt/scratch
inode 270 offset 2060288 root 258
inode 270 offset 2060288 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 259842048 /mnt/scratch
inode 270 offset 2228224 root 258
inode 270 offset 2228224 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 270553088 /mnt/scratch
inode 270 offset 2273280 root 258
inode 270 offset 2273280 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 277925888 /mnt/scratch
inode 270 offset 2314240 root 258
inode 270 offset 2314240 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 276766720 /mnt/scratch
inode 270 offset 2658304 root 258
inode 270 offset 2658304 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
270
# /bin/btrfs inspect-internal logical-resolve -P 278487040 /mnt/scratch
inode 270 offset 2793472 root 258
inode 270 offset 2793472 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/f124
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/daa/d134/f165
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/daa/d134/f165 is 1416053 (346 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       60..      81:      62851..     62872:     22:         60: shared
   1:       82..      82:      59278..     59278:      1:      62873: shared
   2:       93..      93:       4302..      4302:      1:      59289: shared
   3:      332..     345:      64779..     64792:     14:       4541: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/daa/d134/f165: 4 extents found
after filter: 257437696#90112#245760#shared 242802688#4096#335872#shared 17620992#4096#380928#shared 265334784#57344#1359872#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/d134/f165
421
# /bin/btrfs inspect-internal logical-resolve -P 257437696 /mnt/scratch
inode 421 offset 245760 root 258
inode 421 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/d134/f165
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/d134/f165
421
# /bin/btrfs inspect-internal logical-resolve -P 242802688 /mnt/scratch
inode 421 offset 335872 root 258
inode 421 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/d134/f165
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/d134/f165
421
# /bin/btrfs inspect-internal logical-resolve -P 17620992 /mnt/scratch
inode 421 offset 380928 root 258
inode 421 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/d134/f165
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/d134/f165
421
# /bin/btrfs inspect-internal logical-resolve -P 265334784 /mnt/scratch
inode 421 offset 1359872 root 258
inode 421 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/d134/f165
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/f3c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/f3c is 4861952 (1187 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       85..      90:      59632..     59637:      6:         85: shared
   1:       92..     112:       5016..      5036:     21:      59639: unwritten,shared
   2:      113..     113:       4548..      4548:      1:       5037: shared
   3:      114..     135:      64374..     64395:     22:       4549: unwritten,shared
   4:      136..     147:      63716..     63727:     12:      64396: shared
   5:      148..     154:      64396..     64402:      7:      63728: unwritten,shared
   6:      155..     173:       3539..      3557:     19:      64403: shared
   7:      174..     178:      59850..     59854:      5:       3558: unwritten,shared
   8:      179..     195:      63395..     63411:     17:      59855: shared
   9:      196..     220:      65063..     65087:     25:      63412: unwritten,shared
  10:      221..     239:      59638..     59656:     19:      65088: shared
  11:      240..     248:      65088..     65096:      9:      59657: unwritten,shared
  12:      249..     259:       4530..      4540:     11:      65097: unwritten,shared
  13:      260..     266:       4541..      4547:      7:             shared
  14:      267..     275:      65009..     65017:      9:       4548: shared
  15:      276..     304:      59538..     59566:     29:      65018: shared
  16:      305..     315:      65097..     65107:     11:      59567: unwritten,shared
  17:      341..     363:      65356..     65378:     23:      65133: unwritten,shared
  18:      364..     401:      61128..     61165:     38:      65379: unwritten,shared
  19:      402..     405:       3173..      3176:      4:      61166: shared
  20:      406..     406:       3746..      3746:      1:       3177: shared
  21:      407..     480:      61650..     61723:     74:       3747: unwritten,shared
  22:      481..     501:      67870..     67890:     21:      61724: shared
  23:      502..     513:      67635..     67646:     12:      67891: shared
  24:      623..     647:      63412..     63436:     25:      67756: shared
  25:      648..     648:      58580..     58580:      1:      63437: shared
  26:      724..     747:      63501..     63524:     24:      58656: shared
  27:      940..     950:      62521..     62531:     11:      63717: shared
  28:     1183..    1186:       3889..      3892:      4:      62764: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/f3c: 28 extents found
after filter: 244252672#24576#348160#shared 20545536#86016#376832#unwritten,shared 18628608#4096#462848#shared 263675904#90112#466944#unwritten,shared 260980736#49152#557056#shared 263766016#28672#606208#unwritten,shared 14495744#77824#634880#shared 245145600#20480#712704#unwritten,shared 259665920#69632#733184#shared 266498048#102400#802816#unwritten,shared 244277248#77824#905216#shared 266600448#36864#983040#unwritten,shared 18554880#45056#1019904#unwritten,shared 18599936#28672#1064960#shared 266276864#36864#1093632#shared 243867648#118784#1130496#shared 266637312#45056#1249280#unwritten,shared 267698176#94208#1396736#unwritten,shared 250380288#155648#1490944#unwritten,shared 12996608#16384#1646592#shared 15343616#4096#1662976#shared 252518400#303104#1667072#unwritten,shared 277995520#86016#1970176#shared 277032960#49152#2056192#shared 259735552#102400#2551808#shared 239943680#4096#2654208#shared 260100096#98304#2965504#shared 256086016#45056#3850240#shared 15929344#16384#4845568#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 244252672 /mnt/scratch
inode 309 offset 348160 root 258
inode 309 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 20545536 /mnt/scratch
inode 309 offset 376832 root 258
inode 309 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 18628608 /mnt/scratch
inode 309 offset 462848 root 258
inode 309 offset 462848 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 263675904 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 309 offset 466944 root 258
inode 309 offset 466944 root 5
seed = 1512944241
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 260980736 /mnt/scratch
inode 309 offset 557056 root 258
inode 309 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 263766016 /mnt/scratch
inode 309 offset 606208 root 258
inode 309 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 14495744 /mnt/scratch
inode 309 offset 634880 root 258
inode 309 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 245145600 /mnt/scratch
inode 309 offset 712704 root 258
inode 309 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 259665920 /mnt/scratch
inode 309 offset 733184 root 258
inode 309 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 266498048 /mnt/scratch
inode 309 offset 802816 root 258
inode 309 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 244277248 /mnt/scratch
inode 309 offset 905216 root 258
inode 309 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 266600448 /mnt/scratch
inode 309 offset 983040 root 258
inode 309 offset 983040 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 18554880 /mnt/scratch
inode 309 offset 1019904 root 258
inode 309 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 18599936 /mnt/scratch
inode 309 offset 1064960 root 258
inode 309 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 266276864 /mnt/scratch
inode 309 offset 1093632 root 258
inode 309 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 243867648 /mnt/scratch
inode 309 offset 1130496 root 258
inode 309 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 266637312 /mnt/scratch
inode 309 offset 1249280 root 258
inode 309 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 267698176 /mnt/scratch
inode 309 offset 1396736 root 258
inode 309 offset 1396736 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 250380288 /mnt/scratch
inode 309 offset 1490944 root 258
inode 309 offset 1490944 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 12996608 /mnt/scratch
inode 309 offset 1646592 root 258
inode 309 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 15343616 /mnt/scratch
inode 309 offset 1662976 root 258
inode 309 offset 1662976 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 252518400 /mnt/scratch
inode 309 offset 1667072 root 258
inode 309 offset 1667072 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 277995520 /mnt/scratch
inode 309 offset 1970176 root 258
inode 309 offset 1970176 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 277032960 /mnt/scratch
inode 309 offset 2056192 root 258
inode 309 offset 2056192 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 259735552 /mnt/scratch
inode 309 offset 2551808 root 258
inode 309 offset 2551808 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 239943680 /mnt/scratch
background rm
inode 309 offset 2654208 root 258
inode 309 offset 2654208 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 260100096 /mnt/scratch
inode 309 offset 2965504 root 258
inode 309 offset 2965504 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512734320
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 256086016 /mnt/scratch
inode 309 offset 3850240 root 258
inode 309 offset 3850240 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f3c
309
# /bin/btrfs inspect-internal logical-resolve -P 15929344 /mnt/scratch
inode 309 offset 4845568 root 258
inode 309 offset 4845568 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132 is 2387480 (583 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      16:       3578..      3582:      5:         12: shared
   1:       69..      88:      59694..     59713:     20:       3635: shared
   2:      119..     128:       3862..      3871:     10:      59744: shared
   3:      129..     143:      59154..     59168:     15:       3872: shared
   4:      144..     153:       4804..      4813:     10:      59169: shared
   5:      154..     154:       3595..      3595:      1:       4814: shared
   6:      163..     166:      63203..     63206:      4:       3604: shared
   7:      167..     171:      68291..     68295:      5:      63207: shared
   8:      172..     185:      70880..     70893:     14:      68296: shared
   9:      186..     190:      68310..     68314:      5:      70894: shared
  10:      191..     192:      63231..     63232:      2:      68315: shared
  11:      213..     237:      65619..     65643:     25:      63253: shared
  12:      238..     250:       5048..      5060:     13:      65644: shared
  13:      342..     342:       3777..      3777:      1:       5152: shared
  14:      560..     582:      68551..     68573:     23:       3995: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132: 15 extents found
after filter: 14655488#20480#49152#shared 244506624#81920#282624#shared 15818752#40960#487424#shared 242294784#61440#528384#shared 19677184#40960#589824#shared 14725120#4096#630784#shared 258879488#16384#667648#shared 279719936#20480#684032#shared 290324480#57344#704512#shared 279797760#20480#761856#shared 258994176#8192#782336#shared 268775424#102400#872448#shared 20676608#53248#974848#shared 15470592#4096#1400832#shared 280784896#94208#2293760#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 14655488 /mnt/scratch
inode 298 offset 49152 root 258
inode 298 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 244506624 /mnt/scratch
inode 298 offset 282624 root 258
inode 298 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 15818752 /mnt/scratch
inode 298 offset 487424 root 258
inode 298 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 242294784 /mnt/scratch
inode 298 offset 528384 root 258
inode 298 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 19677184 /mnt/scratch
inode 298 offset 589824 root 258
inode 298 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 14725120 /mnt/scratch
inode 298 offset 630784 root 258
inode 298 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 258879488 /mnt/scratch
inode 298 offset 667648 root 258
inode 298 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 279719936 /mnt/scratch
inode 298 offset 684032 root 258
inode 298 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 290324480 /mnt/scratch
inode 298 offset 704512 root 258
inode 298 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 279797760 /mnt/scratch
inode 298 offset 761856 root 258
inode 298 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 258994176 /mnt/scratch
inode 298 offset 782336 root 258
inode 298 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 268775424 /mnt/scratch
inode 298 offset 872448 root 258
inode 298 offset 872448 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 20676608 /mnt/scratch
inode 298 offset 974848 root 258
inode 298 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 15470592 /mnt/scratch
inode 298 offset 1400832 root 258
inode 298 offset 1400832 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
298
# /bin/btrfs inspect-internal logical-resolve -P 280784896 /mnt/scratch
inode 298 offset 2293760 root 258
inode 298 offset 2293760 root 5
# /bin/btrfs inspect-internal inode-resolve 298 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/fe9
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/d10f/f132
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8 is 991232 (242 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       1:       3073..      3073:      1:          1: shared
   1:       11..      12:      62430..     62431:      2:       3083: shared
   2:       33..      54:      63803..     63824:     22:      62452: shared
   3:       55..      62:      70611..     70618:      8:      63825: shared
   4:       63..      69:       4288..      4294:      7:      70619: shared
   5:       93..     122:      68377..     68406:     30:       4318: shared
   6:      127..     134:      63674..     63681:      8:      68411: shared
   7:      135..     135:      62808..     62808:      1:      63682: shared
   8:      233..     241:      64739..     64747:      9:      62906: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8: 9 extents found
after filter: 12587008#4096#4096#shared 255713280#8192#45056#shared 261337088#90112#135168#shared 289222656#32768#225280#shared 17563648#28672#258048#shared 280072192#122880#380928#shared 260808704#32768#520192#shared 257261568#4096#552960#shared 265170944#36864#954368#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
382
# /bin/btrfs inspect-internal logical-resolve -P 12587008 /mnt/scratch
inode 382 offset 4096 root 258
inode 382 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
382
# /bin/btrfs inspect-internal logical-resolve -P 255713280 /mnt/scratch
inode 382 offset 45056 root 258
inode 382 offset 45056 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
382
# /bin/btrfs inspect-internal logical-resolve -P 261337088 /mnt/scratch
inode 382 offset 135168 root 258
inode 382 offset 135168 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512976399
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
382
# /bin/btrfs inspect-internal logical-resolve -P 289222656 /mnt/scratch
inode 382 offset 225280 root 258
inode 382 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
382
# /bin/btrfs inspect-internal logical-resolve -P 17563648 /mnt/scratch
inode 382 offset 258048 root 258
inode 382 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
382
# /bin/btrfs inspect-internal logical-resolve -P 280072192 /mnt/scratch
inode 382 offset 380928 root 258
inode 382 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
382
# /bin/btrfs inspect-internal logical-resolve -P 260808704 /mnt/scratch
inode 382 offset 520192 root 258
inode 382 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
382
# /bin/btrfs inspect-internal logical-resolve -P 257261568 /mnt/scratch
inode 382 offset 552960 root 258
inode 382 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
382
# /bin/btrfs inspect-internal logical-resolve -P 265170944 /mnt/scratch
inode 382 offset 954368 root 258
inode 382 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/fe0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/fe0 is 1683456 (411 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       70..      70:       3583..      3583:      1:         70: shared
   1:      160..     181:      63019..     63040:     22:       3673: shared
   2:      188..     201:      68277..     68290:     14:      63047: shared
   3:      388..     410:      67891..     67913:     23:      68477: last,shared,eof
/mnt/scratch/snap1/p0/d4/fe0: 4 extents found
after filter: 14675968#4096#286720#shared 258125824#90112#655360#shared 279662592#57344#770048#shared 278081536#94208#1589248#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/fe0
425
# /bin/btrfs inspect-internal logical-resolve -P 14675968 /mnt/scratch
inode 425 offset 286720 root 258
inode 425 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe0
# stat -c %i /mnt/scratch/snap1/p0/d4/fe0
425
# /bin/btrfs inspect-internal logical-resolve -P 258125824 /mnt/scratch
inode 425 offset 655360 root 258
inode 425 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe0
# stat -c %i /mnt/scratch/snap1/p0/d4/fe0
425
# /bin/btrfs inspect-internal logical-resolve -P 279662592 /mnt/scratch
inode 425 offset 770048 root 258
inode 425 offset 770048 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe0
# stat -c %i /mnt/scratch/snap1/p0/d4/fe0
425
# /bin/btrfs inspect-internal logical-resolve -P 278081536 /mnt/scratch
inode 425 offset 1589248 root 258
inode 425 offset 1589248 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/fe0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54 is 2744320 (670 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      41:      63739..     63762:     24:         18: shared
   1:       61..      63:       3208..      3210:      3:      63782: shared
   2:       81..      87:      70495..     70501:      7:       3228: shared
   3:      235..     261:      60761..     60787:     27:      70649: shared
   4:      421..     444:      59169..     59192:     24:      60947: shared
   5:      445..     445:      59149..     59149:      1:      59193: shared
   6:      446..     484:      64679..     64717:     39:      59150: unwritten,shared
   7:      640..     669:      63250..     63279:     30:      64873: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54: 8 extents found
after filter: 261074944#98304#73728#shared 13139968#12288#249856#shared 288747520#28672#331776#shared 248877056#110592#962560#shared 242356224#98304#1724416#shared 242274304#4096#1822720#shared 264925184#159744#1826816#unwritten,shared 259072000#122880#2621440#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
328
# /bin/btrfs inspect-internal logical-resolve -P 261074944 /mnt/scratch
inode 328 offset 73728 root 258
inode 328 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 328 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
328
# /bin/btrfs inspect-internal logical-resolve -P 13139968 /mnt/scratch
inode 328 offset 249856 root 258
inode 328 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 328 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
328
# /bin/btrfs inspect-internal logical-resolve -P 288747520 /mnt/scratch
inode 328 offset 331776 root 258
inode 328 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 328 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
328
# /bin/btrfs inspect-internal logical-resolve -P 248877056 /mnt/scratch
inode 328 offset 962560 root 258
inode 328 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 328 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
328
# /bin/btrfs inspect-internal logical-resolve -P 242356224 /mnt/scratch
inode 328 offset 1724416 root 258
inode 328 offset 1724416 root 5
# /bin/btrfs inspect-internal inode-resolve 328 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
328
# /bin/btrfs inspect-internal logical-resolve -P 242274304 /mnt/scratch
inode 328 offset 1822720 root 258
inode 328 offset 1822720 root 5
# /bin/btrfs inspect-internal inode-resolve 328 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
328
# /bin/btrfs inspect-internal logical-resolve -P 264925184 /mnt/scratch
inode 328 offset 1826816 root 258
inode 328 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 328 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
328
# /bin/btrfs inspect-internal logical-resolve -P 259072000 /mnt/scratch
inode 328 offset 2621440 root 258
inode 328 offset 2621440 root 5
# /bin/btrfs inspect-internal inode-resolve 328 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f54
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fcf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fcf is 417792 (102 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       81..     101:      65031..     65051:     21:         81: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fcf: 1 extent found
after filter: 266366976#86016#331776#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fcf
412
# /bin/btrfs inspect-internal logical-resolve -P 266366976 /mnt/scratch
inode 412 offset 331776 root 258
inode 412 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fcf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fb7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fb7 is 1212225 (296 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      40:       3893..      3893:      1:         40: shared
   1:      252..     295:      69392..     69435:     44:       4105: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fb7: 2 extents found
after filter: 15945728#4096#163840#shared 284229632#180224#1032192#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fb7
395
# /bin/btrfs inspect-internal logical-resolve -P 15945728 /mnt/scratch
inode 395 offset 163840 root 258
inode 395 offset 163840 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fb7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fb7
395
# /bin/btrfs inspect-internal logical-resolve -P 284229632 /mnt/scratch
inode 395 offset 1032192 root 258
inode 395 offset 1032192 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
seed = 1512437141
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fb7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93 is 1052672 (257 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       85..     108:      62705..     62728:     24:         85: unwritten,shared
   1:      109..     109:       3584..      3584:      1:      62729: shared
   2:      110..     125:      62729..     62744:     16:       3585: unwritten,shared
   3:      178..     200:      66202..     66224:     23:      62797: shared
   4:      250..     256:       4714..      4720:      7:      66274: shared,eof
   5:      420..     575:      69923..     70078:    156:       4884: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93: 6 extents found
after filter: 256839680#98304#348160#unwritten,shared 14680064#4096#446464#shared 256937984#65536#450560#unwritten,shared 271163392#94208#729088#shared 19308544#28672#1024000#shared,eof 286404608#638976#1720320#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
372
# /bin/btrfs inspect-internal logical-resolve -P 256839680 /mnt/scratch
inode 372 offset 348160 root 258
inode 372 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
372
# /bin/btrfs inspect-internal logical-resolve -P 14680064 /mnt/scratch
inode 372 offset 446464 root 258
inode 372 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
372
# /bin/btrfs inspect-internal logical-resolve -P 256937984 /mnt/scratch
inode 372 offset 450560 root 258
inode 372 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
372
# /bin/btrfs inspect-internal logical-resolve -P 271163392 /mnt/scratch
inode 372 offset 729088 root 258
inode 372 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
372
# /bin/btrfs inspect-internal logical-resolve -P 19308544 /mnt/scratch
inode 372 offset 1024000 root 258
inode 372 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
372
# /bin/btrfs inspect-internal logical-resolve -P 286404608 /mnt/scratch
inode 372 offset 1720320 root 258
inode 372 offset 1720320 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f93
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81 is 1822976 (446 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       66..      75:       4732..      4741:     10:         66: shared
   1:      118..     119:       3593..      3594:      2:       4784: shared
   2:      253..     326:      68858..     68931:     74:       3728: unwritten,shared
   3:      327..     348:      59785..     59806:     22:      68932: shared
   4:      349..     358:      61191..     61200:     10:      59807: unwritten,shared
   5:      396..     421:      61234..     61259:     26:      61238: shared
   6:      651..     862:      63854..     64065:    212:      61489: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81: 7 extents found
after filter: 19382272#40960#270336#shared 14716928#8192#483328#shared 282042368#303104#1036288#unwritten,shared 244879360#90112#1339392#shared 250638336#40960#1429504#unwritten,shared 250814464#106496#1622016#shared 261545984#868352#2666496#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
360
# /bin/btrfs inspect-internal logical-resolve -P 19382272 /mnt/scratch
inode 360 offset 270336 root 258
inode 360 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
360
# /bin/btrfs inspect-internal logical-resolve -P 14716928 /mnt/scratch
inode 360 offset 483328 root 258
inode 360 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
360
# /bin/btrfs inspect-internal logical-resolve -P 282042368 /mnt/scratch
inode 360 offset 1036288 root 258
inode 360 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
360
# /bin/btrfs inspect-internal logical-resolve -P 244879360 /mnt/scratch
inode 360 offset 1339392 root 258
inode 360 offset 1339392 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
360
# /bin/btrfs inspect-internal logical-resolve -P 250638336 /mnt/scratch
inode 360 offset 1429504 root 258
inode 360 offset 1429504 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
360
# /bin/btrfs inspect-internal logical-resolve -P 250814464 /mnt/scratch
inode 360 offset 1622016 root 258
inode 360 offset 1622016 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
360
# /bin/btrfs inspect-internal logical-resolve -P 261545984 /mnt/scratch
inode 360 offset 2666496 root 258
inode 360 offset 2666496 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f81
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d77/f123
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d77/f123 is 1529584 (374 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       77..      79:       4774..      4776:      3:         77: shared
   1:       98..     102:      61344..     61348:      5:       4795: unwritten,shared
   2:      173..     196:      64848..     64871:     24:      61419: shared
   3:      197..     197:      59423..     59423:      1:      64872: shared
   4:      344..     373:      68407..     68436:     30:      59570: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d77/f123: 5 extents found
after filter: 19554304#12288#315392#shared 251265024#20480#401408#unwritten,shared 265617408#98304#708608#shared 243396608#4096#806912#shared 280195072#122880#1409024#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/f123
477
# /bin/btrfs inspect-internal logical-resolve -P 19554304 /mnt/scratch
inode 477 offset 315392 root 258
inode 477 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f123
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/f123
477
# /bin/btrfs inspect-internal logical-resolve -P 251265024 /mnt/scratch
inode 477 offset 401408 root 258
inode 477 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f123
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/f123
477
# /bin/btrfs inspect-internal logical-resolve -P 265617408 /mnt/scratch
inode 477 offset 708608 root 258
inode 477 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f123
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/f123
477
# /bin/btrfs inspect-internal logical-resolve -P 243396608 /mnt/scratch
inode 477 offset 806912 root 258
inode 477 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f123
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/f123
477
# /bin/btrfs inspect-internal logical-resolve -P 280195072 /mnt/scratch
inode 477 offset 1409024 root 258
inode 477 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f123
background rm
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f15a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f15a is 15011 (4 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..       3:       3895..      3895:      1:          3: shared,eof
   1:       61..     244:      69687..     69870:    184:       3953: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f15a: 2 extents found
after filter: 15953920#4096#12288#shared,eof 285437952#753664#249856#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f15a
515
# /bin/btrfs inspect-internal logical-resolve -P 15953920 /mnt/scratch
inode 515 offset 12288 root 258
inode 515 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 515 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f15a
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512364022
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f15a
515
# /bin/btrfs inspect-internal logical-resolve -P 285437952 /mnt/scratch
inode 515 offset 249856 root 258
inode 515 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 515 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f15a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d77/f17d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d77/f17d is 862482 (211 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      182..     210:      70835..     70863:     29:        182: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d77/f17d: 1 extent found
after filter: 290140160#118784#745472#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/f17d
542
# /bin/btrfs inspect-internal logical-resolve -P 290140160 /mnt/scratch
inode 542 offset 745472 root 258
inode 542 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 542 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/f17d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/d1ba/d1e8/f166
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/d1ba/d1e8/f166 is 1330853 (325 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      191..     191:       3776..      3776:      1:        191: shared
   1:      308..     324:      68504..     68520:     17:       3893: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/d1ba/d1e8/f166: 2 extents found
after filter: 15466496#4096#782336#shared 280592384#69632#1261568#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/d1ba/d1e8/f166
522
# /bin/btrfs inspect-internal logical-resolve -P 15466496 /mnt/scratch
inode 522 offset 782336 root 258
inode 522 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 522 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/d1ba/d1e8/f166
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/d1ba/d1e8/f166
522
# /bin/btrfs inspect-internal logical-resolve -P 280592384 /mnt/scratch
inode 522 offset 1261568 root 258
inode 522 offset 1261568 root 5
# /bin/btrfs inspect-internal inode-resolve 522 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/d144/d1ba/d1e8/f166
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/daa/f194
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/daa/f194 is 1350581 (330 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      153..     329:      69436..     69612:    177:        153: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/daa/f194: 1 extent found
after filter: 284409856#724992#626688#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/f194
563
# /bin/btrfs inspect-internal logical-resolve -P 284409856 /mnt/scratch
inode 563 offset 626688 root 258
inode 563 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 563 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/f194
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6 is 2060288 (503 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       5:       3464..      3469:      6:             shared
   1:       13..      45:      58533..     58565:     33:       3477: shared
   2:      119..     131:      60410..     60422:     13:      58639: unwritten,shared
   3:      132..     159:      60423..     60450:     28:             shared
   4:      160..     209:      60451..     60500:     50:             unwritten,shared
   5:      210..     219:      60501..     60510:     10:             shared
   6:      220..     220:      59425..     59425:      1:      60511: shared
   7:      221..     236:      60512..     60527:     16:      59426: shared
   8:      237..     237:      59784..     59784:      1:      60528: shared
   9:      238..     347:      60529..     60638:    110:      59785: unwritten,shared
  10:      479..     502:      65815..     65838:     24:      60770: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6: 8 extents found
after filter: 14188544#24576#0#shared 239751168#135168#53248#shared 247439360#53248#487424#unwritten,shared 247492608#114688#540672#shared 247607296#204800#655360#unwritten,shared 247812096#40960#860160#shared 243404800#4096#901120#shared 247857152#65536#905216#shared 244875264#4096#970752#shared 247926784#450560#974848#unwritten,shared 269578240#98304#1961984#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 14188544 /mnt/scratch
inode 345 offset 0 root 258
inode 345 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 239751168 /mnt/scratch
inode 345 offset 53248 root 258
inode 345 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 247439360 /mnt/scratch
inode 345 offset 487424 root 258
inode 345 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 247492608 /mnt/scratch
inode 345 offset 540672 root 258
inode 345 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 247607296 /mnt/scratch
inode 345 offset 655360 root 258
inode 345 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 247812096 /mnt/scratch
inode 345 offset 860160 root 258
inode 345 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 243404800 /mnt/scratch
inode 345 offset 901120 root 258
inode 345 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 247857152 /mnt/scratch
inode 345 offset 905216 root 258
inode 345 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 244875264 /mnt/scratch
inode 345 offset 970752 root 258
inode 345 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 247926784 /mnt/scratch
inode 345 offset 974848 root 258
inode 345 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
345
# /bin/btrfs inspect-internal logical-resolve -P 269578240 /mnt/scratch
inode 345 offset 1961984 root 258
inode 345 offset 1961984 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/d115/f1a6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138 is 2417980 (591 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      100..     103:      63449..     63452:      4:        100: shared
   1:      146..     146:       3102..      3102:      1:      63495: shared
   2:      171..     191:      67969..     67989:     21:       3127: shared
   3:      249..     254:       5105..      5110:      6:      68047: shared
   4:      261..     261:       3103..      3103:      1:       5117: shared
   5:      320..     325:       3095..      3100:      6:       3162: shared
   6:      379..     472:       3902..      3995:     94:       3154: unwritten,shared
   7:      473..     484:       3996..      4007:     12:             shared
   8:      485..     590:       4008..      4113:    106:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138: 7 extents found
after filter: 259887104#16384#409600#shared 12705792#4096#598016#shared 278401024#86016#700416#shared 20910080#24576#1019904#shared 12709888#4096#1069056#shared 12677120#24576#1310720#shared 15982592#385024#1552384#unwritten,shared 16367616#49152#1937408#shared 16416768#434176#1986560#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
264
# /bin/btrfs inspect-internal logical-resolve -P 259887104 /mnt/scratch
inode 264 offset 409600 root 258
inode 264 offset 409600 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
264
# /bin/btrfs inspect-internal logical-resolve -P 12705792 /mnt/scratch
inode 264 offset 598016 root 258
inode 264 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
264
# /bin/btrfs inspect-internal logical-resolve -P 278401024 /mnt/scratch
inode 264 offset 700416 root 258
inode 264 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
264
# /bin/btrfs inspect-internal logical-resolve -P 20910080 /mnt/scratch
inode 264 offset 1019904 root 258
inode 264 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512338758
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
264
# /bin/btrfs inspect-internal logical-resolve -P 12709888 /mnt/scratch
inode 264 offset 1069056 root 258
inode 264 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
264
# /bin/btrfs inspect-internal logical-resolve -P 12677120 /mnt/scratch
inode 264 offset 1310720 root 258
inode 264 offset 1310720 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
264
# /bin/btrfs inspect-internal logical-resolve -P 15982592 /mnt/scratch
inode 264 offset 1552384 root 258
inode 264 offset 1552384 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
264
# /bin/btrfs inspect-internal logical-resolve -P 16367616 /mnt/scratch
inode 264 offset 1937408 root 258
inode 264 offset 1937408 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
264
# /bin/btrfs inspect-internal logical-resolve -P 16416768 /mnt/scratch
inode 264 offset 1986560 root 258
inode 264 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f138
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53 is 1269760 (310 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      142..     156:      64748..     64762:     15:        142: shared
   1:      217..     241:      63341..     63365:     25:      64823: shared
   2:      279..     289:       3786..      3796:     11:      63403: shared
   3:      290..     300:      64837..     64847:     11:       3797: shared
   4:      301..     309:       3808..      3816:      9:      64848: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53: 5 extents found
after filter: 265207808#61440#581632#shared 259444736#102400#888832#shared 15507456#45056#1142784#shared 265572352#45056#1187840#shared 15597568#36864#1232896#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
327
# /bin/btrfs inspect-internal logical-resolve -P 265207808 /mnt/scratch
inode 327 offset 581632 root 258
inode 327 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
327
# /bin/btrfs inspect-internal logical-resolve -P 259444736 /mnt/scratch
inode 327 offset 888832 root 258
inode 327 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
327
# /bin/btrfs inspect-internal logical-resolve -P 15507456 /mnt/scratch
inode 327 offset 1142784 root 258
inode 327 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
327
# /bin/btrfs inspect-internal logical-resolve -P 265572352 /mnt/scratch
inode 327 offset 1187840 root 258
inode 327 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
327
# /bin/btrfs inspect-internal logical-resolve -P 15597568 /mnt/scratch
inode 327 offset 1232896 root 258
inode 327 offset 1232896 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f53
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f19e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f19e is 200704 (49 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       42..      48:      65126..     65132:      7:         42: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f19e: 1 extent found
after filter: 266756096#28672#172032#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f19e
571
# /bin/btrfs inspect-internal logical-resolve -P 266756096 /mnt/scratch
inode 571 offset 172032 root 258
inode 571 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 571 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/f19e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/f151
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/f151 is 607771 (149 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       68..      73:       3770..      3775:      6:         68: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/f151: 1 extent found
after filter: 15441920#24576#278528#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/f151
422
# /bin/btrfs inspect-internal logical-resolve -P 15441920 /mnt/scratch
inode 422 offset 278528 root 258
inode 422 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/db2/f151
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/f56
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/f56 is 3403716 (831 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      35:       3843..      3850:      8:         28: shared
   1:      123..     133:      59621..     59631:     11:       3938: shared
   2:      188..     198:       5005..      5015:     11:      59686: shared
   3:      268..     269:       4304..      4305:      2:       5085: shared
   4:      365..     390:      59807..     59832:     26:       4401: shared
   5:      391..     391:      58579..     58579:      1:      59833: shared
   6:      538..     566:      66722..     66750:     29:      58726: shared
   7:      587..     616:      59719..     59748:     30:      66771: shared
   8:      624..     639:      62432..     62447:     16:      59756: unwritten,shared
   9:      640..     644:      63335..     63339:      5:      62448: shared
  10:      645..     686:      62453..     62494:     42:      63340: unwritten,shared
  11:      705..     705:       3566..      3566:      1:      62513: shared
  12:      730..     733:      59956..     59959:      4:       3591: shared
  13:      734..     763:      62540..     62569:     30:      59960: shared
  14:      804..     830:      70520..     70546:     27:      62610: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/f56: 15 extents found
after filter: 15740928#32768#114688#shared 244207616#45056#503808#shared 20500480#45056#770048#shared 17629184#8192#1097728#shared 244969472#106496#1495040#shared 239939584#4096#1601536#shared 273293312#118784#2203648#shared 244609024#122880#2404352#shared 255721472#65536#2555904#unwritten,shared 259420160#20480#2621440#shared 255807488#172032#2641920#unwritten,shared 14606336#4096#2887680#shared 245579776#16384#2990080#shared 256163840#122880#3006464#shared 288849920#110592#3293184#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 15740928 /mnt/scratch
inode 311 offset 114688 root 258
inode 311 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 244207616 /mnt/scratch
inode 311 offset 503808 root 258
inode 311 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 20500480 /mnt/scratch
inode 311 offset 770048 root 258
inode 311 offset 770048 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 17629184 /mnt/scratch
inode 311 offset 1097728 root 258
inode 311 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 244969472 /mnt/scratch
inode 311 offset 1495040 root 258
inode 311 offset 1495040 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 239939584 /mnt/scratch
inode 311 offset 1601536 root 258
inode 311 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 273293312 /mnt/scratch
inode 311 offset 2203648 root 258
inode 311 offset 2203648 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 244609024 /mnt/scratch
inode 311 offset 2404352 root 258
inode 311 offset 2404352 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
seed = 1512310482
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 255721472 /mnt/scratch
inode 311 offset 2555904 root 258
inode 311 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 259420160 /mnt/scratch
inode 311 offset 2621440 root 258
inode 311 offset 2621440 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 255807488 /mnt/scratch
inode 311 offset 2641920 root 258
inode 311 offset 2641920 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 14606336 /mnt/scratch
inode 311 offset 2887680 root 258
inode 311 offset 2887680 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 245579776 /mnt/scratch
inode 311 offset 2990080 root 258
inode 311 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 256163840 /mnt/scratch
inode 311 offset 3006464 root 258
inode 311 offset 3006464 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/f56
311
# /bin/btrfs inspect-internal logical-resolve -P 288849920 /mnt/scratch
inode 311 offset 3293184 root 258
inode 311 offset 3293184 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52 is 4046025 (988 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      44:      59372..     59402:     31:         14: shared
   1:      214..     218:      58763..     58767:      5:      59572: shared
   2:      219..     227:      65756..     65764:      9:      58768: shared
   3:      228..     233:       3232..      3237:      6:      65765: shared
   4:      234..     238:       4295..      4299:      5:       3238: shared
   5:      239..     268:      70465..     70494:     30:       4300: shared
   6:      269..     270:       3273..      3274:      2:      70495: unwritten,shared
   7:      271..     286:       3275..      3290:     16:             shared
   8:      287..     297:       3291..      3301:     11:             unwritten,shared
   9:      298..     311:       3302..      3315:     14:             shared
  10:      312..     330:      66791..     66809:     19:       3316: shared
  11:      331..     341:      61093..     61103:     11:      66810: shared
  12:      412..     421:      59567..     59576:     10:      61174: shared
  13:      478..     480:       3490..      3492:      3:      59633: shared
  14:      499..     517:       3493..      3511:     19:             shared
  15:      565..     584:      59291..     59310:     20:       3559: shared
  16:      585..     609:      68036..     68060:     25:      59311: shared
  17:      610..     629:      67387..     67406:     20:      68061: shared
  18:      648..     677:       4250..      4279:     30:      67425: shared
  19:      678..     678:       3538..      3538:      1:       4280: shared
  20:      688..     708:      69902..     69922:     21:       3548: shared
  21:      709..     710:       4825..      4826:      2:      69923: shared
  22:      711..     721:       4703..      4713:     11:       4827: shared
  23:      784..     811:       4631..      4658:     28:       4776: shared
  24:      860..     870:      67459..     67469:     11:       4707: shared
  25:      885..     906:       4600..      4621:     22:      67484: shared
  26:      907..     915:       3734..      3742:      9:       4622: shared
  27:      916..     924:      64873..     64881:      9:       3743: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52: 24 extents found
after filter: 243187712#126976#57344#shared 240693248#20480#876544#shared 269336576#36864#897024#shared 13238272#24576#933888#shared 17592320#20480#958464#shared 288624640#122880#978944#shared 13406208#8192#1101824#unwritten,shared 13414400#65536#1110016#shared 13479936#45056#1175552#unwritten,shared 13524992#57344#1220608#shared 273575936#77824#1277952#shared 250236928#45056#1355776#shared 243986432#40960#1687552#shared 14295040#12288#1957888#shared 14307328#77824#2043904#shared 242855936#81920#2314240#shared 278675456#102400#2396160#shared 276017152#81920#2498560#shared 17408000#122880#2654208#shared 14491648#4096#2777088#shared 286318592#86016#2818048#shared 19763200#8192#2904064#shared 19263488#45056#2912256#shared 18968576#114688#3211264#shared 276312064#45056#3522560#shared 18841600#90112#3624960#shared 15294464#36864#3715072#shared 265719808#36864#3751936#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 243187712 /mnt/scratch
inode 285 offset 57344 root 258
inode 285 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 240693248 /mnt/scratch
inode 285 offset 876544 root 258
inode 285 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 269336576 /mnt/scratch
inode 285 offset 897024 root 258
inode 285 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 13238272 /mnt/scratch
inode 285 offset 933888 root 258
inode 285 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 17592320 /mnt/scratch
inode 285 offset 958464 root 258
inode 285 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 288624640 /mnt/scratch
inode 285 offset 978944 root 258
inode 285 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 13406208 /mnt/scratch
inode 285 offset 1101824 root 258
inode 285 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 13414400 /mnt/scratch
inode 285 offset 1110016 root 258
inode 285 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 13479936 /mnt/scratch
inode 285 offset 1175552 root 258
inode 285 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 13524992 /mnt/scratch
inode 285 offset 1220608 root 258
inode 285 offset 1220608 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 273575936 /mnt/scratch
inode 285 offset 1277952 root 258
inode 285 offset 1277952 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 250236928 /mnt/scratch
inode 285 offset 1355776 root 258
inode 285 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 243986432 /mnt/scratch
inode 285 offset 1687552 root 258
inode 285 offset 1687552 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 14295040 /mnt/scratch
inode 285 offset 1957888 root 258
inode 285 offset 1957888 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 14307328 /mnt/scratch
inode 285 offset 2043904 root 258
inode 285 offset 2043904 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 242855936 /mnt/scratch
inode 285 offset 2314240 root 258
inode 285 offset 2314240 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 278675456 /mnt/scratch
background rm
inode 285 offset 2396160 root 258
inode 285 offset 2396160 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 276017152 /mnt/scratch
inode 285 offset 2498560 root 258
inode 285 offset 2498560 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 17408000 /mnt/scratch
inode 285 offset 2654208 root 258
inode 285 offset 2654208 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512633191
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 14491648 /mnt/scratch
inode 285 offset 2777088 root 258
inode 285 offset 2777088 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 286318592 /mnt/scratch
inode 285 offset 2818048 root 258
inode 285 offset 2818048 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 19763200 /mnt/scratch
inode 285 offset 2904064 root 258
inode 285 offset 2904064 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 19263488 /mnt/scratch
inode 285 offset 2912256 root 258
inode 285 offset 2912256 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 18968576 /mnt/scratch
inode 285 offset 3211264 root 258
inode 285 offset 3211264 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 276312064 /mnt/scratch
inode 285 offset 3522560 root 258
inode 285 offset 3522560 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 18841600 /mnt/scratch
inode 285 offset 3624960 root 258
inode 285 offset 3624960 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 15294464 /mnt/scratch
inode 285 offset 3715072 root 258
inode 285 offset 3715072 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
285
# /bin/btrfs inspect-internal logical-resolve -P 265719808 /mnt/scratch
inode 285 offset 3751936 root 258
inode 285 offset 3751936 root 5
# /bin/btrfs inspect-internal inode-resolve 285 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f3b
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/fa7
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f52
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d107/f168
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d107/f168 is 724992 (177 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      176..     176:       3087..      3087:      1:        176: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d107/f168: 1 extent found
after filter: 12644352#4096#720896#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d107/f168
524
# /bin/btrfs inspect-internal logical-resolve -P 12644352 /mnt/scratch
inode 524 offset 720896 root 258
inode 524 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 524 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d107/f168
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164 is 1071700 (262 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      40:      67192..     67203:     12:         29: shared
   1:       41..      60:      67697..     67716:     20:      67204: shared
   2:       61..      61:      62310..     62310:      1:      67717: shared
   3:       98..     110:      68605..     68617:     13:      62347: shared
   4:      238..     261:      70547..     70570:     24:      68745: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164: 5 extents found
after filter: 275218432#49152#118784#shared 277286912#81920#167936#shared 255221760#4096#249856#shared 281006080#53248#401408#shared 288960512#98304#974848#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
521
# /bin/btrfs inspect-internal logical-resolve -P 275218432 /mnt/scratch
inode 521 offset 118784 root 258
inode 521 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 521 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
521
# /bin/btrfs inspect-internal logical-resolve -P 277286912 /mnt/scratch
inode 521 offset 167936 root 258
inode 521 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 521 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
521
# /bin/btrfs inspect-internal logical-resolve -P 255221760 /mnt/scratch
inode 521 offset 249856 root 258
inode 521 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 521 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
521
# /bin/btrfs inspect-internal logical-resolve -P 281006080 /mnt/scratch
inode 521 offset 401408 root 258
inode 521 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 521 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
521
# /bin/btrfs inspect-internal logical-resolve -P 288960512 /mnt/scratch
inode 521 offset 974848 root 258
inode 521 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 521 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f164
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f is 1404928 (343 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      19:       3754..      3764:     11:          9: shared
   1:      254..     264:      66751..     66761:     11:       3999: shared
   2:      265..     265:      61349..     61349:      1:      66762: shared
   3:      327..     342:      63658..     63673:     16:      61411: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f: 4 extents found
after filter: 15376384#45056#36864#shared 273412096#45056#1040384#shared 251285504#4096#1085440#shared 260743168#65536#1339392#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f
498
# /bin/btrfs inspect-internal logical-resolve -P 15376384 /mnt/scratch
inode 498 offset 36864 root 258
inode 498 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f
498
# /bin/btrfs inspect-internal logical-resolve -P 273412096 /mnt/scratch
inode 498 offset 1040384 root 258
inode 498 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f
498
# /bin/btrfs inspect-internal logical-resolve -P 251285504 /mnt/scratch
inode 498 offset 1085440 root 258
inode 498 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f
498
# /bin/btrfs inspect-internal logical-resolve -P 260743168 /mnt/scratch
background rm
inode 498 offset 1339392 root 258
inode 498 offset 1339392 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/f13f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185 is 783591 (192 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      42:      60718..     60742:     25:         18: shared
   1:       43..      53:       3133..      3143:     11:      60743: shared
   2:      148..     176:      64650..     64678:     29:       3238: shared
   3:      179..     179:       3231..      3231:      1:      64681: shared
   4:      181..     191:      58956..     58966:     11:       3233: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185: 5 extents found
after filter: 248700928#102400#73728#shared 12832768#45056#176128#shared 264806400#118784#606208#shared 13234176#4096#733184#shared 241483776#45056#741376#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
349
# /bin/btrfs inspect-internal logical-resolve -P 248700928 /mnt/scratch
inode 349 offset 73728 root 258
inode 349 offset 73728 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
seed = 1512181025
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
349
# /bin/btrfs inspect-internal logical-resolve -P 12832768 /mnt/scratch
inode 349 offset 176128 root 258
inode 349 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
349
# /bin/btrfs inspect-internal logical-resolve -P 264806400 /mnt/scratch
inode 349 offset 606208 root 258
inode 349 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
349
# /bin/btrfs inspect-internal logical-resolve -P 13234176 /mnt/scratch
inode 349 offset 733184 root 258
inode 349 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
349
# /bin/btrfs inspect-internal logical-resolve -P 241483776 /mnt/scratch
inode 349 offset 741376 root 258
inode 349 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d119/d167/f185
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f1a4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f1a4 is 782336 (191 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      165..     190:      68082..     68107:     26:        165: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f1a4: 1 extent found
after filter: 278863872#106496#675840#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f1a4
577
# /bin/btrfs inspect-internal logical-resolve -P 278863872 /mnt/scratch
inode 577 offset 675840 root 258
inode 577 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 577 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/f1a4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/f110
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/f110 is 2670592 (652 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       33..      56:      63686..     63709:     24:         33: shared
   1:       57..      64:      65000..     65007:      8:      63710: shared
   2:       93..     104:      65018..     65029:     12:      65036: shared
   3:      105..     105:      59903..     59903:      1:      65030: shared
   4:      182..     206:      66225..     66249:     25:      59980: shared
   5:      328..     334:      65052..     65058:      7:      66371: shared
   6:      335..     335:      61003..     61003:      1:      65059: shared
   7:      463..     466:       3075..      3078:      4:      61131: shared
   8:      627..     651:      62783..     62807:     25:       3239: last,shared,eof
/mnt/scratch/snap1/p0/d4/f110: 9 extents found
after filter: 260857856#98304#135168#shared 266240000#32768#233472#shared 266313728#49152#380928#shared 245362688#4096#430080#shared 271257600#102400#745472#shared 266452992#28672#1343488#shared 249868288#4096#1372160#shared 12595200#16384#1896448#shared 257159168#102400#2568192#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/f110
463
# /bin/btrfs inspect-internal logical-resolve -P 260857856 /mnt/scratch
inode 463 offset 135168 root 258
inode 463 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f110
# stat -c %i /mnt/scratch/snap1/p0/d4/f110
463
# /bin/btrfs inspect-internal logical-resolve -P 266240000 /mnt/scratch
inode 463 offset 233472 root 258
inode 463 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f110
# stat -c %i /mnt/scratch/snap1/p0/d4/f110
463
# /bin/btrfs inspect-internal logical-resolve -P 266313728 /mnt/scratch
inode 463 offset 380928 root 258
inode 463 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f110
# stat -c %i /mnt/scratch/snap1/p0/d4/f110
463
# /bin/btrfs inspect-internal logical-resolve -P 245362688 /mnt/scratch
inode 463 offset 430080 root 258
inode 463 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f110
# stat -c %i /mnt/scratch/snap1/p0/d4/f110
463
# /bin/btrfs inspect-internal logical-resolve -P 271257600 /mnt/scratch
inode 463 offset 745472 root 258
inode 463 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f110
# stat -c %i /mnt/scratch/snap1/p0/d4/f110
463
# /bin/btrfs inspect-internal logical-resolve -P 266452992 /mnt/scratch
inode 463 offset 1343488 root 258
inode 463 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f110
# stat -c %i /mnt/scratch/snap1/p0/d4/f110
463
# /bin/btrfs inspect-internal logical-resolve -P 249868288 /mnt/scratch
inode 463 offset 1372160 root 258
inode 463 offset 1372160 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f110
# stat -c %i /mnt/scratch/snap1/p0/d4/f110
463
# /bin/btrfs inspect-internal logical-resolve -P 12595200 /mnt/scratch
inode 463 offset 1896448 root 258
inode 463 offset 1896448 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f110
# stat -c %i /mnt/scratch/snap1/p0/d4/f110
463
# /bin/btrfs inspect-internal logical-resolve -P 257159168 /mnt/scratch
inode 463 offset 2568192 root 258
inode 463 offset 2568192 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f110
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5 is 3403716 (831 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      35:       3843..      3850:      8:         28: shared
   1:      123..     133:      59621..     59631:     11:       3938: shared
   2:      188..     198:       5005..      5015:     11:      59686: shared
   3:      268..     269:       4304..      4305:      2:       5085: shared
   4:      365..     390:      59807..     59832:     26:       4401: shared
   5:      391..     391:      58579..     58579:      1:      59833: shared
   6:      538..     566:      66722..     66750:     29:      58726: shared
   7:      587..     616:      59719..     59748:     30:      66771: shared
   8:      624..     639:      62432..     62447:     16:      59756: unwritten,shared
   9:      640..     644:      63335..     63339:      5:      62448: shared
  10:      645..     686:      62453..     62494:     42:      63340: unwritten,shared
  11:      705..     705:       3566..      3566:      1:      62513: shared
  12:      730..     733:      59956..     59959:      4:       3591: shared
  13:      734..     763:      62540..     62569:     30:      59960: shared
  14:      804..     830:      70520..     70546:     27:      62610: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5: 15 extents found
after filter: 15740928#32768#114688#shared 244207616#45056#503808#shared 20500480#45056#770048#shared 17629184#8192#1097728#shared 244969472#106496#1495040#shared 239939584#4096#1601536#shared 273293312#118784#2203648#shared 244609024#122880#2404352#shared 255721472#65536#2555904#unwritten,shared 259420160#20480#2621440#shared 255807488#172032#2641920#unwritten,shared 14606336#4096#2887680#shared 245579776#16384#2990080#shared 256163840#122880#3006464#shared 288849920#110592#3293184#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 15740928 /mnt/scratch
inode 311 offset 114688 root 258
inode 311 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 244207616 /mnt/scratch
inode 311 offset 503808 root 258
inode 311 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 20500480 /mnt/scratch
inode 311 offset 770048 root 258
inode 311 offset 770048 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 17629184 /mnt/scratch
inode 311 offset 1097728 root 258
inode 311 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 244969472 /mnt/scratch
inode 311 offset 1495040 root 258
inode 311 offset 1495040 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 239939584 /mnt/scratch
inode 311 offset 1601536 root 258
inode 311 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 273293312 /mnt/scratch
inode 311 offset 2203648 root 258
inode 311 offset 2203648 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 244609024 /mnt/scratch
inode 311 offset 2404352 root 258
inode 311 offset 2404352 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 255721472 /mnt/scratch
inode 311 offset 2555904 root 258
inode 311 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 259420160 /mnt/scratch
inode 311 offset 2621440 root 258
inode 311 offset 2621440 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 255807488 /mnt/scratch
inode 311 offset 2641920 root 258
inode 311 offset 2641920 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 14606336 /mnt/scratch
inode 311 offset 2887680 root 258
inode 311 offset 2887680 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 245579776 /mnt/scratch
inode 311 offset 2990080 root 258
inode 311 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 256163840 /mnt/scratch
inode 311 offset 3006464 root 258
inode 311 offset 3006464 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
311
# /bin/btrfs inspect-internal logical-resolve -P 288849920 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 311 offset 3293184 root 258
inode 311 offset 3293184 root 5
seed = 1512572346
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/fbb
/mnt/scratch/snap1/p0/d4/da/d50/f56
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f143
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/d1a9/d192/f1c5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f157
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f157 is 2019328 (493 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      193..     221:      67914..     67942:     29:        193: shared
   1:      464..     492:      68439..     68467:     29:      68185: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f157: 2 extents found
after filter: 278175744#118784#790528#shared 280326144#118784#1900544#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f157
513
# /bin/btrfs inspect-internal logical-resolve -P 278175744 /mnt/scratch
inode 513 offset 790528 root 258
inode 513 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 513 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f157
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f157
513
# /bin/btrfs inspect-internal logical-resolve -P 280326144 /mnt/scratch
inode 513 offset 1900544 root 258
inode 513 offset 1900544 root 5
# /bin/btrfs inspect-internal inode-resolve 513 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/f157
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a is 1495673 (366 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      131..     146:      65766..     65781:     16:        131: shared
   1:      147..     147:      58568..     58568:      1:      65782: shared
   2:      223..     253:      68133..     68163:     31:      58644: shared
   3:      254..     254:      62428..     62428:      1:      68164: shared
   4:      349..     365:      70571..     70587:     17:      62523: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a: 5 extents found
after filter: 269377536#65536#536576#shared 239894528#4096#602112#shared 279072768#126976#913408#shared 255705088#4096#1040384#shared 289058816#69632#1429504#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
483
# /bin/btrfs inspect-internal logical-resolve -P 269377536 /mnt/scratch
inode 483 offset 536576 root 258
inode 483 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
483
# /bin/btrfs inspect-internal logical-resolve -P 239894528 /mnt/scratch
inode 483 offset 602112 root 258
inode 483 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
483
# /bin/btrfs inspect-internal logical-resolve -P 279072768 /mnt/scratch
inode 483 offset 913408 root 258
inode 483 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
483
# /bin/btrfs inspect-internal logical-resolve -P 255705088 /mnt/scratch
inode 483 offset 1040384 root 258
inode 483 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
483
# /bin/btrfs inspect-internal logical-resolve -P 289058816 /mnt/scratch
inode 483 offset 1429504 root 258
inode 483 offset 1429504 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f12a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce is 991232 (242 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       1:       3073..      3073:      1:          1: shared
   1:       11..      12:      62430..     62431:      2:       3083: shared
   2:       33..      54:      63803..     63824:     22:      62452: shared
   3:       55..      62:      70611..     70618:      8:      63825: shared
   4:       63..      69:       4288..      4294:      7:      70619: shared
   5:       93..     122:      68377..     68406:     30:       4318: shared
   6:      127..     134:      63674..     63681:      8:      68411: shared
   7:      135..     135:      62808..     62808:      1:      63682: shared
   8:      233..     241:      64739..     64747:      9:      62906: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce: 9 extents found
after filter: 12587008#4096#4096#shared 255713280#8192#45056#shared 261337088#90112#135168#shared 289222656#32768#225280#shared 17563648#28672#258048#shared 280072192#122880#380928#shared 260808704#32768#520192#shared 257261568#4096#552960#shared 265170944#36864#954368#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
382
# /bin/btrfs inspect-internal logical-resolve -P 12587008 /mnt/scratch
inode 382 offset 4096 root 258
inode 382 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
382
# /bin/btrfs inspect-internal logical-resolve -P 255713280 /mnt/scratch
inode 382 offset 45056 root 258
inode 382 offset 45056 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
382
# /bin/btrfs inspect-internal logical-resolve -P 261337088 /mnt/scratch
inode 382 offset 135168 root 258
inode 382 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
382
# /bin/btrfs inspect-internal logical-resolve -P 289222656 /mnt/scratch
inode 382 offset 225280 root 258
inode 382 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
382
# /bin/btrfs inspect-internal logical-resolve -P 17563648 /mnt/scratch
inode 382 offset 258048 root 258
inode 382 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
382
# /bin/btrfs inspect-internal logical-resolve -P 280072192 /mnt/scratch
inode 382 offset 380928 root 258
inode 382 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
382
# /bin/btrfs inspect-internal logical-resolve -P 260808704 /mnt/scratch
inode 382 offset 520192 root 258
inode 382 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
382
# /bin/btrfs inspect-internal logical-resolve -P 257261568 /mnt/scratch
inode 382 offset 552960 root 258
inode 382 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
382
# /bin/btrfs inspect-internal logical-resolve -P 265170944 /mnt/scratch
inode 382 offset 954368 root 258
inode 382 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118 is 880640 (215 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       41..      59:      67813..     67831:     19:         41: shared
   1:       60..      64:      66842..     66846:      5:      67832: shared
   2:       65..      65:      62429..     62429:      1:      66847: shared
   3:       66..     194:      66848..     66976:    129:      62430: unwritten,shared
   4:      195..     214:      66977..     66996:     20:             shared,eof
   5:      215..     248:      66997..     67030:     34:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118: 4 extents found
after filter: 277762048#77824#167936#shared 273784832#20480#245760#shared 255709184#4096#266240#shared 273809408#528384#270336#unwritten,shared 274337792#81920#798720#shared,eof 274419712#139264#880640#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
470
# /bin/btrfs inspect-internal logical-resolve -P 277762048 /mnt/scratch
inode 470 offset 167936 root 258
inode 470 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
470
# /bin/btrfs inspect-internal logical-resolve -P 273784832 /mnt/scratch
inode 470 offset 245760 root 258
inode 470 offset 245760 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
470
# /bin/btrfs inspect-internal logical-resolve -P 255709184 /mnt/scratch
inode 470 offset 266240 root 258
inode 470 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
470
# /bin/btrfs inspect-internal logical-resolve -P 273809408 /mnt/scratch
inode 470 offset 270336 root 258
inode 470 offset 270336 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512306392
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
470
# /bin/btrfs inspect-internal logical-resolve -P 274337792 /mnt/scratch
inode 470 offset 798720 root 258
inode 470 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
470
# /bin/btrfs inspect-internal logical-resolve -P 274419712 /mnt/scratch
inode 470 offset 880640 root 258
inode 470 offset 880640 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/f118
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a is 1790122 (438 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..     197:      60788..     60939:    152:         46: unwritten,shared
   1:      198..     235:      59453..     59490:     38:      60940: unwritten,shared
   2:      236..     246:      59491..     59501:     11:             shared
   3:      247..     247:      59424..     59424:      1:      59502: shared
   4:      248..     253:      59503..     59508:      6:      59425: unwritten,shared
   5:      254..     303:      63153..     63202:     50:      59509: unwritten,shared
   6:      304..     320:      63233..     63249:     17:      63203: unwritten,shared
   7:      406..     434:      66810..     66838:     29:      63335: shared
   8:      435..     437:      64976..     64978:      3:      66839: shared,eof
   9:      464..     679:      64406..     64621:    216:      65005: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a: 9 extents found
after filter: 248987648#622592#188416#unwritten,shared 243519488#155648#811008#unwritten,shared 243675136#45056#966656#shared 243400704#4096#1011712#shared 243724288#24576#1015808#unwritten,shared 258674688#204800#1040384#unwritten,shared 259002368#69632#1245184#unwritten,shared 273653760#118784#1662976#shared 266141696#12288#1781760#shared,eof 263806976#884736#1900544#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 248987648 /mnt/scratch
inode 333 offset 188416 root 258
inode 333 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 243519488 /mnt/scratch
inode 333 offset 811008 root 258
inode 333 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 243675136 /mnt/scratch
inode 333 offset 966656 root 258
inode 333 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 243400704 /mnt/scratch
inode 333 offset 1011712 root 258
inode 333 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 243724288 /mnt/scratch
inode 333 offset 1015808 root 258
inode 333 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 258674688 /mnt/scratch
inode 333 offset 1040384 root 258
inode 333 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 259002368 /mnt/scratch
inode 333 offset 1245184 root 258
inode 333 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 273653760 /mnt/scratch
inode 333 offset 1662976 root 258
inode 333 offset 1662976 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 266141696 /mnt/scratch
inode 333 offset 1781760 root 258
inode 333 offset 1781760 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
333
# /bin/btrfs inspect-internal logical-resolve -P 263806976 /mnt/scratch
inode 333 offset 1900544 root 258
inode 333 offset 1900544 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/f5a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5 is 2049601 (501 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       31..      33:      62939..     62941:      3:         31: shared
   1:       34..      34:      58819..     58819:      1:      62942: shared
   2:      232..     251:      61104..     61123:     20:      59017: shared
   3:      483..     500:      70658..     70675:     18:      61355: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5: 4 extents found
after filter: 257798144#12288#126976#shared 240922624#4096#139264#shared 250281984#81920#950272#shared 289415168#73728#1978368#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5
519
# /bin/btrfs inspect-internal logical-resolve -P 257798144 /mnt/scratch
inode 519 offset 126976 root 258
inode 519 offset 126976 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5
519
# /bin/btrfs inspect-internal logical-resolve -P 240922624 /mnt/scratch
inode 519 offset 139264 root 258
inode 519 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5
519
# /bin/btrfs inspect-internal logical-resolve -P 250281984 /mnt/scratch
inode 519 offset 950272 root 258
inode 519 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5
519
# /bin/btrfs inspect-internal logical-resolve -P 289415168 /mnt/scratch
inode 519 offset 1978368 root 258
inode 519 offset 1978368 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1a5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8 is 900393 (220 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       43..      44:      65839..     65840:      2:         43: shared
   1:       45..      45:      59426..     59426:      1:      65841: shared
   2:      174..     199:      63556..     63581:     26:      59555: shared
   3:      210..     219:      68315..     68324:     10:      63592: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8: 4 extents found
after filter: 269676544#8192#176128#shared 243408896#4096#184320#shared 260325376#106496#712704#shared 279818240#40960#860160#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8
387
# /bin/btrfs inspect-internal logical-resolve -P 269676544 /mnt/scratch
inode 387 offset 176128 root 258
inode 387 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8
387
# /bin/btrfs inspect-internal logical-resolve -P 243408896 /mnt/scratch
inode 387 offset 184320 root 258
inode 387 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8
387
# /bin/btrfs inspect-internal logical-resolve -P 260325376 /mnt/scratch
inode 387 offset 712704 root 258
inode 387 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8
387
# /bin/btrfs inspect-internal logical-resolve -P 279818240 /mnt/scratch
inode 387 offset 860160 root 258
inode 387 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/de4/fa8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f179
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f179 is 1951835 (477 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      21:      67718..     67732:     15:          7: shared
   1:      239..     243:       3765..      3769:      5:      67950: shared
   2:      467..     476:      70627..     70636:     10:       3993: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f179: 3 extents found
after filter: 277372928#61440#28672#shared 15421440#20480#978944#shared 289288192#40960#1912832#last,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f179
seed = 1512826594
539
# /bin/btrfs inspect-internal logical-resolve -P 277372928 /mnt/scratch
inode 539 offset 28672 root 258
inode 539 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 539 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f179
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f179
539
# /bin/btrfs inspect-internal logical-resolve -P 15421440 /mnt/scratch
inode 539 offset 978944 root 258
inode 539 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 539 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f179
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f179
539
# /bin/btrfs inspect-internal logical-resolve -P 289288192 /mnt/scratch
inode 539 offset 1912832 root 258
inode 539 offset 1912832 root 5
# /bin/btrfs inspect-internal inode-resolve 539 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f179
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/daa/f1d1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/daa/f1d1 is 104555 (26 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      24:      67832..     67851:     20:          5: shared
   1:       25..      25:      61232..     61232:      1:      67852: shared,eof
   2:       26..      39:      69888..     69901:     14:      61233: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/daa/f1d1: 3 extents found
after filter: 277839872#81920#20480#shared 250806272#4096#102400#shared,eof 286261248#57344#106496#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/f1d1
531
# /bin/btrfs inspect-internal logical-resolve -P 277839872 /mnt/scratch
inode 531 offset 20480 root 258
inode 531 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/f1d1
531
# /bin/btrfs inspect-internal logical-resolve -P 250806272 /mnt/scratch
inode 531 offset 102400 root 258
inode 531 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/f1d1
# stat -c %i /mnt/scratch/snap1/p0/d4/da/daa/f1d1
531
# /bin/btrfs inspect-internal logical-resolve -P 286261248 /mnt/scratch
inode 531 offset 106496 root 258
inode 531 offset 106496 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/daa/f1d1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/fc6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/fc6 is 1698343 (415 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      41:      62243..     62244:      2:         40: shared
   1:       42..      55:      61379..     61392:     14:      62245: shared
   2:       56..      57:      62259..     62260:      2:      61393: shared
   3:       58..      71:      59403..     59416:     14:      62261: shared
   4:      131..     148:      63366..     63383:     18:      59476: shared
   5:      273..     291:      63041..     63059:     19:      63508: shared
   6:      292..     292:      62849..     62849:      1:      63060: shared
   7:      398..     414:      70773..     70789:     17:      62955: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/fc6: 8 extents found
after filter: 254947328#8192#163840#shared 251408384#57344#172032#shared 255012864#8192#229376#shared 243314688#57344#237568#shared 259547136#73728#536576#shared 258215936#77824#1118208#shared 257429504#4096#1196032#shared 289886208#69632#1630208#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/fc6
406
# /bin/btrfs inspect-internal logical-resolve -P 254947328 /mnt/scratch
inode 406 offset 163840 root 258
inode 406 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/fc6
406
# /bin/btrfs inspect-internal logical-resolve -P 251408384 /mnt/scratch
inode 406 offset 172032 root 258
inode 406 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/fc6
406
# /bin/btrfs inspect-internal logical-resolve -P 255012864 /mnt/scratch
inode 406 offset 229376 root 258
inode 406 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/fc6
406
# /bin/btrfs inspect-internal logical-resolve -P 243314688 /mnt/scratch
inode 406 offset 237568 root 258
inode 406 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/fc6
406
# /bin/btrfs inspect-internal logical-resolve -P 259547136 /mnt/scratch
inode 406 offset 536576 root 258
inode 406 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/fc6
406
# /bin/btrfs inspect-internal logical-resolve -P 258215936 /mnt/scratch
inode 406 offset 1118208 root 258
inode 406 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/fc6
406
# /bin/btrfs inspect-internal logical-resolve -P 257429504 /mnt/scratch
inode 406 offset 1196032 root 258
inode 406 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/fc6
406
# /bin/btrfs inspect-internal logical-resolve -P 289886208 /mnt/scratch
inode 406 offset 1630208 root 258
inode 406 offset 1630208 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/fc6
/mnt/scratch/snap1/p0/d4/da/d7f/fd7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69 is 3435560 (839 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      21:      68574..     68586:     13:          9: shared
   1:       36..      41:      61005..     61010:      6:      68601: unwritten,shared
   2:       42..      56:      61011..     61025:     15:             shared
   3:       57..     101:      61026..     61070:     45:             unwritten,shared
   4:      102..     114:      61071..     61083:     13:             shared
   5:      115..     115:       3230..      3230:      1:      61084: shared
   6:      229..     249:       3817..      3837:     21:       3344: shared
   7:      250..     264:       3178..      3192:     15:       3838: shared
   8:      326..     344:      59936..     59954:     19:       3254: shared
   9:      345..     345:      58762..     58762:      1:      59955: shared
  10:      458..     477:      60968..     60987:     20:      58875: shared
  11:      478..     478:      58575..     58575:      1:      60988: shared
  12:      633..     634:       5114..      5115:      2:      58730: shared
  13:      723..     741:      58967..     58985:     19:       5204: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69: 11 extents found
after filter: 280879104#53248#36864#shared 249876480#24576#147456#unwritten,shared 249901056#61440#172032#shared 249962496#184320#233472#unwritten,shared 250146816#53248#417792#shared 13230080#4096#471040#shared 15634432#86016#937984#shared 13017088#61440#1024000#shared 245497856#77824#1335296#shared 240689152#4096#1413120#shared 249724928#81920#1875968#shared 239923200#4096#1957888#shared 20946944#8192#2592768#shared 241528832#77824#2961408#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 280879104 /mnt/scratch
inode 343 offset 36864 root 258
inode 343 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 249876480 /mnt/scratch
inode 343 offset 147456 root 258
inode 343 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 249901056 /mnt/scratch
inode 343 offset 172032 root 258
inode 343 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 249962496 /mnt/scratch
inode 343 offset 233472 root 258
inode 343 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 250146816 /mnt/scratch
inode 343 offset 417792 root 258
inode 343 offset 417792 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 13230080 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 343 offset 471040 root 258
inode 343 offset 471040 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
seed = 1512927906
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 15634432 /mnt/scratch
inode 343 offset 937984 root 258
inode 343 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 13017088 /mnt/scratch
inode 343 offset 1024000 root 258
inode 343 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 245497856 /mnt/scratch
inode 343 offset 1335296 root 258
inode 343 offset 1335296 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 240689152 /mnt/scratch
inode 343 offset 1413120 root 258
inode 343 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 249724928 /mnt/scratch
inode 343 offset 1875968 root 258
inode 343 offset 1875968 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 239923200 /mnt/scratch
inode 343 offset 1957888 root 258
inode 343 offset 1957888 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 20946944 /mnt/scratch
inode 343 offset 2592768 root 258
inode 343 offset 2592768 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
343
# /bin/btrfs inspect-internal logical-resolve -P 241528832 /mnt/scratch
inode 343 offset 2961408 root 258
inode 343 offset 2961408 root 5
# /bin/btrfs inspect-internal inode-resolve 343 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f69
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0 is 1802242 (441 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       7:      63796..     63802:      7:          1: shared
   1:       18..      22:       3897..      3901:      5:      63813: shared
   2:       74..     103:      65644..     65673:     30:       3953: shared
   3:      147..     153:      64907..     64913:      7:      65717: shared
   4:      154..     175:      65674..     65695:     22:      64914: shared
   5:      176..     177:      64936..     64937:      2:      65696: shared
   6:      178..     178:      59718..     59718:      1:      64938: shared
   7:      393..     403:      62927..     62937:     11:      59933: shared
   8:      404..     404:      63340..     63340:      1:      62938: shared
   9:      425..     440:      70864..     70879:     16:      63361: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0: 10 extents found
after filter: 261308416#28672#4096#shared 15962112#20480#73728#shared 268877824#122880#303104#shared 265859072#28672#602112#shared 269000704#90112#630784#shared 265977856#8192#720896#shared 244604928#4096#729088#shared 257748992#45056#1609728#shared 259440640#4096#1654784#shared 290258944#65536#1740800#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 261308416 /mnt/scratch
inode 436 offset 4096 root 258
inode 436 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 15962112 /mnt/scratch
inode 436 offset 73728 root 258
inode 436 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 268877824 /mnt/scratch
inode 436 offset 303104 root 258
inode 436 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 265859072 /mnt/scratch
inode 436 offset 602112 root 258
inode 436 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 269000704 /mnt/scratch
inode 436 offset 630784 root 258
inode 436 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 265977856 /mnt/scratch
inode 436 offset 720896 root 258
inode 436 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 244604928 /mnt/scratch
inode 436 offset 729088 root 258
inode 436 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 257748992 /mnt/scratch
inode 436 offset 1609728 root 258
inode 436 offset 1609728 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 259440640 /mnt/scratch
inode 436 offset 1654784 root 258
inode 436 offset 1654784 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
436
# /bin/btrfs inspect-internal logical-resolve -P 290258944 /mnt/scratch
inode 436 offset 1740800 root 258
inode 436 offset 1740800 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d9e/ff0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f169
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f169 is 336643 (83 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/f169: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf is 2129920 (520 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      219..     243:      67292..     67316:     25:        219: shared
   1:      244..     248:      60940..     60944:      5:      67317: shared
   2:      249..     269:      64718..     64738:     21:      60945: shared
   3:      270..     270:      60966..     60966:      1:      64739: shared
   4:      271..     271:      58761..     58761:      1:      60967: shared
   5:      519..     519:       3092..      3092:      1:      59009: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf: 6 extents found
after filter: 275628032#102400#897024#shared 249610240#20480#999424#shared 265084928#86016#1019904#shared 249716736#4096#1105920#shared 240685056#4096#1110016#shared 12664832#4096#2125824#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 275628032 /mnt/scratch
inode 401 offset 897024 root 258
inode 401 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512167688
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 249610240 /mnt/scratch
inode 401 offset 999424 root 258
inode 401 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 265084928 /mnt/scratch
inode 401 offset 1019904 root 258
inode 401 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 249716736 /mnt/scratch
inode 401 offset 1105920 root 258
inode 401 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 240685056 /mnt/scratch
inode 401 offset 1110016 root 258
inode 401 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 12664832 /mnt/scratch
inode 401 offset 2125824 root 258
inode 401 offset 2125824 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fbf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f is 3526656 (861 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       47..      66:       3437..      3456:     20:         47: shared
   1:      141..     142:      58504..     58505:      2:       3531: shared
   2:      152..     154:       3211..      3213:      3:      58515: shared
   3:      290..     312:      62220..     62242:     23:       3349: shared
   4:      414..     445:      66453..     66484:     32:      62344: unwritten,shared
   5:      446..     455:      66274..     66283:     10:      66485: shared
   6:      456..     456:      58490..     58490:      1:      66284: shared
   7:      457..     504:      66485..     66532:     48:      58491: unwritten,shared
   8:      505..     519:      66533..     66547:     15:             shared
   9:      520..     531:      67252..     67263:     12:      66548: shared
  10:      532..     543:      66560..     66571:     12:      67264: shared
  11:      544..     634:      66572..     66662:     91:             unwritten,shared
  12:      635..     635:      66663..     66663:      1:             shared
  13:      835..     860:      67943..     67968:     26:      66863: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f: 11 extents found
after filter: 14077952#81920#192512#shared 239632384#8192#577536#shared 13152256#12288#622592#shared 254853120#94208#1187840#shared 272191488#131072#1695744#unwritten,shared 271458304#40960#1826816#shared 239575040#4096#1867776#shared 272322560#196608#1871872#unwritten,shared 272519168#61440#2068480#shared 275464192#49152#2129920#shared 272629760#49152#2179072#shared 272678912#372736#2228224#unwritten,shared 273051648#4096#2600960#shared 278294528#106496#3420160#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 14077952 /mnt/scratch
inode 348 offset 192512 root 258
inode 348 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 239632384 /mnt/scratch
inode 348 offset 577536 root 258
inode 348 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 13152256 /mnt/scratch
inode 348 offset 622592 root 258
inode 348 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 254853120 /mnt/scratch
inode 348 offset 1187840 root 258
inode 348 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 272191488 /mnt/scratch
inode 348 offset 1695744 root 258
inode 348 offset 1695744 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 271458304 /mnt/scratch
inode 348 offset 1826816 root 258
inode 348 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 239575040 /mnt/scratch
inode 348 offset 1867776 root 258
inode 348 offset 1867776 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 272322560 /mnt/scratch
inode 348 offset 1871872 root 258
inode 348 offset 1871872 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 272519168 /mnt/scratch
inode 348 offset 2068480 root 258
inode 348 offset 2068480 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 275464192 /mnt/scratch
inode 348 offset 2129920 root 258
inode 348 offset 2129920 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 272629760 /mnt/scratch
inode 348 offset 2179072 root 258
inode 348 offset 2179072 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 272678912 /mnt/scratch
inode 348 offset 2228224 root 258
inode 348 offset 2228224 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 273051648 /mnt/scratch
inode 348 offset 2600960 root 258
inode 348 offset 2600960 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
348
# /bin/btrfs inspect-internal logical-resolve -P 278294528 /mnt/scratch
inode 348 offset 3420160 root 258
inode 348 offset 3420160 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f6f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f136
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f136 is 876544 (214 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      27:       3227..      3227:      1:         27: shared
   1:      101..     132:      67781..     67812:     32:       3301: shared
   2:      195..     213:      67440..     67458:     19:      67875: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f136: 3 extents found
after filter: 13217792#4096#110592#shared 277630976#131072#413696#shared 276234240#77824#798720#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f136
492
# /bin/btrfs inspect-internal logical-resolve -P 13217792 /mnt/scratch
inode 492 offset 110592 root 258
inode 492 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f136
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f136
492
# /bin/btrfs inspect-internal logical-resolve -P 277630976 /mnt/scratch
inode 492 offset 413696 root 258
inode 492 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f136
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f136
492
# /bin/btrfs inspect-internal logical-resolve -P 276234240 /mnt/scratch
inode 492 offset 798720 root 258
inode 492 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f136
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512923983
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d150/f1be
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d150/f1be is 746149 (183 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      140..     163:      69036..     69059:     24:        140: unwritten,shared
   1:      164..     182:      70790..     70808:     19:      69060: shared,eof
   2:      183..     257:      69079..     69153:     75:      70809: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d150/f1be: 3 extents found
after filter: 282771456#98304#573440#unwritten,shared 289955840#77824#671744#shared,eof 282947584#307200#749568#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d150/f1be
595
# /bin/btrfs inspect-internal logical-resolve -P 282771456 /mnt/scratch
inode 595 offset 573440 root 258
inode 595 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 595 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d150/f1be
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d150/f1be
595
# /bin/btrfs inspect-internal logical-resolve -P 289955840 /mnt/scratch
inode 595 offset 671744 root 258
inode 595 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 595 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d150/f1be
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d150/f1be
595
# /bin/btrfs inspect-internal logical-resolve -P 282947584 /mnt/scratch
inode 595 offset 749568 root 258
inode 595 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 595 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d150/f1be
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f148
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f148 is 1519022 (371 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      117..     134:      66141..     66158:     18:        117: shared
   1:      135..     135:      61393..     61393:      1:      66159: shared
   2:      348..     370:      67229..     67251:     23:      61606: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f148: 3 extents found
after filter: 270913536#73728#479232#shared 251465728#4096#552960#shared 275369984#94208#1425408#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f148
502
# /bin/btrfs inspect-internal logical-resolve -P 270913536 /mnt/scratch
inode 502 offset 479232 root 258
inode 502 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 502 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f148
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f148
502
# /bin/btrfs inspect-internal logical-resolve -P 251465728 /mnt/scratch
inode 502 offset 552960 root 258
inode 502 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 502 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f148
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f148
502
# /bin/btrfs inspect-internal logical-resolve -P 275369984 /mnt/scratch
inode 502 offset 1425408 root 258
inode 502 offset 1425408 root 5
# /bin/btrfs inspect-internal inode-resolve 502 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f148
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/fd2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/fd2 is 258002 (63 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..      12:      59834..     59846:     13:             shared
   1:       13..      19:      64939..     64945:      7:      59847: shared
   2:       20..      40:      68061..     68081:     21:      64946: shared
   3:       54..      62:      63763..     63771:      9:      68095: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/fd2: 4 extents found
after filter: 245080064#53248#0#shared 265990144#28672#53248#shared 278777856#86016#81920#shared 261173248#36864#221184#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/fd2
414
# /bin/btrfs inspect-internal logical-resolve -P 245080064 /mnt/scratch
inode 414 offset 0 root 258
inode 414 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/fd2
# stat -c %i /mnt/scratch/snap1/p0/d4/da/fd2
414
# /bin/btrfs inspect-internal logical-resolve -P 265990144 /mnt/scratch
inode 414 offset 53248 root 258
inode 414 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/fd2
# stat -c %i /mnt/scratch/snap1/p0/d4/da/fd2
414
# /bin/btrfs inspect-internal logical-resolve -P 278777856 /mnt/scratch
inode 414 offset 81920 root 258
inode 414 offset 81920 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/fd2
# stat -c %i /mnt/scratch/snap1/p0/d4/da/fd2
414
# /bin/btrfs inspect-internal logical-resolve -P 261173248 /mnt/scratch
inode 414 offset 221184 root 258
inode 414 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/fd2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0 is 991232 (242 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       1:       3073..      3073:      1:          1: shared
   1:       11..      12:      62430..     62431:      2:       3083: shared
   2:       33..      54:      63803..     63824:     22:      62452: shared
   3:       55..      62:      70611..     70618:      8:      63825: shared
   4:       63..      69:       4288..      4294:      7:      70619: shared
   5:       93..     122:      68377..     68406:     30:       4318: shared
   6:      127..     134:      63674..     63681:      8:      68411: shared
   7:      135..     135:      62808..     62808:      1:      63682: shared
   8:      233..     241:      64739..     64747:      9:      62906: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0: 9 extents found
after filter: 12587008#4096#4096#shared 255713280#8192#45056#shared 261337088#90112#135168#shared 289222656#32768#225280#shared 17563648#28672#258048#shared 280072192#122880#380928#shared 260808704#32768#520192#shared 257261568#4096#552960#shared 265170944#36864#954368#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
382
# /bin/btrfs inspect-internal logical-resolve -P 12587008 /mnt/scratch
inode 382 offset 4096 root 258
inode 382 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
382
# /bin/btrfs inspect-internal logical-resolve -P 255713280 /mnt/scratch
inode 382 offset 45056 root 258
inode 382 offset 45056 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
382
# /bin/btrfs inspect-internal logical-resolve -P 261337088 /mnt/scratch
inode 382 offset 135168 root 258
inode 382 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
382
# /bin/btrfs inspect-internal logical-resolve -P 289222656 /mnt/scratch
inode 382 offset 225280 root 258
inode 382 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
382
# /bin/btrfs inspect-internal logical-resolve -P 17563648 /mnt/scratch
inode 382 offset 258048 root 258
inode 382 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
382
# /bin/btrfs inspect-internal logical-resolve -P 280072192 /mnt/scratch
inode 382 offset 380928 root 258
inode 382 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
382
# /bin/btrfs inspect-internal logical-resolve -P 260808704 /mnt/scratch
inode 382 offset 520192 root 258
inode 382 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
382
# /bin/btrfs inspect-internal logical-resolve -P 257261568 /mnt/scratch
inode 382 offset 552960 root 258
inode 382 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
382
# /bin/btrfs inspect-internal logical-resolve -P 265170944 /mnt/scratch
inode 382 offset 954368 root 258
inode 382 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/fa0
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/d7d/ddd/f1ce
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/ff8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32 is 1433600 (350 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       32..      32:       3470..      3470:      1:         32: shared
   1:       75..      84:      70648..     70657:     10:       3513: shared
   2:      101..     119:       3388..      3406:     19:      70674: unwritten,shared
   3:      120..     130:       3407..      3417:     11:             shared
   4:      131..     151:      61260..     61280:     21:       3418: shared
   5:      152..     169:      59235..     59252:     18:      61281: shared
   6:      170..     170:      58820..     58820:      1:      59253: shared
   7:      327..     335:       3569..      3577:      9:      58977: shared
   8:      345..     349:       4525..      4529:      5:       3587: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32: 8 extents found
after filter: 14213120#4096#131072#shared 289374208#40960#307200#shared 13877248#77824#413696#unwritten,shared 13955072#45056#491520#shared 250920960#86016#536576#shared 242626560#73728#622592#shared 240926720#4096#696320#shared 14618624#36864#1339392#shared 18534400#20480#1413120#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
300
# /bin/btrfs inspect-internal logical-resolve -P 14213120 /mnt/scratch
background rm
inode 300 offset 131072 root 258
inode 300 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
300
# /bin/btrfs inspect-internal logical-resolve -P 289374208 /mnt/scratch
inode 300 offset 307200 root 258
inode 300 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512365132
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
300
# /bin/btrfs inspect-internal logical-resolve -P 13877248 /mnt/scratch
inode 300 offset 413696 root 258
inode 300 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
300
# /bin/btrfs inspect-internal logical-resolve -P 13955072 /mnt/scratch
inode 300 offset 491520 root 258
inode 300 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
300
# /bin/btrfs inspect-internal logical-resolve -P 250920960 /mnt/scratch
inode 300 offset 536576 root 258
inode 300 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
300
# /bin/btrfs inspect-internal logical-resolve -P 242626560 /mnt/scratch
inode 300 offset 622592 root 258
inode 300 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
300
# /bin/btrfs inspect-internal logical-resolve -P 240926720 /mnt/scratch
inode 300 offset 696320 root 258
inode 300 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
300
# /bin/btrfs inspect-internal logical-resolve -P 14618624 /mnt/scratch
inode 300 offset 1339392 root 258
inode 300 offset 1339392 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
300
# /bin/btrfs inspect-internal logical-resolve -P 18534400 /mnt/scratch
inode 300 offset 1413120 root 258
inode 300 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f32
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac is 1400832 (342 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       19..      23:       4777..      4781:      5:         19: shared
   1:       88..     228:      64085..     64225:    141:       4846: unwritten,shared
   2:      229..     232:       3626..      3629:      4:      64226: shared
   3:      233..     323:      64226..     64316:     91:       3630: unwritten,shared
   4:      324..     341:      64317..     64334:     18:             shared,eof
   5:      342..     343:      64335..     64336:      2:             unwritten,shared,eof
   6:      351..     404:      68619..     68672:     54:      64344: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac: 5 extents found
after filter: 19566592#20480#77824#shared 262492160#577536#360448#unwritten,shared 14852096#16384#937984#shared 263069696#372736#954368#unwritten,shared 263442432#73728#1327104#shared,eof 263516160#8192#1400832#unwritten,shared,eof 281063424#221184#1437696#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
411
# /bin/btrfs inspect-internal logical-resolve -P 19566592 /mnt/scratch
inode 411 offset 77824 root 258
inode 411 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
411
# /bin/btrfs inspect-internal logical-resolve -P 262492160 /mnt/scratch
inode 411 offset 360448 root 258
inode 411 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
411
# /bin/btrfs inspect-internal logical-resolve -P 14852096 /mnt/scratch
inode 411 offset 937984 root 258
inode 411 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
411
# /bin/btrfs inspect-internal logical-resolve -P 263069696 /mnt/scratch
inode 411 offset 954368 root 258
inode 411 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
411
# /bin/btrfs inspect-internal logical-resolve -P 263442432 /mnt/scratch
inode 411 offset 1327104 root 258
inode 411 offset 1327104 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
411
# /bin/btrfs inspect-internal logical-resolve -P 263516160 /mnt/scratch
inode 411 offset 1400832 root 258
inode 411 offset 1400832 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
411
# /bin/btrfs inspect-internal logical-resolve -P 281063424 /mnt/scratch
inode 411 offset 1437696 root 258
inode 411 offset 1437696 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f1ac
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f197
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f197 is 983040 (240 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       35..      42:      70619..     70626:      8:         35: shared
   1:      170..     177:      65133..     65140:      8:      70754: shared
   2:      220..     239:      69613..     69632:     20:      65183: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f197: 3 extents found
after filter: 289255424#32768#143360#shared 266784768#32768#696320#shared 285134848#81920#901120#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f197
566
# /bin/btrfs inspect-internal logical-resolve -P 289255424 /mnt/scratch
inode 566 offset 143360 root 258
inode 566 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 566 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f197
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f197
566
# /bin/btrfs inspect-internal logical-resolve -P 266784768 /mnt/scratch
inode 566 offset 696320 root 258
inode 566 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 566 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f197
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f197
566
# /bin/btrfs inspect-internal logical-resolve -P 285134848 /mnt/scratch
inode 566 offset 901120 root 258
inode 566 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 566 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f197
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f154
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f154 is 679936 (166 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      154..     165:      69645..     69656:     12:        154: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f154: 1 extent found
after filter: 285265920#49152#630784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f154
510
# /bin/btrfs inspect-internal logical-resolve -P 285265920 /mnt/scratch
inode 510 offset 630784 root 258
inode 510 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/f154
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0 is 1920617 (469 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       11..      15:       3329..      3333:      5:         11: shared
   1:       32..      39:      62532..     62539:      8:       3350: shared
   2:       40..      60:      59756..     59776:     21:      62540: shared
   3:       61..      61:      61001..     61001:      1:      59777: shared
   4:       76..     103:      67031..     67058:     28:      61016: shared
   5:      151..     177:      66310..     66336:     27:      67106: shared
   6:      178..     178:      61228..     61228:      1:      66337: shared
   7:      256..     286:      68165..     68195:     31:      61306: shared
   8:      287..     287:      59422..     59422:      1:      68196: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0: 9 extents found
after filter: 13635584#20480#45056#shared 256131072#32768#131072#shared 244760576#86016#163840#shared 249860096#4096#249856#shared 274558976#114688#311296#shared 271605760#110592#618496#shared 250789888#4096#729088#shared 279203840#126976#1048576#shared 243392512#4096#1175552#last,shared 
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
393
# /bin/btrfs inspect-internal logical-resolve -P 13635584 /mnt/scratch
inode 393 offset 45056 root 258
inode 393 offset 45056 root 5
# /bin/btrfs inspect-internal inode-resolve 393 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
393
# /bin/btrfs inspect-internal logical-resolve -P 256131072 /mnt/scratch
inode 393 offset 131072 root 258
inode 393 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 393 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
393
# /bin/btrfs inspect-internal logical-resolve -P 244760576 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512992620
inode 393 offset 163840 root 258
inode 393 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 393 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
393
# /bin/btrfs inspect-internal logical-resolve -P 249860096 /mnt/scratch
inode 393 offset 249856 root 258
inode 393 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 393 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
393
# /bin/btrfs inspect-internal logical-resolve -P 274558976 /mnt/scratch
inode 393 offset 311296 root 258
inode 393 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 393 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
393
# /bin/btrfs inspect-internal logical-resolve -P 271605760 /mnt/scratch
inode 393 offset 618496 root 258
inode 393 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 393 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
393
# /bin/btrfs inspect-internal logical-resolve -P 250789888 /mnt/scratch
inode 393 offset 729088 root 258
inode 393 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 393 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
393
# /bin/btrfs inspect-internal logical-resolve -P 279203840 /mnt/scratch
inode 393 offset 1048576 root 258
inode 393 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 393 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
393
# /bin/btrfs inspect-internal logical-resolve -P 243392512 /mnt/scratch
inode 393 offset 1175552 root 258
inode 393 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 393 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/da3/fb0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d77/d126/f147
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d77/d126/f147 is 952734 (233 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..     166:      65869..     66028:    160:          7: unwritten,shared
   1:      186..     186:       4728..      4728:      1:      66048: shared
   2:      213..     232:      68247..     68266:     20:       4755: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d77/d126/f147: 3 extents found
after filter: 269799424#655360#28672#unwritten,shared 19365888#4096#761856#shared 279539712#81920#872448#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/d126/f147
501
# /bin/btrfs inspect-internal logical-resolve -P 269799424 /mnt/scratch
inode 501 offset 28672 root 258
inode 501 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 501 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/d126/f147
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/d126/f147
501
# /bin/btrfs inspect-internal logical-resolve -P 19365888 /mnt/scratch
inode 501 offset 761856 root 258
inode 501 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 501 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/d126/f147
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d77/d126/f147
501
# /bin/btrfs inspect-internal logical-resolve -P 279539712 /mnt/scratch
inode 501 offset 872448 root 258
inode 501 offset 872448 root 5
# /bin/btrfs inspect-internal inode-resolve 501 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d77/d126/f147
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9 is 2584576 (631 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      181..     187:       4721..      4727:      7:        181: shared
   1:      242..     242:       3094..      3094:      1:       4782: shared
   2:      300..     331:      67407..     67438:     32:       3152: shared
   3:      332..     332:      61394..     61394:      1:      67439: shared
   4:      392..     422:      67750..     67780:     31:      61454: shared
   5:      616..     630:      70287..     70301:     15:      67974: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9: 6 extents found
after filter: 19337216#28672#741376#shared 12673024#4096#991232#shared 276099072#131072#1228800#shared 251469824#4096#1359872#shared 277504000#126976#1605632#shared 287895552#61440#2523136#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
397
# /bin/btrfs inspect-internal logical-resolve -P 19337216 /mnt/scratch
inode 397 offset 741376 root 258
inode 397 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
397
# /bin/btrfs inspect-internal logical-resolve -P 12673024 /mnt/scratch
inode 397 offset 991232 root 258
inode 397 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
397
# /bin/btrfs inspect-internal logical-resolve -P 276099072 /mnt/scratch
inode 397 offset 1228800 root 258
inode 397 offset 1228800 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
397
# /bin/btrfs inspect-internal logical-resolve -P 251469824 /mnt/scratch
inode 397 offset 1359872 root 258
inode 397 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
397
# /bin/btrfs inspect-internal logical-resolve -P 277504000 /mnt/scratch
inode 397 offset 1605632 root 258
inode 397 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
397
# /bin/btrfs inspect-internal logical-resolve -P 287895552 /mnt/scratch
inode 397 offset 2523136 root 258
inode 397 offset 2523136 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/fb9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f97
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f97 is 1854058 (453 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      254..     275:      62745..     62766:     22:        254: shared
   1:      378..     401:      67647..     67670:     24:      62869: shared
   2:      446..     452:      67222..     67228:      7:      67715: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f97: 3 extents found
after filter: 257003520#90112#1040384#shared 277082112#98304#1548288#shared 275341312#28672#1826816#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f97
376
# /bin/btrfs inspect-internal logical-resolve -P 257003520 /mnt/scratch
inode 376 offset 1040384 root 258
inode 376 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 376 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f97
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f97
376
# /bin/btrfs inspect-internal logical-resolve -P 277082112 /mnt/scratch
inode 376 offset 1548288 root 258
inode 376 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 376 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f97
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f97
376
# /bin/btrfs inspect-internal logical-resolve -P 275341312 /mnt/scratch
inode 376 offset 1826816 root 258
inode 376 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 376 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f97
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f15
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f15 is 400259 (98 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..      22:      66372..     66391:     20:          3: shared
   1:       80..      97:       3512..      3529:     18:      66449: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f15: 2 extents found
after filter: 271859712#81920#12288#shared 14385152#73728#327680#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f15
276
# /bin/btrfs inspect-internal logical-resolve -P 271859712 /mnt/scratch
inode 276 offset 12288 root 258
inode 276 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f15
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f15
276
# /bin/btrfs inspect-internal logical-resolve -P 14385152 /mnt/scratch
inode 276 offset 327680 root 258
inode 276 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/f15
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/fa1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/fa1 is 259526 (64 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      26:       3486..      3489:      4:         23: last,shared
/mnt/scratch/snap1/p0/d4/da/fa1: 1 extent found
after filter: 14278656#16384#94208#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/fa1
383
# /bin/btrfs inspect-internal logical-resolve -P 14278656 /mnt/scratch
inode 383 offset 94208 root 258
inode 383 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/fa1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112 is 827392 (202 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       56..      85:      62989..     63018:     30:         56: shared
   1:      107..     115:      70259..     70267:      9:      63040: shared
   2:      147..     173:      66763..     66789:     27:      70299: shared
   3:      174..     174:      59778..     59778:      1:      66790: shared
   4:      199..     201:      59334..     59336:      3:      59803: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112: 5 extents found
after filter: 258002944#122880#229376#shared 287780864#36864#438272#shared 273461248#110592#602112#shared 244850688#4096#712704#shared 243032064#12288#815104#last,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512713393
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
340
# /bin/btrfs inspect-internal logical-resolve -P 258002944 /mnt/scratch
inode 340 offset 229376 root 258
inode 340 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
340
# /bin/btrfs inspect-internal logical-resolve -P 287780864 /mnt/scratch
inode 340 offset 438272 root 258
inode 340 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
340
# /bin/btrfs inspect-internal logical-resolve -P 273461248 /mnt/scratch
inode 340 offset 602112 root 258
inode 340 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
340
# /bin/btrfs inspect-internal logical-resolve -P 244850688 /mnt/scratch
inode 340 offset 712704 root 258
inode 340 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
340
# /bin/btrfs inspect-internal logical-resolve -P 243032064 /mnt/scratch
inode 340 offset 815104 root 258
inode 340 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 340 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f18c
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f112
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f125
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f125 is 1427004 (349 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       70..     141:      67115..     67186:     72:         70: unwritten,shared
   1:      177..     192:      64622..     64637:     16:      67222: last,shared
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f125: 2 extents found
after filter: 274903040#294912#286720#unwritten,shared 264691712#65536#724992#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f125
478
# /bin/btrfs inspect-internal logical-resolve -P 274903040 /mnt/scratch
inode 478 offset 286720 root 258
inode 478 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 478 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f125
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f125
478
# /bin/btrfs inspect-internal logical-resolve -P 264691712 /mnt/scratch
inode 478 offset 724992 root 258
inode 478 offset 724992 root 5
# /bin/btrfs inspect-internal inode-resolve 478 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f125
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f18d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f18d is 411001 (101 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       79..     100:      70705..     70726:     22:         79: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f18d: 1 extent found
after filter: 289607680#90112#323584#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f18d
556
# /bin/btrfs inspect-internal logical-resolve -P 289607680 /mnt/scratch
inode 556 offset 323584 root 258
inode 556 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 556 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da6/f18d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c is 1769773 (433 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      14:      66714..     66721:      8:          7: shared
   1:       15..      15:       3226..      3226:      1:      66722: shared
   2:      154..     160:      59577..     59583:      7:       3365: shared
   3:      212..     223:       3214..      3225:     12:      59635: shared
   4:      253..     261:      63628..     63636:      9:       3255: unwritten,shared
   5:      262..     262:      63637..     63637:      1:             shared
   6:      263..     282:      63638..     63657:     20:             unwritten,shared
   7:      283..     298:      63304..     63319:     16:      63658: shared
   8:      299..     359:      67317..     67377:     61:      63320: unwritten,shared
   9:      427..     432:      63384..     63389:      6:      67445: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c: 8 extents found
after filter: 273260544#32768#28672#shared 13213696#4096#61440#shared 244027392#28672#630784#shared 13164544#49152#868352#shared 260620288#36864#1036288#unwritten,shared 260657152#4096#1073152#shared 260661248#81920#1077248#unwritten,shared 259293184#65536#1159168#shared 275730432#249856#1224704#unwritten,shared 259620864#24576#1748992#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 273260544 /mnt/scratch
inode 346 offset 28672 root 258
inode 346 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 13213696 /mnt/scratch
inode 346 offset 61440 root 258
inode 346 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 244027392 /mnt/scratch
inode 346 offset 630784 root 258
inode 346 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 13164544 /mnt/scratch
inode 346 offset 868352 root 258
inode 346 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 260620288 /mnt/scratch
inode 346 offset 1036288 root 258
inode 346 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 260657152 /mnt/scratch
inode 346 offset 1073152 root 258
inode 346 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 260661248 /mnt/scratch
inode 346 offset 1077248 root 258
inode 346 offset 1077248 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 259293184 /mnt/scratch
inode 346 offset 1159168 root 258
inode 346 offset 1159168 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512585887
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 275730432 /mnt/scratch
inode 346 offset 1224704 root 258
inode 346 offset 1224704 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
346
# /bin/btrfs inspect-internal logical-resolve -P 259620864 /mnt/scratch
inode 346 offset 1748992 root 258
inode 346 offset 1748992 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/dd0/d68/f6c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8 is 1449984 (354 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      41:      63772..     63795:     24:         18: shared
   1:       78..      79:      60745..     60746:      2:      63832: shared
   2:       80..      80:      61004..     61004:      1:      60747: shared
   3:      294..     307:      63582..     63595:     14:      61218: shared
   4:      327..     353:      67059..     67085:     27:      63615: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8: 5 extents found
after filter: 261210112#98304#73728#shared 248811520#8192#319488#shared 249872384#4096#327680#shared 260431872#57344#1204224#shared 274673664#110592#1339392#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
295
# /bin/btrfs inspect-internal logical-resolve -P 261210112 /mnt/scratch
inode 295 offset 73728 root 258
inode 295 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
295
# /bin/btrfs inspect-internal logical-resolve -P 248811520 /mnt/scratch
inode 295 offset 319488 root 258
inode 295 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
295
# /bin/btrfs inspect-internal logical-resolve -P 249872384 /mnt/scratch
inode 295 offset 327680 root 258
inode 295 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
295
# /bin/btrfs inspect-internal logical-resolve -P 260431872 /mnt/scratch
inode 295 offset 1204224 root 258
inode 295 offset 1204224 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
295
# /bin/btrfs inspect-internal logical-resolve -P 274673664 /mnt/scratch
inode 295 offset 1339392 root 258
inode 295 offset 1339392 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/fe8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82 is 1757184 (429 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       39..      63:      61308..     61332:     25:         39: shared
   1:       64..      64:      58573..     58573:      1:      61333: shared
   2:      141..     152:      60989..     61000:     12:      58650: shared
   3:      311..     325:      64763..     64777:     15:      61159: shared
   4:      326..     326:      60744..     60744:      1:      64778: shared
   5:      407..     428:      66029..     66050:     22:      60825: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82: 6 extents found
after filter: 251117568#102400#159744#shared 239915008#4096#262144#shared 249810944#49152#577536#shared 265269248#61440#1273856#shared 248807424#4096#1335296#shared 270454784#90112#1667072#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
361
# /bin/btrfs inspect-internal logical-resolve -P 251117568 /mnt/scratch
inode 361 offset 159744 root 258
inode 361 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
361
# /bin/btrfs inspect-internal logical-resolve -P 239915008 /mnt/scratch
inode 361 offset 262144 root 258
inode 361 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
361
# /bin/btrfs inspect-internal logical-resolve -P 249810944 /mnt/scratch
inode 361 offset 577536 root 258
inode 361 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
361
# /bin/btrfs inspect-internal logical-resolve -P 265269248 /mnt/scratch
inode 361 offset 1273856 root 258
inode 361 offset 1273856 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
361
# /bin/btrfs inspect-internal logical-resolve -P 248807424 /mnt/scratch
inode 361 offset 1335296 root 258
inode 361 offset 1335296 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
361
# /bin/btrfs inspect-internal logical-resolve -P 270454784 /mnt/scratch
inode 361 offset 1667072 root 258
inode 361 offset 1667072 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d51/d86/d98/f82
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/f14c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/f14c is 415975 (102 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..      19:      68225..     68240:     16:          4: shared
   1:       90..     101:      66190..     66201:     12:      68311: last,shared,eof
/mnt/scratch/snap1/p0/d4/f14c: 2 extents found
after filter: 279449600#65536#16384#shared 271114240#49152#368640#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/f14c
504
# /bin/btrfs inspect-internal logical-resolve -P 279449600 /mnt/scratch
inode 504 offset 16384 root 258
inode 504 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 504 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f14c
# stat -c %i /mnt/scratch/snap1/p0/d4/f14c
504
# /bin/btrfs inspect-internal logical-resolve -P 271114240 /mnt/scratch
inode 504 offset 368640 root 258
inode 504 offset 368640 root 5
# /bin/btrfs inspect-internal inode-resolve 504 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f14c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d7f/f114
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d7f/f114 is 218513 (54 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       49..      53:      61350..     61354:      5:         49: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d7f/f114: 1 extent found
after filter: 251289600#20480#200704#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d7f/f114
466
# /bin/btrfs inspect-internal logical-resolve -P 251289600 /mnt/scratch
inode 466 offset 200704 root 258
inode 466 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 466 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d7f/f114
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a is 1919109 (469 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      55:      58581..     58623:     43:         13: unwritten,shared
   1:       56..      56:      58624..     58624:      1:             shared
   2:       57..      60:      58625..     58628:      4:             unwritten,shared
   3:       61..      68:      58629..     58636:      8:             shared
   4:       69..      72:      58569..     58572:      4:      58637: shared
   5:       73..      89:      58641..     58657:     17:      58573: shared
   6:       90..     151:      58658..     58719:     62:             unwritten,shared
   7:      152..     162:      58720..     58730:     11:             shared
   8:      163..     176:      58731..     58744:     14:             unwritten,shared
   9:      220..     220:       4303..      4303:      1:      58788: shared
  10:      260..     287:      68197..     68224:     28:       4343: shared
  11:      288..     306:      63835..     63853:     19:      68225: shared
  12:      307..     365:      60659..     60717:     59:      63854: unwritten,shared
  13:      367..     384:      65108..     65125:     18:      60719: shared
  14:      467..     468:      59584..     59585:      2:      65208: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a: 9 extents found
after filter: 239947776#176128#53248#unwritten,shared 240123904#4096#229376#shared 240128000#16384#233472#unwritten,shared 240144384#32768#249856#shared 239898624#16384#282624#shared 240193536#69632#299008#shared 240263168#253952#368640#unwritten,shared 240517120#45056#622592#shared 240562176#57344#667648#unwritten,shared 17625088#4096#901120#shared 279334912#114688#1064960#shared 261468160#77824#1179648#shared 248459264#241664#1257472#unwritten,shared 266682368#73728#1503232#shared 244056064#8192#1912832#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 239947776 /mnt/scratch
inode 308 offset 53248 root 258
inode 308 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 240123904 /mnt/scratch
inode 308 offset 229376 root 258
inode 308 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 240128000 /mnt/scratch
inode 308 offset 233472 root 258
inode 308 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 240144384 /mnt/scratch
inode 308 offset 249856 root 258
inode 308 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 239898624 /mnt/scratch
inode 308 offset 282624 root 258
inode 308 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 240193536 /mnt/scratch
inode 308 offset 299008 root 258
inode 308 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 240263168 /mnt/scratch
inode 308 offset 368640 root 258
inode 308 offset 368640 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512427091
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 240517120 /mnt/scratch
inode 308 offset 622592 root 258
inode 308 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 240562176 /mnt/scratch
inode 308 offset 667648 root 258
inode 308 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 17625088 /mnt/scratch
inode 308 offset 901120 root 258
inode 308 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 279334912 /mnt/scratch
inode 308 offset 1064960 root 258
inode 308 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 261468160 /mnt/scratch
inode 308 offset 1179648 root 258
inode 308 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 248459264 /mnt/scratch
inode 308 offset 1257472 root 258
inode 308 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 266682368 /mnt/scratch
inode 308 offset 1503232 root 258
inode 308 offset 1503232 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
308
# /bin/btrfs inspect-internal logical-resolve -P 244056064 /mnt/scratch
inode 308 offset 1912832 root 258
inode 308 offset 1912832 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/f3a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/f25
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/f25 is 3325938 (812 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..      29:      61621..     61649:     29:          1: shared
   1:       30..      35:       4330..      4335:      6:      61650: shared
   2:       80..     134:      70079..     70133:     55:       4380: unwritten,shared
   3:      135..     141:       3350..      3356:      7:      70134: shared
   4:      142..     143:      59688..     59689:      2:       3357: shared
   5:      144..     164:      62943..     62963:     21:      59690: shared
   6:      165..     219:      70134..     70188:     55:      62964: unwritten,shared
   7:      220..     220:       3088..      3088:      1:      70189: shared
   8:      221..     290:      70189..     70258:     70:       3089: unwritten,shared
   9:      291..     300:      68267..     68276:     10:      70259: shared
  10:      301..     301:      61233..     61233:      1:      68277: unwritten,shared
  11:      451..     460:      63728..     63737:     10:      61383: shared
  12:      461..     461:      59290..     59290:      1:      63738: shared
  13:      661..     661:       3894..      3894:      1:      59490: shared
  14:      802..     811:      70695..     70704:     10:       4035: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/f25: 15 extents found
after filter: 252399616#118784#4096#shared 17735680#24576#122880#shared 287043584#225280#327680#unwritten,shared 13721600#28672#552960#shared 244482048#8192#581632#shared 257814528#86016#589824#shared 287268864#225280#675840#unwritten,shared 12648448#4096#901120#shared 287494144#286720#905216#unwritten,shared 279621632#40960#1191936#shared 250810368#4096#1232896#unwritten,shared 261029888#40960#1847296#shared 242851840#4096#1888256#shared 15949824#4096#2707456#shared 289566720#40960#3284992#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 252399616 /mnt/scratch
inode 288 offset 4096 root 258
inode 288 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 17735680 /mnt/scratch
inode 288 offset 122880 root 258
inode 288 offset 122880 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 287043584 /mnt/scratch
inode 288 offset 327680 root 258
inode 288 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 13721600 /mnt/scratch
inode 288 offset 552960 root 258
inode 288 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 244482048 /mnt/scratch
inode 288 offset 581632 root 258
inode 288 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 257814528 /mnt/scratch
inode 288 offset 589824 root 258
inode 288 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 287268864 /mnt/scratch
inode 288 offset 675840 root 258
inode 288 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 12648448 /mnt/scratch
inode 288 offset 901120 root 258
inode 288 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 287494144 /mnt/scratch
inode 288 offset 905216 root 258
inode 288 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 279621632 /mnt/scratch
inode 288 offset 1191936 root 258
inode 288 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 250810368 /mnt/scratch
inode 288 offset 1232896 root 258
inode 288 offset 1232896 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 261029888 /mnt/scratch
inode 288 offset 1847296 root 258
inode 288 offset 1847296 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
background rm
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 242851840 /mnt/scratch
inode 288 offset 1888256 root 258
inode 288 offset 1888256 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 15949824 /mnt/scratch
inode 288 offset 2707456 root 258
inode 288 offset 2707456 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1512284604
# stat -c %i /mnt/scratch/snap1/p0/d4/da/f25
288
# /bin/btrfs inspect-internal logical-resolve -P 289566720 /mnt/scratch
inode 288 offset 3284992 root 258
inode 288 offset 3284992 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/f25
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f10d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f10d is 131072 (32 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      31:      70302..     70318:     17:         15: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f10d: 1 extent found
after filter: 287956992#69632#61440#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f10d
460
# /bin/btrfs inspect-internal logical-resolve -P 287956992 /mnt/scratch
inode 460 offset 61440 root 258
inode 460 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f10d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103 is 1311058 (321 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      210..     235:      67671..     67696:     26:        210: shared
   1:      265..     265:      62848..     62848:      1:      67726: shared
   2:      266..     281:      62505..     62520:     16:      62849: unwritten,shared
   3:      297..     320:      67268..     67291:     24:      62536: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103: 4 extents found
after filter: 277180416#106496#860160#shared 257425408#4096#1085440#shared 256020480#65536#1089536#unwritten,shared 275529728#98304#1216512#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103
451
# /bin/btrfs inspect-internal logical-resolve -P 277180416 /mnt/scratch
inode 451 offset 860160 root 258
inode 451 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 451 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103
451
# /bin/btrfs inspect-internal logical-resolve -P 257425408 /mnt/scratch
inode 451 offset 1085440 root 258
inode 451 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 451 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103
451
# /bin/btrfs inspect-internal logical-resolve -P 256020480 /mnt/scratch
inode 451 offset 1089536 root 258
inode 451 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 451 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103
451
# /bin/btrfs inspect-internal logical-resolve -P 275529728 /mnt/scratch
inode 451 offset 1216512 root 258
inode 451 offset 1216512 root 5
# /bin/btrfs inspect-internal inode-resolve 451 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/da2/d57/dde/f103
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/f60
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/f60 is 4861952 (1187 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       85..      90:      59632..     59637:      6:         85: shared
   1:       92..     112:       5016..      5036:     21:      59639: unwritten,shared
   2:      113..     113:       4548..      4548:      1:       5037: shared
   3:      114..     135:      64374..     64395:     22:       4549: unwritten,shared
   4:      136..     147:      63716..     63727:     12:      64396: shared
   5:      148..     154:      64396..     64402:      7:      63728: unwritten,shared
   6:      155..     173:       3539..      3557:     19:      64403: shared
   7:      174..     178:      59850..     59854:      5:       3558: unwritten,shared
   8:      179..     195:      63395..     63411:     17:      59855: shared
   9:      196..     220:      65063..     65087:     25:      63412: unwritten,shared
  10:      221..     239:      59638..     59656:     19:      65088: shared
  11:      240..     248:      65088..     65096:      9:      59657: unwritten,shared
  12:      249..     259:       4530..      4540:     11:      65097: unwritten,shared
  13:      260..     266:       4541..      4547:      7:             shared
  14:      267..     275:      65009..     65017:      9:       4548: shared
  15:      276..     304:      59538..     59566:     29:      65018: shared
  16:      305..     315:      65097..     65107:     11:      59567: unwritten,shared
  17:      341..     363:      65356..     65378:     23:      65133: unwritten,shared
  18:      364..     401:      61128..     61165:     38:      65379: unwritten,shared
  19:      402..     405:       3173..      3176:      4:      61166: shared
  20:      406..     406:       3746..      3746:      1:       3177: shared
  21:      407..     480:      61650..     61723:     74:       3747: unwritten,shared
  22:      481..     501:      67870..     67890:     21:      61724: shared
  23:      502..     513:      67635..     67646:     12:      67891: shared
  24:      623..     647:      63412..     63436:     25:      67756: shared
  25:      648..     648:      58580..     58580:      1:      63437: shared
  26:      724..     747:      63501..     63524:     24:      58656: shared
  27:      940..     950:      62521..     62531:     11:      63717: shared
  28:     1183..    1186:       3889..      3892:      4:      62764: last,shared,eof
/mnt/scratch/snap1/p0/d4/f60: 28 extents found
after filter: 244252672#24576#348160#shared 20545536#86016#376832#unwritten,shared 18628608#4096#462848#shared 263675904#90112#466944#unwritten,shared 260980736#49152#557056#shared 263766016#28672#606208#unwritten,shared 14495744#77824#634880#shared 245145600#20480#712704#unwritten,shared 259665920#69632#733184#shared 266498048#102400#802816#unwritten,shared 244277248#77824#905216#shared 266600448#36864#983040#unwritten,shared 18554880#45056#1019904#unwritten,shared 18599936#28672#1064960#shared 266276864#36864#1093632#shared 243867648#118784#1130496#shared 266637312#45056#1249280#unwritten,shared 267698176#94208#1396736#unwritten,shared 250380288#155648#1490944#unwritten,shared 12996608#16384#1646592#shared 15343616#4096#1662976#shared 252518400#303104#1667072#unwritten,shared 277995520#86016#1970176#shared 277032960#49152#2056192#shared 259735552#102400#2551808#shared 239943680#4096#2654208#shared 260100096#98304#2965504#shared 256086016#45056#3850240#shared 15929344#16384#4845568#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 244252672 /mnt/scratch
inode 309 offset 348160 root 258
inode 309 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 20545536 /mnt/scratch
inode 309 offset 376832 root 258
inode 309 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 18628608 /mnt/scratch
inode 309 offset 462848 root 258
inode 309 offset 462848 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 263675904 /mnt/scratch
inode 309 offset 466944 root 258
inode 309 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 260980736 /mnt/scratch
inode 309 offset 557056 root 258
inode 309 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 263766016 /mnt/scratch
inode 309 offset 606208 root 258
inode 309 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 14495744 /mnt/scratch
inode 309 offset 634880 root 258
inode 309 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 245145600 /mnt/scratch
inode 309 offset 712704 root 258
inode 309 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 259665920 /mnt/scratch
inode 309 offset 733184 root 258
inode 309 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 266498048 /mnt/scratch
inode 309 offset 802816 root 258
inode 309 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 244277248 /mnt/scratch
inode 309 offset 905216 root 258
inode 309 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 266600448 /mnt/scratch
background rm
inode 309 offset 983040 root 258
inode 309 offset 983040 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 18554880 /mnt/scratch
inode 309 offset 1019904 root 258
inode 309 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 18599936 /mnt/scratch
inode 309 offset 1064960 root 258
inode 309 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
seed = 1512212908
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 266276864 /mnt/scratch
inode 309 offset 1093632 root 258
inode 309 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 243867648 /mnt/scratch
inode 309 offset 1130496 root 258
inode 309 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 266637312 /mnt/scratch
inode 309 offset 1249280 root 258
inode 309 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 267698176 /mnt/scratch
inode 309 offset 1396736 root 258
inode 309 offset 1396736 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 250380288 /mnt/scratch
inode 309 offset 1490944 root 258
inode 309 offset 1490944 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 12996608 /mnt/scratch
inode 309 offset 1646592 root 258
inode 309 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 15343616 /mnt/scratch
inode 309 offset 1662976 root 258
inode 309 offset 1662976 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 252518400 /mnt/scratch
inode 309 offset 1667072 root 258
inode 309 offset 1667072 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 277995520 /mnt/scratch
inode 309 offset 1970176 root 258
inode 309 offset 1970176 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 277032960 /mnt/scratch
inode 309 offset 2056192 root 258
inode 309 offset 2056192 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 259735552 /mnt/scratch
inode 309 offset 2551808 root 258
inode 309 offset 2551808 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 239943680 /mnt/scratch
inode 309 offset 2654208 root 258
inode 309 offset 2654208 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 260100096 /mnt/scratch
inode 309 offset 2965504 root 258
inode 309 offset 2965504 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 256086016 /mnt/scratch
inode 309 offset 3850240 root 258
inode 309 offset 3850240 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# stat -c %i /mnt/scratch/snap1/p0/d4/f60
309
# /bin/btrfs inspect-internal logical-resolve -P 15929344 /mnt/scratch
inode 309 offset 4845568 root 258
inode 309 offset 4845568 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/f60
/mnt/scratch/snap1/p0/d4/da/f3c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4 is 2736128 (668 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      137..     158:      61765..     61786:     22:        137: shared
   1:      159..     159:      58578..     58578:      1:      61787: shared
   2:      269..     269:      61231..     61231:      1:      58688: shared
   3:      402..     423:      68354..     68375:     22:      61364: shared
   4:      424..     424:      58821..     58821:      1:      68376: shared
   5:      656..     667:      61179..     61190:     12:      59053: last,shared,eof
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4: 6 extents found
after filter: 252989440#90112#561152#shared 239935488#4096#651264#shared 250802176#4096#1101824#shared 279977984#90112#1646592#shared 240930816#4096#1736704#shared 250589184#49152#2686976#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
413
# /bin/btrfs inspect-internal logical-resolve -P 252989440 /mnt/scratch
inode 413 offset 561152 root 258
inode 413 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
413
# /bin/btrfs inspect-internal logical-resolve -P 239935488 /mnt/scratch
inode 413 offset 651264 root 258
inode 413 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
413
# /bin/btrfs inspect-internal logical-resolve -P 250802176 /mnt/scratch
inode 413 offset 1101824 root 258
inode 413 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
413
# /bin/btrfs inspect-internal logical-resolve -P 279977984 /mnt/scratch
inode 413 offset 1646592 root 258
inode 413 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
413
# /bin/btrfs inspect-internal logical-resolve -P 240930816 /mnt/scratch
inode 413 offset 1736704 root 258
inode 413 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
# stat -c %i /mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
413
# /bin/btrfs inspect-internal logical-resolve -P 250589184 /mnt/scratch
inode 413 offset 2686976 root 258
inode 413 offset 2686976 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d4/da/d50/d5b/d70/df/d63/fd4
background rm
